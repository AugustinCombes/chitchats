__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function t(t,n){let s=t[n];return null==s&&(s=new Set,t[n]=s),s}e.default=class{#e={};addListener(n,s,l){if('function'!=typeof s)throw new TypeError('EventEmitter.addListener(...): 2nd argument must be a function.');const o=t(this.#e,n),u={context:l,listener:s,remove(){o.delete(u)}};return o.add(u),u}emit(t,...n){const s=this.#e[t];if(null!=s)for(const t of Array.from(s))t.listener.apply(t.context,n)}removeAllListeners(t){null==t?this.#e={}:delete this.#e[t]}listenerCount(t){const n=this.#e[t];return null==n?0:n.size}}}),884,[]);
__d((function(g,_r,i,a,m,e,d){e.formatArgs=function(C){if(C[0]=(this.useColors?'%c':'')+this.namespace+(this.useColors?' %c':' ')+C[0]+(this.useColors?'%c ':' ')+'+'+m.exports.humanize(this.diff),!this.useColors)return;const t='color: '+this.color;C.splice(1,0,t,'color: inherit');let o=0,n=0;C[0].replace(/%[a-zA-Z%]/g,(C=>{'%%'!==C&&(o++,'%c'===C&&(n=o))})),C.splice(n,0,t)},e.save=function(C){try{C?e.storage.setItem('debug',C):e.storage.removeItem('debug')}catch(C){}},e.load=function(){let C;try{C=e.storage.getItem('debug')}catch(C){}!C&&'undefined'!=typeof process&&'env'in process&&(C=process.env.DEBUG);return C},e.useColors=function(){if(window.process&&('renderer'===window.process.type||window.process.__nwjs))return!0;if('undefined'!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return'undefined'!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||window.console&&(window.console.firebug||window.console.exception&&window.console.table)||'undefined'!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||'undefined'!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=(function(){try{return localStorage}catch(C){}})(),e.destroy=(()=>{let C=!1;return()=>{C||(C=!0,console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'))}})(),e.colors=['#0000CC','#0000FF','#0033CC','#0033FF','#0066CC','#0066FF','#0099CC','#0099FF','#00CC00','#00CC33','#00CC66','#00CC99','#00CCCC','#00CCFF','#3300CC','#3300FF','#3333CC','#3333FF','#3366CC','#3366FF','#3399CC','#3399FF','#33CC00','#33CC33','#33CC66','#33CC99','#33CCCC','#33CCFF','#6600CC','#6600FF','#6633CC','#6633FF','#66CC00','#66CC33','#9900CC','#9900FF','#9933CC','#9933FF','#99CC00','#99CC33','#CC0000','#CC0033','#CC0066','#CC0099','#CC00CC','#CC00FF','#CC3300','#CC3333','#CC3366','#CC3399','#CC33CC','#CC33FF','#CC6600','#CC6633','#CC9900','#CC9933','#CCCC00','#CCCC33','#FF0000','#FF0033','#FF0066','#FF0099','#FF00CC','#FF00FF','#FF3300','#FF3333','#FF3366','#FF3399','#FF33CC','#FF33FF','#FF6600','#FF6633','#FF9900','#FF9933','#FFCC00','#FFCC33'],e.log=console.debug||console.log||(()=>{}),m.exports=_r(d[0])(e);const{formatters:C}=m.exports;C.j=function(C){try{return JSON.stringify(C)}catch(C){return'[UnexpectedJSONParseError]: '+C.message}}}),887,[888]);
__d((function(g,r,_i,a,m,e,d){m.exports=function(n){function t(n){let s,l,i,c=null;function u(...n){if(!u.enabled)return;const o=u,l=Number(new Date),i=l-(s||l);o.diff=i,o.prev=s,o.curr=l,s=l,n[0]=t.coerce(n[0]),'string'!=typeof n[0]&&n.unshift('%O');let c=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,((s,l)=>{if('%%'===s)return'%';c++;const i=t.formatters[l];if('function'==typeof i){const t=n[c];s=i.call(o,t),n.splice(c,1),c--}return s})),t.formatArgs.call(o,n);(o.log||t.log).apply(o,n)}return u.namespace=n,u.useColors=t.useColors(),u.color=t.selectColor(n),u.extend=o,u.destroy=t.destroy,Object.defineProperty(u,'enabled',{enumerable:!0,configurable:!1,get:()=>null!==c?c:(l!==t.namespaces&&(l=t.namespaces,i=t.enabled(n)),i),set:n=>{c=n}}),'function'==typeof t.init&&t.init(u),u}function o(n,o){const s=t(this.namespace+(void 0===o?':':o)+n);return s.log=this.log,s}function s(n){return n.toString().substring(2,n.toString().length-2).replace(/\.\*\?$/,'*')}return t.debug=t,t.default=t,t.coerce=function(n){if(n instanceof Error)return n.stack||n.message;return n},t.disable=function(){const n=[...t.names.map(s),...t.skips.map(s).map((n=>'-'+n))].join(',');return t.enable(''),n},t.enable=function(n){let o;t.save(n),t.namespaces=n,t.names=[],t.skips=[];const s=('string'==typeof n?n:'').split(/[\s,]+/),l=s.length;for(o=0;o<l;o++)s[o]&&('-'===(n=s[o].replace(/\*/g,'.*?'))[0]?t.skips.push(new RegExp('^'+n.slice(1)+'$')):t.names.push(new RegExp('^'+n+'$')))},t.enabled=function(n){if('*'===n[n.length-1])return!0;let o,s;for(o=0,s=t.skips.length;o<s;o++)if(t.skips[o].test(n))return!1;for(o=0,s=t.names.length;o<s;o++)if(t.names[o].test(n))return!0;return!1},t.humanize=r(d[0]),t.destroy=function(){console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.')},Object.keys(n).forEach((o=>{t[o]=n[o]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(n){let o=0;for(let t=0;t<n.length;t++)o=(o<<5)-o+n.charCodeAt(t),o|=0;return t.colors[Math.abs(o)%t.colors.length]},t.enable(t.load()),t}}),888,[889]);
__d((function(g,r,i,a,_m,e,_d){var s=1e3,n=6e4,c=36e5,t=864e5;function u(u){if(!((u=String(u)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(o){var d=parseFloat(o[1]);switch((o[2]||'ms').toLowerCase()){case'years':case'year':case'yrs':case'yr':case'y':return 315576e5*d;case'weeks':case'week':case'w':return 6048e5*d;case'days':case'day':case'd':return d*t;case'hours':case'hour':case'hrs':case'hr':case'h':return d*c;case'minutes':case'minute':case'mins':case'min':case'm':return d*n;case'seconds':case'second':case'secs':case'sec':case's':return d*s;case'milliseconds':case'millisecond':case'msecs':case'msec':case'ms':return d;default:return}}}}function o(u){var o=Math.abs(u);return o>=t?Math.round(u/t)+'d':o>=c?Math.round(u/c)+'h':o>=n?Math.round(u/n)+'m':o>=s?Math.round(u/s)+'s':u+'ms'}function d(u){var o=Math.abs(u);return o>=t?m(u,o,t,'day'):o>=c?m(u,o,c,'hour'):o>=n?m(u,o,n,'minute'):o>=s?m(u,o,s,'second'):u+' ms'}function m(s,n,c,t){var u=n>=1.5*c;return Math.round(s/c)+' '+t+(u?'s':'')}_m.exports=function(s,n){n=n||{};var c=typeof s;if('string'===c&&s.length>0)return u(s);if('number'===c&&isFinite(s))return n.long?d(s):o(s);throw new Error('val is not a non-empty string or a valid number. val='+JSON.stringify(s))}}),889,[]);
__d((function(g,r,_i,a,m,e,d){'use strict';e.byteLength=function(t){var n=c(t),o=n[0],h=n[1];return 3*(o+h)/4-h},e.toByteArray=function(t){var h,u,f=c(t),A=f[0],C=f[1],y=new o(i(t,A,C)),s=0,v=C>0?A-4:A;for(u=0;u<v;u+=4)h=n[t.charCodeAt(u)]<<18|n[t.charCodeAt(u+1)]<<12|n[t.charCodeAt(u+2)]<<6|n[t.charCodeAt(u+3)],y[s++]=h>>16&255,y[s++]=h>>8&255,y[s++]=255&h;2===C&&(h=n[t.charCodeAt(u)]<<2|n[t.charCodeAt(u+1)]>>4,y[s++]=255&h);1===C&&(h=n[t.charCodeAt(u)]<<10|n[t.charCodeAt(u+1)]<<4|n[t.charCodeAt(u+2)]>>2,y[s++]=h>>8&255,y[s++]=255&h);return y},e.fromByteArray=function(n){for(var o,h=n.length,u=h%3,c=[],i=16383,A=0,C=h-u;A<C;A+=i)c.push(f(n,A,A+i>C?C:A+i));1===u?(o=n[h-1],c.push(t[o>>2]+t[o<<4&63]+'==')):2===u&&(o=(n[h-2]<<8)+n[h-1],c.push(t[o>>10]+t[o>>4&63]+t[o<<2&63]+'='));return c.join('')};for(var t=[],n=[],o='undefined'!=typeof Uint8Array?Uint8Array:Array,h='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',u=0;u<64;++u)t[u]=h[u],n[h.charCodeAt(u)]=u;function c(t){var n=t.length;if(n%4>0)throw new Error('Invalid string. Length must be a multiple of 4');var o=t.indexOf('=');return-1===o&&(o=n),[o,o===n?0:4-o%4]}function i(t,n,o){return 3*(n+o)/4-o}function f(n,o,h){for(var u,c,i=[],f=o;f<h;f+=3)u=(n[f]<<16&16711680)+(n[f+1]<<8&65280)+(255&n[f+2]),i.push(t[(c=u)>>18&63]+t[c>>12&63]+t[c>>6&63]+t[63&c]);return i.join('')}n['-'.charCodeAt(0)]=62,n['_'.charCodeAt(0)]=63}),909,[]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var t={setupURLPolyfill:!0};e.setupURLPolyfill=function(){g.REACT_NATIVE_URL_POLYFILL=`${o.name}@${o.version}`,(0,l.polyfillGlobal)('URL',(()=>r(d[5]).URL)),(0,l.polyfillGlobal)('URLSearchParams',(()=>r(d[6]).URLSearchParams))},r(d[0]);var l=r(d[1]),o=r(d[2]),n=r(d[3]);Object.keys(n).forEach((function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(t,l)||l in e&&e[l]===n[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return n[l]}}))}));var c=r(d[4]);Object.keys(c).forEach((function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(t,l)||l in e&&e[l]===c[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return c[l]}}))}))}),1128,[1129,1130,1132,1133,1148,1133,1148]);
__d((function(g,r,i,a,m,e,d){var n=r(d[0])(r(d[1]));parseInt(n.default.Version,10)}),1129,[20,121]);
__d((function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.polyfillGlobal=function(l,o){t(g,l,o)},e.polyfillObjectProperty=t;const l=r(d[0]).default;function t(t,o,n){const c=Object.getOwnPropertyDescriptor(t,o),{enumerable:u,writable:b,configurable:f=!1}=c||{};!c||f?l(t,o,{get:n,enumerable:!1!==u,writable:!1!==b}):console.error('Failed to set polyfill. '+o+' is not configurable.')}}),1130,[1131]);
__d((function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t,n,u){const{get:l}=u,o=!1!==u.enumerable,c=!1!==u.writable;let f,b=!1;function s(u){f=u,b=!0,Object.defineProperty(t,n,{value:u,configurable:!0,enumerable:o,writable:c})}Object.defineProperty(t,n,{get:function(){return b||(b=!0,s(l())),f},set:s,configurable:!0,enumerable:o})}}),1131,[]);
__d((function(e,t,i,r,a,n,s){a.exports={name:"react-native-url-polyfill",version:"1.3.0",description:"A lightweight and trustworthy URL polyfill for React Native",keywords:["URL","URLSearchParams","polyfill","react native","whatwg-url"],bugs:{url:"https://github.com/charpeni/react-native-url-polyfill/issues"},homepage:"https://github.com/charpeni/react-native-url-polyfill",readme:"https://github.com/charpeni/react-native-url-polyfill#readme",repository:{type:"git",url:"https://github.com/charpeni/react-native-url-polyfill.git"},main:"index.js",types:"index.d.ts",scripts:{test:"jest",lint:"eslint .","bundle-size":"node scripts/bundle-size"},author:"Nicolas Charpentier <nicolas.charpentier079@gmail.com>",license:"MIT",dependencies:{"whatwg-url-without-unicode":"8.0.0-3"},devDependencies:{"@react-native-community/eslint-config":"^2.0.0",chalk:"^4.0.0",eslint:"^7.1.0","eslint-plugin-prettier":"^3.1.3",execa:"^5.0.0",filesize:"^6.1.0",husky:">=1",jest:"^26.0.1","lint-staged":">=8","metro-react-native-babel-preset":"^0.65.0",ora:"^5.3.0","prepend-file":"^1.3.1",prettier:"^2.0.5",react:"16.13.1","react-native":"0.63.4",rmfr:"^2.0.0","source-map-explorer":"^2.4.2",tmp:"^0.2.1",typescript:"^4.1.3",uuid:"^8.1.0"},peerDependencies:{"react-native":"*"},jest:{preset:"react-native",testPathIgnorePatterns:["/node_modules/","./detox/"]},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.js":["eslint --fix","git add"]}}}),1132,[]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.URL=void 0;var o=t(r(d[1])),n=r(d[2]);let f=null;const{BlobModule:l}=o.default;l&&'string'==typeof l.BLOB_URI_SCHEME&&(f=l.BLOB_URI_SCHEME+':','string'==typeof l.BLOB_URI_HOST&&(f+=`//${l.BLOB_URI_HOST}/`)),n.URL.createObjectURL=function(t){if(null===f)throw new Error('Cannot create URL for blob!');return`${f}${t.data.blobId}?offset=${t.data.offset}&size=${t.size}`},n.URL.revokeObjectURL=function(t){};e.URL=n.URL}),1133,[20,244,1134]);
__d((function(g,r,i,a,m,e,d){"use strict";const{URL:s,URLSearchParams:t}=r(d[0]),n=r(d[1]),U=r(d[2]),c={};s.install(c),t.install(c),e.URL=c.URL,e.URLSearchParams=c.URLSearchParams,e.parseURL=n.parseURL,e.basicURLParse=n.basicURLParse,e.serializeURL=n.serializeURL,e.serializeHost=n.serializeHost,e.serializeInteger=n.serializeInteger,e.serializeURLOrigin=n.serializeURLOrigin,e.setTheUsername=n.setTheUsername,e.setThePassword=n.setThePassword,e.cannotHaveAUsernamePasswordPort=n.cannotHaveAUsernamePasswordPort,e.percentDecode=U.percentDecode}),1134,[1135,1140,1145]);
__d((function(g,r,i,a,m,e,d){"use strict";const c=r(d[0]),s=r(d[1]);e.URL=c,e.URLSearchParams=s}),1135,[1136,1146]);
__d((function(g,r,i,a,m,e,d){"use strict";const t=r(d[0]),o=r(d[1]),s=o.implSymbol,n=o.ctorRegistrySymbol,h={_mixedIntoPredicates:[],is(t){if(t){if(o.hasOwn(t,s)&&t[s]instanceof l.implementation)return!0;for(const o of m.exports._mixedIntoPredicates)if(o(t))return!0}return!1},isImpl(t){if(t){if(t instanceof l.implementation)return!0;const s=o.wrapperForImpl(t);for(const t of m.exports._mixedIntoPredicates)if(t(s))return!0}return!1},convert(t,{context:s="The provided value"}={}){if(m.exports.is(t))return o.implForWrapper(t);throw new TypeError(`${s} is not of type 'URL'.`)},create(t,o,s){if(void 0===t[n])throw new Error("Internal error: invalid global object");const l=t[n].URL;if(void 0===l)throw new Error("Internal error: constructor URL is not installed on the passed global object");let p=Object.create(l.prototype);return p=h.setup(p,t,o,s),p},createImpl(t,s,n){const l=h.create(t,s,n);return o.implForWrapper(l)},_internalSetup(t){},setup:(t,n,p=[],c={})=>(c.wrapper=t,h._internalSetup(t),Object.defineProperty(t,s,{value:new l.implementation(n,p,c),configurable:!0}),t[s][o.wrapperSymbol]=t,l.init&&l.init(t[s],c),t),install(l){class p{constructor(o){if(arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");const s=[];{let o=arguments[0];o=t.USVString(o,{context:"Failed to construct 'URL': parameter 1"}),s.push(o)}{let o=arguments[1];void 0!==o&&(o=t.USVString(o,{context:"Failed to construct 'URL': parameter 2"})),s.push(o)}return h.setup(Object.create(this.constructor.prototype),l,s)}toJSON(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[s].toJSON()}get href(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[s].href}set href(o){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");o=t.USVString(o,{context:"Failed to set the 'href' property on 'URL': The provided value"}),this[s].href=o}toString(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[s].href}get origin(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[s].origin}get protocol(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[s].protocol}set protocol(o){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");o=t.USVString(o,{context:"Failed to set the 'protocol' property on 'URL': The provided value"}),this[s].protocol=o}get username(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[s].username}set username(o){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");o=t.USVString(o,{context:"Failed to set the 'username' property on 'URL': The provided value"}),this[s].username=o}get password(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[s].password}set password(o){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");o=t.USVString(o,{context:"Failed to set the 'password' property on 'URL': The provided value"}),this[s].password=o}get host(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[s].host}set host(o){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");o=t.USVString(o,{context:"Failed to set the 'host' property on 'URL': The provided value"}),this[s].host=o}get hostname(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[s].hostname}set hostname(o){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");o=t.USVString(o,{context:"Failed to set the 'hostname' property on 'URL': The provided value"}),this[s].hostname=o}get port(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[s].port}set port(o){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");o=t.USVString(o,{context:"Failed to set the 'port' property on 'URL': The provided value"}),this[s].port=o}get pathname(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[s].pathname}set pathname(o){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");o=t.USVString(o,{context:"Failed to set the 'pathname' property on 'URL': The provided value"}),this[s].pathname=o}get search(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[s].search}set search(o){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");o=t.USVString(o,{context:"Failed to set the 'search' property on 'URL': The provided value"}),this[s].search=o}get searchParams(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return o.getSameObject(this,"searchParams",(()=>o.tryWrapperForImpl(this[s].searchParams)))}get hash(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[s].hash}set hash(o){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");o=t.USVString(o,{context:"Failed to set the 'hash' property on 'URL': The provided value"}),this[s].hash=o}}Object.defineProperties(p.prototype,{toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0},[Symbol.toStringTag]:{value:"URL",configurable:!0}}),void 0===l[n]&&(l[n]=Object.create(null)),l[n].URL=p,Object.defineProperty(l,"URL",{configurable:!0,writable:!0,value:p})}};m.exports=h;const l=r(d[2])}),1136,[1137,1138,1139]);
__d((function(g,r,_i,_a,m,_e,_d){"use strict";function n(n,t){return`${t&&t.context?t.context:"Value"} ${n}.`}function t(n){if(null===n)return"Null";switch(typeof n){case"undefined":return"Undefined";case"boolean":return"Boolean";case"number":return"Number";case"string":return"String";case"symbol":return"Symbol";default:return"Object"}}function e(n){return a(n>0&&n%1==.5&&!(1&n)||n<0&&n%1==-.5&&!(1&~n)?Math.floor(n):Math.round(n))}function o(n){return a(Math.trunc(n))}function i(n){return n<0?-1:1}function u(n,t){const e=n%t;return i(t)!==i(e)?e+t:e}function a(n){return 0===n?0:n}function s(t,i){const s=!i.unsigned;let f,c;64===t?(c=Math.pow(2,53)-1,f=s?1-Math.pow(2,53):0):s?(f=-Math.pow(2,t-1),c=Math.pow(2,t-1)-1):(f=0,c=Math.pow(2,t)-1);const l=Math.pow(2,t),y=Math.pow(2,t-1);return(t,i)=>{void 0===i&&(i={});let w=+t;if(w=a(w),i.enforceRange){if(!Number.isFinite(w))throw new TypeError(n("is not a finite number",i));if(w=o(w),w<f||w>c)throw new TypeError(n(`is outside the accepted range of ${f} to ${c}, inclusive`,i));return w}return!Number.isNaN(w)&&i.clamp?(w=Math.min(Math.max(w,f),c),w=e(w),w):Number.isFinite(w)&&0!==w?(w=o(w),w>=f&&w<=c?w:(w=u(w,l),s&&w>=y?w-l:w)):0}}function f(t,e){if("function"!=typeof t)throw new TypeError(n("is not a function",e));return t}_e.any=n=>n,_e.void=function(){},_e.boolean=function(n){return!!n},_e.byte=s(8,{unsigned:!1}),_e.octet=s(8,{unsigned:!0}),_e.short=s(16,{unsigned:!1}),_e["unsigned short"]=s(16,{unsigned:!0}),_e.long=s(32,{unsigned:!1}),_e["unsigned long"]=s(32,{unsigned:!0}),_e["long long"]=s(64,{unsigned:!1}),_e["unsigned long long"]=s(64,{unsigned:!0}),_e.double=(t,e)=>{const o=+t;if(!Number.isFinite(o))throw new TypeError(n("is not a finite floating-point value",e));return o},_e["unrestricted double"]=n=>+n,_e.float=(t,e)=>{const o=+t;if(!Number.isFinite(o))throw new TypeError(n("is not a finite floating-point value",e));if(Object.is(o,-0))return o;const i=Math.fround(o);if(!Number.isFinite(i))throw new TypeError(n("is outside the range of a single-precision floating-point value",e));return i},_e["unrestricted float"]=n=>{const t=+n;return isNaN(t)||Object.is(t,-0)?t:Math.fround(t)},_e.DOMString=function(t,e){if(void 0===e&&(e={}),e.treatNullAsEmptyString&&null===t)return"";if("symbol"==typeof t)throw new TypeError(n("is a symbol, which cannot be converted to a string",e));return String(t)},_e.ByteString=(t,e)=>{const o=_e.DOMString(t,e);let i;for(let t=0;void 0!==(i=o.codePointAt(t));++t)if(i>255)throw new TypeError(n("is not a valid ByteString",e));return o},_e.USVString=(n,t)=>{const e=_e.DOMString(n,t),o=e.length,i=[];for(let n=0;n<o;++n){const t=e.charCodeAt(n);if(t<55296||t>57343)i.push(String.fromCodePoint(t));else if(56320<=t&&t<=57343)i.push(String.fromCodePoint(65533));else if(n===o-1)i.push(String.fromCodePoint(65533));else{const o=e.charCodeAt(n+1);if(56320<=o&&o<=57343){const e=1023&t,u=1023&o;i.push(String.fromCodePoint(65536+1024*e+u)),++n}else i.push(String.fromCodePoint(65533))}}return i.join("")},_e.object=(e,o)=>{if("Object"!==t(e))throw new TypeError(n("is not an object",o));return e};const c=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;function l(n){try{return c.call(n),!0}catch(n){return!1}}_e.ArrayBuffer=(t,e)=>{if(!l(t))throw new TypeError(n("is not a view on an ArrayBuffer object",e));return t};const y=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;_e.DataView=(t,e)=>{try{return y.call(t),t}catch(t){throw new TypeError(n("is not a view on an DataView object",e))}},[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach((t=>{const e=t.name,o=/^[AEIOU]/.test(e)?"an":"a";_e[e]=(t,i)=>{if(!ArrayBuffer.isView(t)||t.constructor.name!==e)throw new TypeError(n(`is not ${o} ${e} object`,i));return t}})),_e.ArrayBufferView=(t,e)=>{if(!ArrayBuffer.isView(t))throw new TypeError(n("is not a view on an ArrayBuffer object",e));return t},_e.BufferSource=(t,e)=>{if(!ArrayBuffer.isView(t)&&!l(t))throw new TypeError(n("is not an ArrayBuffer object or a view on one",e));return t},_e.DOMTimeStamp=_e["unsigned long long"],_e.Function=f,_e.VoidFunction=f}),1137,[]);
__d((function(g,r,_i,a,m,_e,d){"use strict";const e=Symbol("wrapper"),t=Symbol("impl"),o=Symbol("SameObject caches"),n=Symbol.for("[webidl2js]  constructor registry");function p(t){return t?t[e]:null}function y(e){return e?e[t]:null}const i=Symbol("internal"),s=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));const l=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;const c=Symbol("supports property index"),u=Symbol("supported property indices"),b=Symbol("supports property name"),S=Symbol("supported property names"),f=Symbol("indexed property get"),x=Symbol("indexed property set new"),O=Symbol("indexed property set existing"),w=Symbol("named property get"),j=Symbol("named property set new"),P=Symbol("named property set existing"),I=Symbol("named property delete");m.exports={isObject:function(e){return"object"==typeof e&&null!==e||"function"==typeof e},hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},wrapperSymbol:e,implSymbol:t,getSameObject:function(e,t,n){return e[o]||(e[o]=Object.create(null)),t in e[o]||(e[o][t]=n()),e[o][t]},ctorRegistrySymbol:n,wrapperForImpl:p,implForWrapper:y,tryWrapperForImpl:function(e){const t=p(e);return t||e},tryImplForWrapper:function(e){const t=y(e);return t||e},iterInternalSymbol:i,IteratorPrototype:s,isArrayBuffer:function(e){try{return l.call(e),!0}catch(e){return!1}},isArrayIndexPropName:function(e){if("string"!=typeof e)return!1;const t=e>>>0;return t!==Math.pow(2,32)-1&&e===`${t}`},supportsPropertyIndex:c,supportedPropertyIndices:u,supportsPropertyName:b,supportedPropertyNames:S,indexedGet:f,indexedSetNew:x,indexedSetExisting:O,namedGet:w,namedSetNew:j,namedSetExisting:P,namedDelete:I}}),1138,[]);
__d((function(g,r,i,a,m,e,d){"use strict";const t=r(d[0]),s=r(d[1]),l=r(d[2]);e.implementation=class{constructor(s,u){const n=u[0],h=u[1];let o=null;if(void 0!==h&&(o=t.basicURLParse(h),null===o))throw new TypeError(`Invalid base URL: ${h}`);const _=t.basicURLParse(n,{baseURL:o});if(null===_)throw new TypeError(`Invalid URL: ${n}`);const c=null!==_.query?_.query:"";this._url=_,this._query=l.createImpl(s,[c],{doNotStripQMark:!0}),this._query._url=this}get href(){return t.serializeURL(this._url)}set href(l){const u=t.basicURLParse(l);if(null===u)throw new TypeError(`Invalid URL: ${l}`);this._url=u,this._query._list.splice(0);const{query:n}=u;null!==n&&(this._query._list=s.parseUrlencoded(n))}get origin(){return t.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(s){t.basicURLParse(s+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(s){t.cannotHaveAUsernamePasswordPort(this._url)||t.setTheUsername(this._url,s)}get password(){return this._url.password}set password(s){t.cannotHaveAUsernamePasswordPort(this._url)||t.setThePassword(this._url,s)}get host(){const s=this._url;return null===s.host?"":null===s.port?t.serializeHost(s.host):t.serializeHost(s.host)+":"+t.serializeInteger(s.port)}set host(s){this._url.cannotBeABaseURL||t.basicURLParse(s,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":t.serializeHost(this._url.host)}set hostname(s){this._url.cannotBeABaseURL||t.basicURLParse(s,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":t.serializeInteger(this._url.port)}set port(s){t.cannotHaveAUsernamePasswordPort(this._url)||(""===s?this._url.port=null:t.basicURLParse(s,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")}set pathname(s){this._url.cannotBeABaseURL||(this._url.path=[],t.basicURLParse(s,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query}set search(l){const u=this._url;if(""===l)return u.query=null,void(this._query._list=[]);const n="?"===l[0]?l.substring(1):l;u.query="",t.basicURLParse(n,{url:u,stateOverride:"query"}),this._query._list=s.parseUrlencoded(n)}get searchParams(){return this._query}get hash(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment}set hash(s){if(""===s)return void(this._url.fragment=null);const l="#"===s[0]?s.substring(1):s;this._url.fragment="",t.basicURLParse(l,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}}),1139,[1140,1145,1146]);
__d((function(g,r,_i,a,m,_e,d){"use strict";const{Buffer:t}=r(d[0]),s=r(d[1]),e=r(d[2]),{percentEncode:i,percentDecode:h}=r(d[3]),n={ftp:21,file:null,http:80,https:443,ws:80,wss:443},u=Symbol("failure");function o(t){return s.ucs2.decode(t).length}function l(t,s){const e=t[s];return isNaN(e)?void 0:String.fromCodePoint(e)}function p(t){return"."===t||"%2e"===t.toLowerCase()}function f(t){return 2===t.length&&e.isASCIIAlpha(t.codePointAt(0))&&(":"===t[1]||"|"===t[1])}function c(t){return void 0!==n[t]}function b(t){return c(t.scheme)}function y(t){return!c(t.scheme)}function v(t){return n[t]}function w(s){const e=t.from(s);let h="";for(let t=0;t<e.length;++t)h+=i(e[t]);return h}function A(t){return t<=31||t>126}const I=new Set([47,58,59,61,64,91,92,93,94,124]);function S(t){return N(t)||I.has(t)}const E=new Set([32,34,60,62,96]);function q(t){return A(t)||E.has(t)}const C=new Set([35,63,123,125]);function N(t){return q(t)||C.has(t)}function O(t,s){const e=String.fromCodePoint(t);return s(t)?w(e):e}function x(t){let s=10;if(t.length>=2&&"0"===t.charAt(0)&&"x"===t.charAt(1).toLowerCase()?(t=t.substring(2),s=16):t.length>=2&&"0"===t.charAt(0)&&(t=t.substring(1),s=8),""===t)return 0;let e=/[^0-7]/;return 10===s&&(e=/[^0-9]/),16===s&&(e=/[^0-9A-Fa-f]/),e.test(t)?u:parseInt(t,s)}function L(t){const s=t.split(".");if(""===s[s.length-1]&&s.length>1&&s.pop(),s.length>4)return t;const e=[];for(const i of s){if(""===i)return t;const s=x(i);if(s===u)return t;e.push(s)}for(let t=0;t<e.length-1;++t)if(e[t]>255)return u;if(e[e.length-1]>=Math.pow(256,5-e.length))return u;let i=e.pop(),h=0;for(const t of e)i+=t*Math.pow(256,3-h),++h;return i}function U(t){let s="",e=t;for(let t=1;t<=4;++t)s=String(e%256)+s,4!==t&&(s="."+s),e=Math.floor(e/256);return s}function R(t){const i=[0,0,0,0,0,0,0,0];let h=0,n=null,o=0;if(58===(t=s.ucs2.decode(t))[o]){if(58!==t[o+1])return u;o+=2,++h,n=h}for(;o<t.length;){if(8===h)return u;if(58===t[o]){if(null!==n)return u;++o,++h,n=h;continue}let s=0,p=0;for(;p<4&&e.isASCIIHex(t[o]);)s=16*s+parseInt(l(t,o),16),++o,++p;if(46===t[o]){if(0===p)return u;if(o-=p,h>6)return u;let s=0;for(;void 0!==t[o];){let n=null;if(s>0){if(!(46===t[o]&&s<4))return u;++o}if(!e.isASCIIDigit(t[o]))return u;for(;e.isASCIIDigit(t[o]);){const s=parseInt(l(t,o));if(null===n)n=s;else{if(0===n)return u;n=10*n+s}if(n>255)return u;++o}i[h]=256*i[h]+n,++s,2!==s&&4!==s||++h}if(4!==s)return u;break}if(58===t[o]){if(++o,void 0===t[o])return u}else if(void 0!==t[o])return u;i[h]=s,++h}if(null!==n){let t=h-n;for(h=7;0!==h&&t>0;){const s=i[n+t-1];i[n+t-1]=i[h],i[h]=s,--h,--t}}else if(null===n&&8!==h)return u;return i}function B(t){let s="";const e=H(t).idx;let i=!1;for(let h=0;h<=7;++h)if(!i||0!==t[h])if(i&&(i=!1),e!==h)s+=t[h].toString(16),7!==h&&(s+=":");else{s+=0===h?"::":":",i=!0}return s}function F(s,e=!1){if("["===s[0])return"]"!==s[s.length-1]?u:R(s.substring(1,s.length-1));if(e)return P(s);const i=D(h(t.from(s)).toString());if(i===u)return u;if(-1!==i.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/))return u;const n=L(i);return"number"==typeof n||n===u?n:i}function P(t){if(-1!==t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/))return u;let e="";const i=s.ucs2.decode(t);for(let t=0;t<i.length;++t)e+=O(i[t],A);return e}function H(t){let s=null,e=1,i=null,h=0;for(let n=0;n<t.length;++n)0!==t[n]?(h>e&&(s=i,e=h),i=null,h=0):(null===i&&(i=n),++h);return h>e&&(s=i,e=h),{idx:s,len:e}}function k(t){return"number"==typeof t?U(t):t instanceof Array?"["+B(t)+"]":t}function D(t){return null===t?u:t}function z(t){return t.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function T(t){return t.replace(/\u0009|\u000A|\u000D/g,"")}function M(t){const{path:s}=t;var e;0!==s.length&&("file"===t.scheme&&1===s.length&&(e=s[0],/^[A-Za-z]:$/.test(e))||s.pop())}function $(t){return""!==t.username||""!==t.password}function _(t,e,i,h,n){if(this.pointer=0,this.input=t,this.base=e||null,this.encodingOverride=i||"utf-8",this.stateOverride=n,this.url=h,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};const t=z(this.input);t!==this.input&&(this.parseError=!0),this.input=t}const o=T(this.input);for(o!==this.input&&(this.parseError=!0),this.input=o,this.state=n||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=s.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){const t=this.input[this.pointer],s=isNaN(t)?void 0:String.fromCodePoint(t),e=this["parse "+this.state](t,s);if(!e)break;if(e===u){this.failure=!0;break}}}_.prototype["parse scheme start"]=function(t,s){if(e.isASCIIAlpha(t))this.buffer+=s.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,u;this.state="no scheme",--this.pointer}return!0},_.prototype["parse scheme"]=function(t,s){if(e.isASCIIAlphanumeric(t)||43===t||45===t||46===t)this.buffer+=s.toLowerCase();else if(58===t){if(this.stateOverride){if(b(this.url)&&!c(this.buffer))return!1;if(!b(this.url)&&c(this.buffer))return!1;if(($(this.url)||null!==this.url.port)&&"file"===this.buffer)return!1;if("file"===this.url.scheme&&(""===this.url.host||null===this.url.host))return!1}if(this.url.scheme=this.buffer,this.stateOverride)return this.url.port===v(this.url.scheme)&&(this.url.port=null),!1;this.buffer="","file"===this.url.scheme?(47===this.input[this.pointer+1]&&47===this.input[this.pointer+2]||(this.parseError=!0),this.state="file"):b(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":b(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,u;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},_.prototype["parse no scheme"]=function(t){return null===this.base||this.base.cannotBeABaseURL&&35!==t?u:(this.base.cannotBeABaseURL&&35===t?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):"file"===this.base.scheme?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)},_.prototype["parse special relative or authority"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},_.prototype["parse path or authority"]=function(t){return 47===t?this.state="authority":(this.state="path",--this.pointer),!0},_.prototype["parse relative"]=function(t){return this.url.scheme=this.base.scheme,isNaN(t)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===t?this.state="relative slash":63===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):b(this.url)&&92===t?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},_.prototype["parse relative slash"]=function(t){return!b(this.url)||47!==t&&92!==t?47===t?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer):(92===t&&(this.parseError=!0),this.state="special authority ignore slashes"),!0},_.prototype["parse special authority slashes"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},_.prototype["parse special authority ignore slashes"]=function(t){return 47!==t&&92!==t?(this.state="authority",--this.pointer):this.parseError=!0,!0},_.prototype["parse authority"]=function(t,s){if(64===t){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;const t=o(this.buffer);for(let s=0;s<t;++s){const t=this.buffer.codePointAt(s);if(58===t&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}const e=O(t,S);this.passwordTokenSeenFlag?this.url.password+=e:this.url.username+=e}this.buffer=""}else if(isNaN(t)||47===t||63===t||35===t||b(this.url)&&92===t){if(this.atFlag&&""===this.buffer)return this.parseError=!0,u;this.pointer-=o(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=s;return!0},_.prototype["parse hostname"]=_.prototype["parse host"]=function(t,s){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==t||this.arrFlag)if(isNaN(t)||47===t||63===t||35===t||b(this.url)&&92===t){if(--this.pointer,b(this.url)&&""===this.buffer)return this.parseError=!0,u;if(this.stateOverride&&""===this.buffer&&($(this.url)||null!==this.url.port))return this.parseError=!0,!1;const t=F(this.buffer,y(this.url));if(t===u)return u;if(this.url.host=t,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===t?this.arrFlag=!0:93===t&&(this.arrFlag=!1),this.buffer+=s;else{if(""===this.buffer)return this.parseError=!0,u;const t=F(this.buffer,y(this.url));if(t===u)return u;if(this.url.host=t,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},_.prototype["parse port"]=function(t,s){if(e.isASCIIDigit(t))this.buffer+=s;else{if(!(isNaN(t)||47===t||63===t||35===t||b(this.url)&&92===t||this.stateOverride))return this.parseError=!0,u;if(""!==this.buffer){const t=parseInt(this.buffer);if(t>Math.pow(2,16)-1)return this.parseError=!0,u;this.url.port=t===v(this.url.scheme)?null:t,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};const Z=new Set([47,92,63,35]);function j(t,s){const i=t.length-s;return i>=2&&(h=t[s],n=t[s+1],e.isASCIIAlpha(h)&&(58===n||124===n))&&(2===i||Z.has(t[s+2]));var h,n}function G(t){let s=t.scheme+"://";return s+=k(t.host),null!==t.port&&(s+=":"+t.port),s}_.prototype["parse file"]=function(t){return this.url.scheme="file",47===t||92===t?(92===t&&(this.parseError=!0),this.state="file slash"):null!==this.base&&"file"===this.base.scheme?isNaN(t)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):63===t?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===t?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(j(this.input,this.pointer)?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),M(this.url)),this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},_.prototype["parse file slash"]=function(t){var s;return 47===t||92===t?(92===t&&(this.parseError=!0),this.state="file host"):(null===this.base||"file"!==this.base.scheme||j(this.input,this.pointer)||(2===(s=this.base.path[0]).length&&e.isASCIIAlpha(s.codePointAt(0))&&":"===s[1]?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},_.prototype["parse file host"]=function(t,s){if(isNaN(t)||47===t||92===t||63===t||35===t)if(--this.pointer,!this.stateOverride&&f(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let t=F(this.buffer,y(this.url));if(t===u)return u;if("localhost"===t&&(t=""),this.url.host=t,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=s;return!0},_.prototype["parse path start"]=function(t){return b(this.url)?(92===t&&(this.parseError=!0),this.state="path",47!==t&&92!==t&&--this.pointer):this.stateOverride||63!==t?this.stateOverride||35!==t?void 0!==t&&(this.state="path",47!==t&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},_.prototype["parse path"]=function(t){if(isNaN(t)||47===t||b(this.url)&&92===t||!this.stateOverride&&(63===t||35===t)){if(b(this.url)&&92===t&&(this.parseError=!0),".."===(s=(s=this.buffer).toLowerCase())||"%2e."===s||".%2e"===s||"%2e%2e"===s?(M(this.url),47===t||b(this.url)&&92===t||this.url.path.push("")):!p(this.buffer)||47===t||b(this.url)&&92===t?p(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&f(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)):this.url.path.push(""),this.buffer="","file"===this.url.scheme&&(void 0===t||63===t||35===t))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===t&&(this.url.query="",this.state="query"),35===t&&(this.url.fragment="",this.state="fragment")}else 37!==t||e.isASCIIHex(this.input[this.pointer+1])&&e.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=O(t,N);var s;return!0},_.prototype["parse cannot-be-a-base-URL path"]=function(t){return 63===t?(this.url.query="",this.state="query"):35===t?(this.url.fragment="",this.state="fragment"):(isNaN(t)||37===t||(this.parseError=!0),37!==t||e.isASCIIHex(this.input[this.pointer+1])&&e.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),isNaN(t)||(this.url.path[0]+=O(t,A))),!0},_.prototype["parse query"]=function(s,h){if(isNaN(s)||!this.stateOverride&&35===s){b(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");const e=t.from(this.buffer);for(let t=0;t<e.length;++t)e[t]<33||e[t]>126||34===e[t]||35===e[t]||60===e[t]||62===e[t]||39===e[t]&&b(this.url)?this.url.query+=i(e[t]):this.url.query+=String.fromCodePoint(e[t]);this.buffer="",35===s&&(this.url.fragment="",this.state="fragment")}else 37!==s||e.isASCIIHex(this.input[this.pointer+1])&&e.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=h;return!0},_.prototype["parse fragment"]=function(t){return isNaN(t)||(0===t?this.parseError=!0:(37!==t||e.isASCIIHex(this.input[this.pointer+1])&&e.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=O(t,q))),!0},m.exports.serializeURL=function(t,s){let e=t.scheme+":";if(null!==t.host?(e+="//",""===t.username&&""===t.password||(e+=t.username,""!==t.password&&(e+=":"+t.password),e+="@"),e+=k(t.host),null!==t.port&&(e+=":"+t.port)):null===t.host&&"file"===t.scheme&&(e+="//"),t.cannotBeABaseURL)e+=t.path[0];else for(const s of t.path)e+="/"+s;return null!==t.query&&(e+="?"+t.query),s||null===t.fragment||(e+="#"+t.fragment),e},m.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return m.exports.serializeURLOrigin(m.exports.parseURL(t.path[0]))}catch(t){return"null"}case"ftp":case"http":case"https":case"ws":case"wss":return G({scheme:t.scheme,host:t.host,port:t.port});default:return"null"}},m.exports.basicURLParse=function(t,s){void 0===s&&(s={});const e=new _(t,s.baseURL,s.encodingOverride,s.url,s.stateOverride);return e.failure?null:e.url},m.exports.setTheUsername=function(t,e){t.username="";const i=s.ucs2.decode(e);for(let s=0;s<i.length;++s)t.username+=O(i[s],S)},m.exports.setThePassword=function(t,e){t.password="";const i=s.ucs2.decode(e);for(let s=0;s<i.length;++s)t.password+=O(i[s],S)},m.exports.serializeHost=k,m.exports.cannotHaveAUsernamePasswordPort=function(t){return null===t.host||""===t.host||t.cannotBeABaseURL||"file"===t.scheme},m.exports.serializeInteger=function(t){return String(t)},m.exports.parseURL=function(t,s){return void 0===s&&(s={}),m.exports.basicURLParse(t,{baseURL:s.baseURL,encodingOverride:s.encodingOverride})}}),1140,[1141,1429,1144,1145]);
__d((function(g,r,_i,_a,_m,_e,d){
/*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   */
'use strict';var t=r(d[0]),e=r(d[1]),n='function'==typeof Symbol&&'function'==typeof Symbol.for?Symbol.for('nodejs.util.inspect.custom'):null;_e.Buffer=f,_e.SlowBuffer=function(t){+t!=t&&(t=0);return f.alloc(+t)},_e.INSPECT_MAX_BYTES=50;var i=2147483647;function o(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,n){if('number'==typeof t){if('string'==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return a(t)}return u(t,e,n)}function u(t,e,n){if('string'==typeof t)return p(t,e);if(ArrayBuffer.isView(t))return l(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if($(t,ArrayBuffer)||t&&$(t.buffer,ArrayBuffer))return y(t,e,n);if('undefined'!=typeof SharedArrayBuffer&&($(t,SharedArrayBuffer)||t&&$(t.buffer,SharedArrayBuffer)))return y(t,e,n);if('number'==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return f.from(i,e,n);var o=w(t);if(o)return o;if('undefined'!=typeof Symbol&&null!=Symbol.toPrimitive&&'function'==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]('string'),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function s(t){if('number'!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t,e,n){return s(t),t<=0?o(t):void 0!==e?'string'==typeof n?o(t).fill(e,n):o(t).fill(e):o(t)}function a(t){return s(t),o(t<0?0:0|v(t))}function p(t,e){if('string'==typeof e&&''!==e||(e='utf8'),!f.isEncoding(e))throw new TypeError('Unknown encoding: '+e);var n=0|b(t,e),i=o(n),u=i.write(t,e);return u!==n&&(i=i.slice(0,u)),i}function c(t){for(var e=t.length<0?0:0|v(t.length),n=o(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function l(t){if($(t,Uint8Array)){var e=new Uint8Array(t);return y(e.buffer,e.byteOffset,e.byteLength)}return c(t)}function y(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,f.prototype),i}function w(t){if(f.isBuffer(t)){var e=0|v(t.length),n=o(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?'number'!=typeof t.length||G(t.length)?o(0):c(t):'Buffer'===t.type&&Array.isArray(t.data)?c(t.data):void 0}function v(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+' bytes');return 0|t}function b(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||$(t,ArrayBuffer))return t.byteLength;if('string'!=typeof t)throw new TypeError("The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type "+typeof t);var n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var o=!1;;)switch(e){case'ascii':case'latin1':case'binary':return n;case'utf8':case'utf-8':return V(t).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*n;case'hex':return n>>>1;case'base64':return J(t).length;default:if(o)return i?-1:V(t).length;e=(''+e).toLowerCase(),o=!0}}function m(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return'';if((void 0===n||n>this.length)&&(n=this.length),n<=0)return'';if((n>>>=0)<=(e>>>=0))return'';for(t||(t='utf8');;)switch(t){case'hex':return M(this,e,n);case'utf8':case'utf-8':return R(this,e,n);case'ascii':return P(this,e,n);case'latin1':case'binary':return k(this,e,n);case'base64':return O(this,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return _(this,e,n);default:if(i)throw new TypeError('Unknown encoding: '+t);t=(t+'').toLowerCase(),i=!0}}function E(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function B(t,e,n,i,o){if(0===t.length)return-1;if('string'==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),G(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if('string'==typeof e&&(e=f.from(e,i)),f.isBuffer(e))return 0===e.length?-1:A(t,e,n,i,o);if('number'==typeof e)return e&=255,'function'==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):A(t,[e],n,i,o);throw new TypeError('val must be string, number or Buffer')}function A(t,e,n,i,o){var f,u=1,s=t.length,h=e.length;if(void 0!==i&&('ucs2'===(i=String(i).toLowerCase())||'ucs-2'===i||'utf16le'===i||'utf-16le'===i)){if(t.length<2||e.length<2)return-1;u=2,s/=2,h/=2,n/=2}function a(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}if(o){var p=-1;for(f=n;f<s;f++)if(a(t,f)===a(e,-1===p?0:f-p)){if(-1===p&&(p=f),f-p+1===h)return p*u}else-1!==p&&(f-=f-p),p=-1}else for(n+h>s&&(n=s-h),f=n;f>=0;f--){for(var c=!0,l=0;l<h;l++)if(a(t,f+l)!==a(e,l)){c=!1;break}if(c)return f}return-1}function U(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var f=e.length;i>f/2&&(i=f/2);for(var u=0;u<i;++u){var s=parseInt(e.substr(2*u,2),16);if(G(s))return u;t[n+u]=s}return u}function T(t,e,n,i){return Z(V(e,t.length-n),t,n,i)}function I(t,e,n,i){return Z(W(e),t,n,i)}function L(t,e,n,i){return Z(J(e),t,n,i)}function S(t,e,n,i){return Z(X(e,t.length-n),t,n,i)}function O(e,n,i){return 0===n&&i===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,i))}function R(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var f,u,s,h,a=t[o],p=null,c=a>239?4:a>223?3:a>191?2:1;if(o+c<=n)switch(c){case 1:a<128&&(p=a);break;case 2:128==(192&(f=t[o+1]))&&(h=(31&a)<<6|63&f)>127&&(p=h);break;case 3:f=t[o+1],u=t[o+2],128==(192&f)&&128==(192&u)&&(h=(15&a)<<12|(63&f)<<6|63&u)>2047&&(h<55296||h>57343)&&(p=h);break;case 4:f=t[o+1],u=t[o+2],s=t[o+3],128==(192&f)&&128==(192&u)&&128==(192&s)&&(h=(15&a)<<18|(63&f)<<12|(63&u)<<6|63&s)>65535&&h<1114112&&(p=h)}null===p?(p=65533,c=1):p>65535&&(p-=65536,i.push(p>>>10&1023|55296),p=56320|1023&p),i.push(p),o+=c}return C(i)}_e.kMaxLength=i,f.TYPED_ARRAY_SUPPORT=(function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}})(),f.TYPED_ARRAY_SUPPORT||'undefined'==typeof console||'function'!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,'parent',{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,'offset',{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,n){return h(t,e,n)},f.allocUnsafe=function(t){return a(t)},f.allocUnsafeSlow=function(t){return a(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if($(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),$(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,i=e.length,o=0,u=Math.min(n,i);o<u;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=f.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var u=t[n];if($(u,Uint8Array))o+u.length>i.length?f.from(u).copy(i,o):Uint8Array.prototype.set.call(i,u,o);else{if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o)}o+=u.length}return i},f.byteLength=b,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var e=0;e<t;e+=2)E(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var e=0;e<t;e+=4)E(this,e,e+3),E(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var e=0;e<t;e+=8)E(this,e,e+7),E(this,e+1,e+6),E(this,e+2,e+5),E(this,e+3,e+4);return this},f.prototype.toString=function(){var t=this.length;return 0===t?'':0===arguments.length?R(this,0,t):m.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError('Argument must be a Buffer');return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t='',e=_e.INSPECT_MAX_BYTES;return t=this.toString('hex',0,e).replace(/(.{2})/g,'$1 ').trim(),this.length>e&&(t+=' ... '),'<Buffer '+t+'>'},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(t,e,n,i,o){if($(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError("The \"target\" argument must be one of type Buffer or Uint8Array. Received type "+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError('out of range index');if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var u=(o>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),h=Math.min(u,s),a=this.slice(i,o),p=t.slice(e,n),c=0;c<h;++c)if(a[c]!==p[c]){u=a[c],s=p[c];break}return u<s?-1:s<u?1:0},f.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},f.prototype.indexOf=function(t,e,n){return B(this,t,e,n,!0)},f.prototype.lastIndexOf=function(t,e,n){return B(this,t,e,n,!1)},f.prototype.write=function(t,e,n,i){if(void 0===e)i='utf8',n=this.length,e=0;else if(void 0===n&&'string'==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i='utf8')):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError('Attempt to write outside buffer bounds');i||(i='utf8');for(var f=!1;;)switch(i){case'hex':return U(this,t,e,n);case'utf8':case'utf-8':return T(this,t,e,n);case'ascii':case'latin1':case'binary':return I(this,t,e,n);case'base64':return L(this,t,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return S(this,t,e,n);default:if(f)throw new TypeError('Unknown encoding: '+i);i=(''+i).toLowerCase(),f=!0}},f.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function C(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);for(var n='',i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=x));return n}function P(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function k(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function M(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o='',f=e;f<n;++f)o+=H[t[f]];return o}function _(t,e,n){for(var i=t.slice(e,n),o='',f=0;f<i.length-1;f+=2)o+=String.fromCharCode(i[f]+256*i[f+1]);return o}function j(t,e,n){if(t%1!=0||t<0)throw new RangeError('offset is not uint');if(t+e>n)throw new RangeError('Trying to access beyond buffer length')}function z(t,e,n,i,o,u){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<u)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError('Index out of range')}function D(t,e,n,i,o,f){if(n+i>t.length)throw new RangeError('Index out of range');if(n<0)throw new RangeError('Index out of range')}function F(t,n,i,o,f){return n=+n,i>>>=0,f||D(t,0,i,4),e.write(t,n,i,o,23,4),i+4}function N(t,n,i,o,f){return n=+n,i>>>=0,f||D(t,0,i,8),e.write(t,n,i,o,52,8),i+8}f.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var i=this.subarray(t,e);return Object.setPrototypeOf(i,f.prototype),i},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},f.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);for(var i=e,o=1,f=this[t+--i];i>0&&(o*=256);)f+=this[t+--i]*o;return f>=(o*=128)&&(f-=Math.pow(2,8*e)),f},f.prototype.readInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(t,e){t>>>=0,e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,n){return t>>>=0,n||j(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,n){return t>>>=0,n||j(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,n){return t>>>=0,n||j(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,n){return t>>>=0,n||j(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||z(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,f=0;for(this[e]=255&t;++f<n&&(o*=256);)this[e+f]=t/o&255;return e+n},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||z(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,f=1;for(this[e+o]=255&t;--o>=0&&(f*=256);)this[e+o]=t/f&255;return e+n},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);z(this,t,e,n,o-1,-o)}var f=0,u=1,s=0;for(this[e]=255&t;++f<n&&(u*=256);)t<0&&0===s&&0!==this[e+f-1]&&(s=1),this[e+f]=(t/u|0)-s&255;return e+n},f.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);z(this,t,e,n,o-1,-o)}var f=n-1,u=1,s=0;for(this[e+f]=255&t;--f>=0&&(u*=256);)t<0&&0===s&&0!==this[e+f+1]&&(s=1),this[e+f]=(t/u|0)-s&255;return e+n},f.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},f.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},f.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},f.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},f.prototype.copy=function(t,e,n,i){if(!f.isBuffer(t))throw new TypeError('argument should be a Buffer');if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError('targetStart out of bounds');if(n<0||n>=this.length)throw new RangeError('Index out of range');if(i<0)throw new RangeError('sourceEnd out of bounds');i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n;return this===t&&'function'==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),o},f.prototype.fill=function(t,e,n,i){if('string'==typeof t){if('string'==typeof e?(i=e,e=0,n=this.length):'string'==typeof n&&(i=n,n=this.length),void 0!==i&&'string'!=typeof i)throw new TypeError('encoding must be a string');if('string'==typeof i&&!f.isEncoding(i))throw new TypeError('Unknown encoding: '+i);if(1===t.length){var o=t.charCodeAt(0);('utf8'===i&&o<128||'latin1'===i)&&(t=o)}}else'number'==typeof t?t&=255:'boolean'==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError('Out of range index');if(n<=e)return this;var u;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),'number'==typeof t)for(u=e;u<n;++u)this[u]=t;else{var s=f.isBuffer(t)?t:f.from(t,i),h=s.length;if(0===h)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(u=0;u<n-e;++u)this[u+e]=s[u%h]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function q(t){if((t=(t=t.split('=')[0]).trim().replace(Y,'')).length<2)return'';for(;t.length%4!=0;)t+='=';return t}function V(t,e){var n;e=e||1/0;for(var i=t.length,o=null,f=[],u=0;u<i;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&f.push(239,191,189);continue}if(u+1===i){(e-=3)>-1&&f.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&f.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&f.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;f.push(n)}else if(n<2048){if((e-=2)<0)break;f.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;f.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error('Invalid code point');if((e-=4)<0)break;f.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return f}function W(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function X(t,e){for(var n,i,o,f=[],u=0;u<t.length&&!((e-=2)<0);++u)i=(n=t.charCodeAt(u))>>8,o=n%256,f.push(o),f.push(i);return f}function J(e){return t.toByteArray(q(e))}function Z(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function $(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function G(t){return t!=t}var H=(function(){for(var t='0123456789abcdef',e=new Array(256),n=0;n<16;++n)for(var i=16*n,o=0;o<16;++o)e[i+o]=t[n]+t[o];return e})()}),1141,[909,1142]);
__d((function(g,r,_i,a,_m,_e,_d){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
_e.read=function(o,t,h,M,f){var w,p,i=8*f-M-1,n=(1<<i)-1,N=n>>1,e=-7,u=h?f-1:0,s=h?-1:1,c=o[t+u];for(u+=s,w=c&(1<<-e)-1,c>>=-e,e+=i;e>0;w=256*w+o[t+u],u+=s,e-=8);for(p=w&(1<<-e)-1,w>>=-e,e+=M;e>0;p=256*p+o[t+u],u+=s,e-=8);if(0===w)w=1-N;else{if(w===n)return p?NaN:1/0*(c?-1:1);p+=Math.pow(2,M),w-=N}return(c?-1:1)*p*Math.pow(2,w-M)},_e.write=function(o,t,h,M,f,w){var p,i,n,N=8*w-f-1,e=(1<<N)-1,u=e>>1,s=23===f?Math.pow(2,-24)-Math.pow(2,-77):0,c=M?0:w-1,l=M?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,p=e):(p=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-p))<1&&(p--,n*=2),(t+=p+u>=1?s/n:s*Math.pow(2,1-u))*n>=2&&(p++,n/=2),p+u>=e?(i=0,p=e):p+u>=1?(i=(t*n-1)*Math.pow(2,f),p+=u):(i=t*Math.pow(2,u-1)*Math.pow(2,f),p=0));f>=8;o[h+c]=255&i,c+=l,i/=256,f-=8);for(p=p<<f|i,N+=f;N>0;o[h+c]=255&p,c+=l,p/=256,N-=8);o[h+c-l]|=128*d}}),1142,[]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(n){return n>=48&&n<=57}function t(n){return n>=65&&n<=90||n>=97&&n<=122}m.exports={isASCIIDigit:n,isASCIIAlpha:t,isASCIIAlphanumeric:function(u){return t(u)||n(u)},isASCIIHex:function(t){return n(t)||t>=65&&t<=70||t>=97&&t<=102}}}),1144,[]);
__d((function(g,r,_i,a,m,e,d){"use strict";const{Buffer:t}=r(d[0]),{isASCIIHex:n}=r(d[1]);function o(t,n){const o=[];let i=0,c=t.indexOf(n);for(;c>=0;)o.push(t.slice(i,c)),i=c+1,c=t.indexOf(n,i);return i!==t.length&&o.push(t.slice(i)),o}function i(t,n,o){let i=t.indexOf(n);for(;i>=0;)t[i]=o,i=t.indexOf(n,i+1);return t}function c(t){let n=t.toString(16).toUpperCase();return 1===n.length&&(n="0"+n),"%"+n}function f(o){const i=t.alloc(o.byteLength);let c=0;for(let t=0;t<o.length;++t)37===o[t]&&n(o[t+1])&&n(o[t+2])?(i[c++]=parseInt(o.slice(t+1,t+3).toString(),16),t+=2):i[c++]=o[t];return i.slice(0,c)}function l(n){const c=o(n,38),l=[];for(const n of c){if(0===n.length)continue;let o,c;const s=n.indexOf(61);s>=0?(o=n.slice(0,s),c=n.slice(s+1)):(o=n,c=t.alloc(0)),o=i(t.from(o),43,32),c=i(t.from(c),43,32),l.push([f(o).toString(),f(c).toString()])}return l}function s(t){let n="";for(const o of t)n+=32===o?"+":42===o||45===o||46===o||o>=48&&o<=57||o>=65&&o<=90||95===o||o>=97&&o<=122?String.fromCodePoint(o):c(o);return n}m.exports={percentEncode:c,percentDecode:f,parseUrlencoded:n=>l(t.from(n)),serializeUrlencoded:function(n,o=void 0){let i="utf-8";void 0!==o&&(i=o);let c="";for(const[o,f]of n.entries()){const n=s(t.from(f[0]));let l=f[1];f.length>2&&void 0!==f[2]&&("hidden"===f[2]&&"_charset_"===n?l=i:"file"===f[2]&&(l=l.name)),l=s(t.from(l)),0!==o&&(c+="&"),c+=`${n}=${l}`}return c}}}),1145,[1141,1144]);
__d((function(g,r,_i,a,m,e,d){"use strict";const t=r(d[0]),o=r(d[1]),n=o.implSymbol,i=o.ctorRegistrySymbol,s=Object.create(o.IteratorPrototype,{next:{value:function(){const t=this[o.iterInternalSymbol],{target:i,kind:s,index:l}=t,c=Array.from(i[n]);if(l>=c.length)return{value:void 0,done:!0};const p=c[l];t.index=l+1;const[u,h]=p.map(o.tryWrapperForImpl);let f;switch(s){case"key":f=u;break;case"value":f=h;break;case"key+value":f=[u,h]}return{value:f,done:!1}},writable:!0,enumerable:!0,configurable:!0},[Symbol.toStringTag]:{value:"URLSearchParams Iterator",configurable:!0}}),l={_mixedIntoPredicates:[],is(t){if(t){if(o.hasOwn(t,n)&&t[n]instanceof c.implementation)return!0;for(const o of m.exports._mixedIntoPredicates)if(o(t))return!0}return!1},isImpl(t){if(t){if(t instanceof c.implementation)return!0;const n=o.wrapperForImpl(t);for(const t of m.exports._mixedIntoPredicates)if(t(n))return!0}return!1},convert(t,{context:n="The provided value"}={}){if(m.exports.is(t))return o.implForWrapper(t);throw new TypeError(`${n} is not of type 'URLSearchParams'.`)},createDefaultIterator(t,n){const i=Object.create(s);return Object.defineProperty(i,o.iterInternalSymbol,{value:{target:t,kind:n,index:0},configurable:!0}),i},create(t,o,n){if(void 0===t[i])throw new Error("Internal error: invalid global object");const s=t[i].URLSearchParams;if(void 0===s)throw new Error("Internal error: constructor URLSearchParams is not installed on the passed global object");let c=Object.create(s.prototype);return c=l.setup(c,t,o,n),c},createImpl(t,n,i){const s=l.create(t,n,i);return o.implForWrapper(s)},_internalSetup(t){},setup:(t,i,s=[],p={})=>(p.wrapper=t,l._internalSetup(t),Object.defineProperty(t,n,{value:new c.implementation(i,s,p),configurable:!0}),t[n][o.wrapperSymbol]=t,c.init&&c.init(t[n],p),t),install(s){class c{constructor(){const n=[];{let i=arguments[0];if(void 0!==i)if(o.isObject(i))if(void 0!==i[Symbol.iterator]){if(!o.isObject(i))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");{const n=[],s=i;for(let i of s){if(!o.isObject(i))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");{const o=[],n=i;for(let i of n)i=t.USVString(i,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element"}),o.push(i);i=o}n.push(i)}i=n}}else{if(!o.isObject(i))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");{const o=Object.create(null);for(const n of Reflect.ownKeys(i)){const s=Object.getOwnPropertyDescriptor(i,n);if(s&&s.enumerable){let s=n;s=t.USVString(s,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key"});let l=i[n];l=t.USVString(l,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value"}),o[s]=l}}i=o}}else i=t.USVString(i,{context:"Failed to construct 'URLSearchParams': parameter 1"});else i="";n.push(i)}return l.setup(Object.create(this.constructor.prototype),s,n)}append(o,i){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only "+arguments.length+" present.");const s=[];{let o=arguments[0];o=t.USVString(o,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1"}),s.push(o)}{let o=arguments[1];o=t.USVString(o,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2"}),s.push(o)}return this[n].append(...s)}delete(o){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");const i=[];{let o=arguments[0];o=t.USVString(o,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1"}),i.push(o)}return this[n].delete(...i)}get(o){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");const i=[];{let o=arguments[0];o=t.USVString(o,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1"}),i.push(o)}return this[n].get(...i)}getAll(i){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");const s=[];{let o=arguments[0];o=t.USVString(o,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1"}),s.push(o)}return o.tryWrapperForImpl(this[n].getAll(...s))}has(o){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");const i=[];{let o=arguments[0];o=t.USVString(o,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1"}),i.push(o)}return this[n].has(...i)}set(o,i){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only "+arguments.length+" present.");const s=[];{let o=arguments[0];o=t.USVString(o,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1"}),s.push(o)}{let o=arguments[1];o=t.USVString(o,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2"}),s.push(o)}return this[n].set(...s)}sort(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[n].sort()}toString(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[n].toString()}keys(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"key")}values(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"value")}entries(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"key+value")}forEach(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1 is not a function.");const i=arguments[1];let s=Array.from(this[n]),l=0;for(;l<s.length;){const[c,p]=s[l].map(o.tryWrapperForImpl);t.call(i,p,c,this),s=Array.from(this[n]),l++}}}Object.defineProperties(c.prototype,{append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0},[Symbol.toStringTag]:{value:"URLSearchParams",configurable:!0},[Symbol.iterator]:{value:c.prototype.entries,configurable:!0,writable:!0}}),void 0===s[i]&&(s[i]=Object.create(null)),s[i].URLSearchParams=c,Object.defineProperty(s,"URLSearchParams",{configurable:!0,writable:!0,value:c})}};m.exports=l;const c=r(d[2])}),1146,[1137,1138,1147]);
__d((function(g,r,_i,_a,m,e,d){"use strict";const t=r(d[0]);e.implementation=class{constructor(s,i,{doNotStripQMark:l=!1}){let o=i[0];if(this._list=[],this._url=null,l||"string"!=typeof o||"?"!==o[0]||(o=o.slice(1)),Array.isArray(o))for(const t of o){if(2!==t.length)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([t[0],t[1]])}else if("object"==typeof o&&null===Object.getPrototypeOf(o))for(const t of Object.keys(o)){const s=o[t];this._list.push([t,s])}else this._list=t.parseUrlencoded(o)}_updateSteps(){if(null!==this._url){let s=t.serializeUrlencoded(this._list);""===s&&(s=null),this._url._url.query=s}}append(t,s){this._list.push([t,s]),this._updateSteps()}delete(t){let s=0;for(;s<this._list.length;)this._list[s][0]===t?this._list.splice(s,1):s++;this._updateSteps()}get(t){for(const s of this._list)if(s[0]===t)return s[1];return null}getAll(t){const s=[];for(const i of this._list)i[0]===t&&s.push(i[1]);return s}has(t){for(const s of this._list)if(s[0]===t)return!0;return!1}set(t,s){let i=!1,l=0;for(;l<this._list.length;)this._list[l][0]===t?i?this._list.splice(l,1):(i=!0,this._list[l][1]=s,l++):l++;i||this._list.push([t,s]),this._updateSteps()}sort(){var t,s;this._list=(t=this._list,s=(t,s)=>t[0]>s[0],t.map(((t,s)=>({item:t,index:s}))).sort(((t,i)=>s(t.item,i.item)||t.index-i.index)).map((({item:t})=>t))),this._updateSteps()}[Symbol.iterator](){return this._list[Symbol.iterator]()}toString(){return t.serializeUrlencoded(this._list)}}}),1147,[1145]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"URLSearchParams",{enumerable:!0,get:function(){return n.URLSearchParams}});var n=r(d[0])}),1148,[1134]);
__d((function(g,r,_i,a,m,_e,d){!(function(e,o){"use strict";'function'==typeof define&&define.amd?define(o):'object'==typeof m&&m.exports?m.exports=o():e.log=o()})(this,(function(){"use strict";var e=function(){},o="undefined",n=typeof window.navigator!==o&&/Trident\/|MSIE /.test(window.navigator.userAgent),t=["trace","debug","info","warn","error"],l={},i=null;function c(e,o){var n=e[o];if('function'==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(o){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(t){return'debug'===t&&(t='log'),typeof console!==o&&('trace'===t&&n?u:void 0!==console[t]?c(console,t):void 0!==console.log?c(console,'log'):e)}function f(){for(var n=this.getLevel(),l=0;l<t.length;l++){var i=t[l];this[i]=l<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===o&&n<this.levels.SILENT)return"No console available for logging"}function p(e){return function(){typeof console!==o&&(f.call(this),this[e].apply(this,arguments))}}function v(e,o,n){return s(e)||p.apply(this,arguments)}function y(e,n){var c,u,s,p=this,y="loglevel";function w(e){var o=(t[e]||'silent').toUpperCase();if(y){try{return void(window.localStorage[y]=o)}catch(e){}try{window.document.cookie=encodeURIComponent(y)+"="+o+";"}catch(e){}}}function h(){var e;if(y){try{e=window.localStorage[y]}catch(e){}if(typeof e===o)try{var n=window.document.cookie,t=encodeURIComponent(y),l=n.indexOf(t+"=");-1!==l&&(e=/^([^;]+)/.exec(n.slice(l+t.length+1))[1])}catch(e){}return void 0===p.levels[e]&&(e=void 0),e}}function L(){if(y){try{window.localStorage.removeItem(y)}catch(e){}try{window.document.cookie=encodeURIComponent(y)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}function b(e){var o=e;if("string"==typeof o&&void 0!==p.levels[o.toUpperCase()]&&(o=p.levels[o.toUpperCase()]),"number"==typeof o&&o>=0&&o<=p.levels.SILENT)return o;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?y+=":"+e:"symbol"==typeof e&&(y=void 0),p.name=e,p.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},p.methodFactory=n||v,p.getLevel=function(){return null!=s?s:null!=u?u:c},p.setLevel=function(e,o){return s=b(e),!1!==o&&w(s),f.call(p)},p.setDefaultLevel=function(e){u=b(e),h()||p.setLevel(e,!1)},p.resetLevel=function(){s=null,L(),f.call(p)},p.enableAll=function(e){p.setLevel(p.levels.TRACE,e)},p.disableAll=function(e){p.setLevel(p.levels.SILENT,e)},p.rebuild=function(){if(i!==p&&(c=b(i.getLevel())),f.call(p),i===p)for(var e in l)l[e].rebuild()},c=b(i?i.getLevel():"WARN");var E=h();null!=E&&(s=b(E)),f.call(p)}(i=new y).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var o=l[e];return o||(o=l[e]=new y(e,i.methodFactory)),o};var w=window.log;return i.noConflict=function(){return window.log===i&&(window.log=w),i},i.getLoggers=function(){return l},i.default=i,i}))}),1174,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),l=r(d[4]),u=r(d[5]);o();var c=t(l()),f=function(t){return c(void 0===this?Promise:this,t)};n(f,{getPolyfill:l,implementation:s,shim:u}),m.exports=f}),1176,[1177,1216,1220,1221,1298,1299]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),p=r(d[2]),l=r(d[3]);m.exports=function(n){var l=p(arguments),o=n.length-(arguments.length-1);return t(l,1+(o>0?o:0),!0)},n?n(m.exports,'apply',{value:l}):m.exports.apply=l}),1177,[1178,1198,1205,1215]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2])(),f=r(d[3]),h=r(d[4]),l=t('%Math.floor%');m.exports=function(t,u){if('function'!=typeof t)throw new h('`fn` is not a function');if('number'!=typeof u||u<0||u>4294967295||l(u)!==u)throw new h('`length` must be a positive 32-bit integer');var c=arguments.length>2&&!!arguments[2],s=!0,b=!0;if('length'in t&&f){var w=f(t,'length');w&&!w.configurable&&(s=!1),w&&!w.writable&&(b=!1)}return(s||b||!c)&&(o?n(t,'length',u,!0,!0):n(t,'length',u)),t}}),1178,[1179,1213,1214,1196,1186]);
__d((function(g,r,_i,a,m,_e,d){'use strict';var t,e=r(d[0]),o=r(d[1]),n=r(d[2]),y=r(d[3]),p=r(d[4]),i=r(d[5]),f=r(d[6]),c=r(d[7]),l=r(d[8]),u=r(d[9]),s=r(d[10]),A=r(d[11]),P=r(d[12]),S=r(d[13]),h=r(d[14]),I=Function,F=function(t){try{return I('"use strict"; return ('+t+').constructor;')()}catch(t){}},b=r(d[15]),E=r(d[16]),U=function(){throw new f},v=b?(function(){try{return U}catch(t){try{return b(arguments,'callee').get}catch(t){return U}}})():U,w=r(d[17])(),R=r(d[18]),B=r(d[19]),M=r(d[20]),O=r(d[21]),x=r(d[22]),_={},G='undefined'!=typeof Uint8Array&&R?R(Uint8Array):t,k={__proto__:null,'%AggregateError%':'undefined'==typeof AggregateError?t:AggregateError,'%Array%':Array,'%ArrayBuffer%':'undefined'==typeof ArrayBuffer?t:ArrayBuffer,'%ArrayIteratorPrototype%':w&&R?R([][Symbol.iterator]()):t,'%AsyncFromSyncIteratorPrototype%':t,'%AsyncFunction%':_,'%AsyncGenerator%':_,'%AsyncGeneratorFunction%':_,'%AsyncIteratorPrototype%':_,'%Atomics%':'undefined'==typeof Atomics?t:Atomics,'%BigInt%':'undefined'==typeof BigInt?t:BigInt,'%BigInt64Array%':'undefined'==typeof BigInt64Array?t:BigInt64Array,'%BigUint64Array%':'undefined'==typeof BigUint64Array?t:BigUint64Array,'%Boolean%':Boolean,'%DataView%':'undefined'==typeof DataView?t:DataView,'%Date%':Date,'%decodeURI%':decodeURI,'%decodeURIComponent%':decodeURIComponent,'%encodeURI%':encodeURI,'%encodeURIComponent%':encodeURIComponent,'%Error%':o,'%eval%':eval,'%EvalError%':n,'%Float16Array%':'undefined'==typeof Float16Array?t:Float16Array,'%Float32Array%':'undefined'==typeof Float32Array?t:Float32Array,'%Float64Array%':'undefined'==typeof Float64Array?t:Float64Array,'%FinalizationRegistry%':'undefined'==typeof FinalizationRegistry?t:FinalizationRegistry,'%Function%':I,'%GeneratorFunction%':_,'%Int8Array%':'undefined'==typeof Int8Array?t:Int8Array,'%Int16Array%':'undefined'==typeof Int16Array?t:Int16Array,'%Int32Array%':'undefined'==typeof Int32Array?t:Int32Array,'%isFinite%':isFinite,'%isNaN%':isNaN,'%IteratorPrototype%':w&&R?R(R([][Symbol.iterator]())):t,'%JSON%':'object'==typeof JSON?JSON:t,'%Map%':'undefined'==typeof Map?t:Map,'%MapIteratorPrototype%':'undefined'!=typeof Map&&w&&R?R((new Map)[Symbol.iterator]()):t,'%Math%':Math,'%Number%':Number,'%Object%':e,'%Object.getOwnPropertyDescriptor%':b,'%parseFloat%':parseFloat,'%parseInt%':parseInt,'%Promise%':'undefined'==typeof Promise?t:Promise,'%Proxy%':'undefined'==typeof Proxy?t:Proxy,'%RangeError%':y,'%ReferenceError%':p,'%Reflect%':'undefined'==typeof Reflect?t:Reflect,'%RegExp%':RegExp,'%Set%':'undefined'==typeof Set?t:Set,'%SetIteratorPrototype%':'undefined'!=typeof Set&&w&&R?R((new Set)[Symbol.iterator]()):t,'%SharedArrayBuffer%':'undefined'==typeof SharedArrayBuffer?t:SharedArrayBuffer,'%String%':String,'%StringIteratorPrototype%':w&&R?R(''[Symbol.iterator]()):t,'%Symbol%':w?Symbol:t,'%SyntaxError%':i,'%ThrowTypeError%':v,'%TypedArray%':G,'%TypeError%':f,'%Uint8Array%':'undefined'==typeof Uint8Array?t:Uint8Array,'%Uint8ClampedArray%':'undefined'==typeof Uint8ClampedArray?t:Uint8ClampedArray,'%Uint16Array%':'undefined'==typeof Uint16Array?t:Uint16Array,'%Uint32Array%':'undefined'==typeof Uint32Array?t:Uint32Array,'%URIError%':c,'%WeakMap%':'undefined'==typeof WeakMap?t:WeakMap,'%WeakRef%':'undefined'==typeof WeakRef?t:WeakRef,'%WeakSet%':'undefined'==typeof WeakSet?t:WeakSet,'%Function.prototype.call%':x,'%Function.prototype.apply%':O,'%Object.defineProperty%':E,'%Object.getPrototypeOf%':B,'%Math.abs%':l,'%Math.floor%':u,'%Math.max%':s,'%Math.min%':A,'%Math.pow%':P,'%Math.round%':S,'%Math.sign%':h,'%Reflect.getPrototypeOf%':M};if(R)try{null.error}catch(t){var N=R(R(t));k['%Error.prototype%']=N}var j=function t(e){var o;if('%AsyncFunction%'===e)o=F('async function () {}');else if('%GeneratorFunction%'===e)o=F('function* () {}');else if('%AsyncGeneratorFunction%'===e)o=F('async function* () {}');else if('%AsyncGenerator%'===e){var n=t('%AsyncGeneratorFunction%');n&&(o=n.prototype)}else if('%AsyncIteratorPrototype%'===e){var y=t('%AsyncGenerator%');y&&R&&(o=R(y.prototype))}return k[e]=o,o},W={__proto__:null,'%ArrayBufferPrototype%':['ArrayBuffer','prototype'],'%ArrayPrototype%':['Array','prototype'],'%ArrayProto_entries%':['Array','prototype','entries'],'%ArrayProto_forEach%':['Array','prototype','forEach'],'%ArrayProto_keys%':['Array','prototype','keys'],'%ArrayProto_values%':['Array','prototype','values'],'%AsyncFunctionPrototype%':['AsyncFunction','prototype'],'%AsyncGenerator%':['AsyncGeneratorFunction','prototype'],'%AsyncGeneratorPrototype%':['AsyncGeneratorFunction','prototype','prototype'],'%BooleanPrototype%':['Boolean','prototype'],'%DataViewPrototype%':['DataView','prototype'],'%DatePrototype%':['Date','prototype'],'%ErrorPrototype%':['Error','prototype'],'%EvalErrorPrototype%':['EvalError','prototype'],'%Float32ArrayPrototype%':['Float32Array','prototype'],'%Float64ArrayPrototype%':['Float64Array','prototype'],'%FunctionPrototype%':['Function','prototype'],'%Generator%':['GeneratorFunction','prototype'],'%GeneratorPrototype%':['GeneratorFunction','prototype','prototype'],'%Int8ArrayPrototype%':['Int8Array','prototype'],'%Int16ArrayPrototype%':['Int16Array','prototype'],'%Int32ArrayPrototype%':['Int32Array','prototype'],'%JSONParse%':['JSON','parse'],'%JSONStringify%':['JSON','stringify'],'%MapPrototype%':['Map','prototype'],'%NumberPrototype%':['Number','prototype'],'%ObjectPrototype%':['Object','prototype'],'%ObjProto_toString%':['Object','prototype','toString'],'%ObjProto_valueOf%':['Object','prototype','valueOf'],'%PromisePrototype%':['Promise','prototype'],'%PromiseProto_then%':['Promise','prototype','then'],'%Promise_all%':['Promise','all'],'%Promise_reject%':['Promise','reject'],'%Promise_resolve%':['Promise','resolve'],'%RangeErrorPrototype%':['RangeError','prototype'],'%ReferenceErrorPrototype%':['ReferenceError','prototype'],'%RegExpPrototype%':['RegExp','prototype'],'%SetPrototype%':['Set','prototype'],'%SharedArrayBufferPrototype%':['SharedArrayBuffer','prototype'],'%StringPrototype%':['String','prototype'],'%SymbolPrototype%':['Symbol','prototype'],'%SyntaxErrorPrototype%':['SyntaxError','prototype'],'%TypedArrayPrototype%':['TypedArray','prototype'],'%TypeErrorPrototype%':['TypeError','prototype'],'%Uint8ArrayPrototype%':['Uint8Array','prototype'],'%Uint8ClampedArrayPrototype%':['Uint8ClampedArray','prototype'],'%Uint16ArrayPrototype%':['Uint16Array','prototype'],'%Uint32ArrayPrototype%':['Uint32Array','prototype'],'%URIErrorPrototype%':['URIError','prototype'],'%WeakMapPrototype%':['WeakMap','prototype'],'%WeakSetPrototype%':['WeakSet','prototype']},D=r(d[23]),C=r(d[24]),T=D.call(x,Array.prototype.concat),J=D.call(O,Array.prototype.splice),V=D.call(x,String.prototype.replace),z=D.call(x,String.prototype.slice),$=D.call(x,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,H=/\\(\\)?/g,K=function(t){var e=z(t,0,1),o=z(t,-1);if('%'===e&&'%'!==o)throw new i('invalid intrinsic syntax, expected closing `%`');if('%'===o&&'%'!==e)throw new i('invalid intrinsic syntax, expected opening `%`');var n=[];return V(t,q,(function(t,e,o,y){n[n.length]=o?V(y,H,'$1'):e||t})),n},L=function(t,e){var o,n=t;if(C(W,n)&&(n='%'+(o=W[n])[0]+'%'),C(k,n)){var y=k[n];if(y===_&&(y=j(n)),void 0===y&&!e)throw new f('intrinsic '+t+' exists, but is not available. Please file an issue!');return{alias:o,name:n,value:y}}throw new i('intrinsic '+t+' does not exist!')};m.exports=function(t,e){if('string'!=typeof t||0===t.length)throw new f('intrinsic name must be a non-empty string');if(arguments.length>1&&'boolean'!=typeof e)throw new f('"allowMissing" argument must be a boolean');if(null===$(/^%?[^%]*%?$/,t))throw new i('`%` may not be present anywhere but at the beginning and end of the intrinsic name');var o=K(t),n=o.length>0?o[0]:'',y=L('%'+n+'%',e),p=y.name,c=y.value,l=!1,u=y.alias;u&&(n=u[0],J(o,T([0,1],u)));for(var s=1,A=!0;s<o.length;s+=1){var P=o[s],S=z(P,0,1),h=z(P,-1);if(('"'===S||"'"===S||'`'===S||'"'===h||"'"===h||'`'===h)&&S!==h)throw new i('property names with quotes must have matching quotes');if('constructor'!==P&&A||(l=!0),C(k,p='%'+(n+='.'+P)+'%'))c=k[p];else if(null!=c){if(!(P in c)){if(!e)throw new f('base intrinsic for '+t+' exists, but the property is not available.');return}if(b&&s+1>=o.length){var I=b(c,P);c=(A=!!I)&&'get'in I&&!('originalValue'in I.get)?I.get:c[P]}else A=C(c,P),c=c[P];A&&!l&&(k[p]=c)}}return c}}),1179,[1180,1181,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1196,1198,1199,1201,1203,1202,1210,1208,1206,1212]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=Object}),1180,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=Error}),1181,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=EvalError}),1182,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=RangeError}),1183,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=ReferenceError}),1184,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=SyntaxError}),1185,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=TypeError}),1186,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=URIError}),1187,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=Math.abs}),1188,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=Math.floor}),1189,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=Math.max}),1190,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=Math.min}),1191,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=Math.pow}),1192,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=Math.round}),1193,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(n){return t(n)||0===n?n:n<0?-1:1}}),1194,[1195]);
__d((function(g,r,i,_a,m,e,d){'use strict';m.exports=Number.isNaN||function(t){return t!=t}}),1195,[]);
__d((function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]);if(t)try{t([],'length')}catch(c){t=null}m.exports=t}),1196,[1197]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=Object.getOwnPropertyDescriptor}),1197,[]);
__d((function(g,r,i,a,m,_e,d){'use strict';var t=Object.defineProperty||!1;if(t)try{t({},'a',{value:1})}catch(e){t=!1}m.exports=t}),1198,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var o='undefined'!=typeof Symbol&&Symbol,t=r(d[0]);m.exports=function(){return'function'==typeof o&&('function'==typeof Symbol&&('symbol'==typeof o('foo')&&('symbol'==typeof Symbol('bar')&&t())))}}),1199,[1200]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=function(){if('function'!=typeof Symbol||'function'!=typeof Object.getOwnPropertySymbols)return!1;if('symbol'==typeof Symbol.iterator)return!0;var t={},o=Symbol('test'),n=Object(o);if('string'==typeof o)return!1;if('[object Symbol]'!==Object.prototype.toString.call(o))return!1;if('[object Symbol]'!==Object.prototype.toString.call(n))return!1;for(var c in t[o]=42,t)return!1;if('function'==typeof Object.keys&&0!==Object.keys(t).length)return!1;if('function'==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var y=Object.getOwnPropertySymbols(t);if(1!==y.length||y[0]!==o)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,o))return!1;if('function'==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(t,o);if(42!==f.value||!0!==f.enumerable)return!1}return!0}}),1200,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]);m.exports=t?function(n){return t(n)}:n?function(t){if(!t||'object'!=typeof t&&'function'!=typeof t)throw new TypeError('getProto: not an object');return n(t)}:o?function(t){return o(t)}:null}),1201,[1202,1203,1204]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports='undefined'!=typeof Reflect&&Reflect.getPrototypeOf||null}),1202,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t.getPrototypeOf||null}),1203,[1180]);
__d((function(g,r,i,a,m,_e,d){'use strict';var t,o=r(d[0]),e=r(d[1]);try{t=[].__proto__===Array.prototype}catch(t){if(!t||'object'!=typeof t||!('code'in t)||'ERR_PROTO_ACCESS'!==t.code)throw t}var c=!!t&&e&&e(Object.prototype,'__proto__'),_=Object,n=_.getPrototypeOf;m.exports=c&&'function'==typeof c.get?o([c.get]):'function'==typeof n&&function(t){return n(null==t?t:_(t))}}),1204,[1205,1196]);
__d((function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),u=r(d[3]);m.exports=function(f){if(f.length<1||'function'!=typeof f[0])throw new t('a function is required');return u(n,o,f)}}),1205,[1206,1186,1208,1209]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=Function.prototype.bind||t}),1206,[1207]);
__d((function(g,r,_i,_a,m,e,d){'use strict';var t=Object.prototype.toString,n=Math.max,o=function(t,n){for(var o=[],i=0;i<t.length;i+=1)o[i]=t[i];for(var p=0;p<n.length;p+=1)o[p+t.length]=n[p];return o},i=function(t,n){for(var o=[],i=n||0,p=0;i<t.length;i+=1,p+=1)o[p]=t[i];return o},p=function(t,n){for(var o='',i=0;i<t.length;i+=1)o+=t[i],i+1<t.length&&(o+=n);return o};m.exports=function(u){var a=this;if('function'!=typeof a||"[object Function]"!==t.apply(a))throw new TypeError("Function.prototype.bind called on incompatible "+a);for(var c,f=i(arguments,1),l=n(0,a.length-f.length),h=[],y=0;y<l;y++)h[y]='$'+y;if(c=Function('binder','return function ('+p(h,',')+'){ return binder.apply(this,arguments); }')((function(){if(this instanceof c){var t=a.apply(this,o(f,arguments));return Object(t)===t?t:this}return a.apply(u,o(f,arguments))})),a.prototype){var s=function(){};s.prototype=a.prototype,c.prototype=new s,s.prototype=null}return c}}),1207,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=Function.prototype.call}),1208,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),c=r(d[1]),s=r(d[2]),l=r(d[3]);m.exports=l||t.call(s,c)}),1209,[1206,1210,1208,1211]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=Function.prototype.apply}),1210,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports='undefined'!=typeof Reflect&&Reflect&&Reflect.apply}),1211,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=Function.prototype.call,o=Object.prototype.hasOwnProperty,c=r(d[0]);m.exports=c.call(t,o)}),1212,[1206]);
__d((function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),o=r(d[1]),l=r(d[2]),t=r(d[3]);m.exports=function(u,b,f){if(!u||'object'!=typeof u&&'function'!=typeof u)throw new l('`obj` must be an object or a function`');if('string'!=typeof b&&'symbol'!=typeof b)throw new l('`property` must be a string or a symbol`');if(arguments.length>3&&'boolean'!=typeof arguments[3]&&null!==arguments[3])throw new l('`nonEnumerable`, if provided, must be a boolean or null');if(arguments.length>4&&'boolean'!=typeof arguments[4]&&null!==arguments[4])throw new l('`nonWritable`, if provided, must be a boolean or null');if(arguments.length>5&&'boolean'!=typeof arguments[5]&&null!==arguments[5])throw new l('`nonConfigurable`, if provided, must be a boolean or null');if(arguments.length>6&&'boolean'!=typeof arguments[6])throw new l('`loose`, if provided, must be a boolean');var p=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,w=arguments.length>5?arguments[5]:null,h=arguments.length>6&&arguments[6],y=!!t&&t(u,b);if(n)n(u,b,{configurable:null===w&&y?y.configurable:!w,enumerable:null===p&&y?y.enumerable:!p,value:f,writable:null===s&&y?y.writable:!s});else{if(!h&&(p||s||w))throw new o('This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.');u[b]=f}}}),1213,[1198,1185,1186,1196]);
__d((function(g,r,i,a,m,_e,d){'use strict';var n=r(d[0]),t=function(){return!!n};t.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],'length',{value:1}).length}catch(n){return!0}},m.exports=t}),1214,[1198]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]);m.exports=function(){return u(t,n,arguments)}}),1215,[1206,1210,1209]);
__d((function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]),o='function'==typeof Symbol&&'symbol'==typeof Symbol('foo'),n=Object.prototype.toString,c=Array.prototype.concat,f=r(d[1]),i=r(d[2])(),p=function(t,o,c,p){if(o in t)if(!0===p){if(t[o]===c)return}else if('function'!=typeof(l=p)||'[object Function]'!==n.call(l)||!p())return;var l;i?f(t,o,c,!0):f(t,o,c)},l=function(n,f){var i=arguments.length>2?arguments[2]:{},l=t(f);o&&(l=c.call(l,Object.getOwnPropertySymbols(f)));for(var y=0;y<l.length;y+=1)p(n,l[y],f[l[y]],i[l[y]])};l.supportsDescriptors=!!i,m.exports=l}),1216,[1217,1213,1214]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=Array.prototype.slice,n=r(d[0]),c=Object.keys,s=c?function(t){return c(t)}:r(d[1]),u=Object.keys;s.shim=function(){if(Object.keys){var c=(function(){var t=Object.keys(arguments);return t&&t.length===arguments.length})(1,2);c||(Object.keys=function(c){return n(c)?u(t.call(c)):u(c)})}else Object.keys=s;return Object.keys||s},m.exports=s}),1217,[1218,1219]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=Object.prototype.toString;m.exports=function(n){var o=t.call(n),c='[object Arguments]'===o;return c||(c='[object Array]'!==o&&null!==n&&'object'==typeof n&&'number'==typeof n.length&&n.length>=0&&'[object Function]'===t.call(n.callee)),c}}),1218,[]);
__d((function(g,r,_i,a,m,_e,d){'use strict';var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,o=Object.prototype.toString,n=r(d[0]),l=Object.prototype.propertyIsEnumerable,c=!l.call({toString:null},'toString'),i=l.call((function(){}),'prototype'),f=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],p=function(t){var e=t.constructor;return e&&e.prototype===t},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},s=(function(){for(var t in window)try{if(!u['$'+t]&&e.call(window,t)&&null!==window[t]&&'object'==typeof window[t])try{p(window[t])}catch(t){return!0}}catch(t){return!0}return!1})(),$=function(t){if(!s)return p(t);try{return p(t)}catch(t){return!1}};t=function(t){var l=null!==t&&'object'==typeof t,p='[object Function]'===o.call(t),u=n(t),s=l&&'[object String]'===o.call(t),h=[];if(!l&&!p&&!u)throw new TypeError('Object.keys called on a non-object');var y=i&&p;if(s&&t.length>0&&!e.call(t,0))for(var w=0;w<t.length;++w)h.push(String(w));if(u&&t.length>0)for(var b=0;b<t.length;++b)h.push(String(b));else for(var v in t)y&&'prototype'===v||!e.call(t,v)||h.push(String(v));if(c)for(var O=$(t),j=0;j<f.length;++j)O&&'constructor'===f[j]||!e.call(t,f[j])||h.push(f[j]);return h}}m.exports=t}),1219,[1218]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=function(){if('function'!=typeof Promise)throw new TypeError('`Promise.allSettled` requires a global `Promise` be available.')}}),1220,[]);
__d((function(g,r,i,a,m,_e,d){'use strict';r(d[0])();var t=r(d[1]),e=r(d[2]),n=r(d[3]),u=r(d[4]),s=r(d[5]),c=r(d[6]),o=c(s('%Promise.all%')),f=c(s('%Promise.reject%'));m.exports=function(s){var c=this;if('Object'!==e(c))throw new TypeError('`this` value must be an object');var l=n(s);return o(c,u(l,(function(e){var n=t(c,e);try{return n.then((function(t){return{status:'fulfilled',value:t}}),(function(t){return{status:'rejected',reason:t}}))}catch(t){return f(c,t)}})))}}),1221,[1220,1222,1223,1226,1229,1179,1177]);
__d((function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n=r(d[1]),s=r(d[2]),t=o('%Promise.resolve%',!0),u=t&&n(t);m.exports=function(o,n){if(!u)throw new s('This environment does not support Promises.');return u(o,n)}}),1222,[1179,1177,1185]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(n){return'symbol'==typeof n?'Symbol':'bigint'==typeof n?'BigInt':t(n)}}),1223,[1224]);
__d((function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=function(o){return null===o?'Null':void 0===o?'Undefined':n(o)?'Object':'number'==typeof o?'Number':'boolean'==typeof o?'Boolean':'string'==typeof o?'String':void 0}}),1224,[1225]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return!!t&&('function'==typeof t||'object'==typeof t)}}),1225,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=TypeError,o=r(d[1]);m.exports=function(u){var v=n(u);if(!v)throw new t('non-iterable value provided');return arguments.length>1?o(v,arguments[1]):o(v)}}),1226,[1456,1228]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=TypeError;m.exports=function(n){if(!n||'function'!=typeof n.next)throw new t('iterator must be an object with a `next` method');if(arguments.length>1){var o=arguments[1];if('function'!=typeof o)throw new t('`callback`, if provided, must be a function')}for(var f,u=o||[];(f=n.next())&&!f.done;)o?o(f.value):u.push(f.value);if(!o)return u}}),1228,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]),p=r(d[4]),s=r(d[5]),c=o.apply(s()),u=r(d[6]),y=l('Array.prototype.slice'),f=function(t,o){return n(t),c(t,y(arguments,1))};t(f,{getPolyfill:s,implementation:p,shim:u}),m.exports=f}),1229,[1216,1230,1177,1231,1232,1295,1297]);
__d((function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=function(t){if(null==t)throw new n(arguments.length>0&&arguments[1]||'Cannot call method on '+t);return t}}),1230,[1186]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=n([t('%String.prototype.indexOf%')]);m.exports=function(p,f){var u=t(p,!!f);return'function'==typeof u&&o(p,'.prototype.')>-1?n([u]):u}}),1231,[1179,1205]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),p=r(d[3]),c=r(d[4]),f=r(d[5]),s=r(d[6]),u=r(d[7]),l=r(d[8]),v=r(d[9]),h=r(d[10]),y=Object('a'),b='a'!==y[0]||!(0 in y),w=v('String.prototype.split');m.exports=function(v){var y,_=u(this),j=b&&h(_)?w(_,''):_,k=s(j.length);if(!f(v))throw new TypeError('Array.prototype.map callback must be a function');arguments.length>1&&(y=arguments[1]);for(var x=t(_,k),A=0;A<k;){var E=l(A);if(c(_,E)){var O=p(_,E),S=n(v,y,[O,A,_]);o(x,E,S)}A+=1}return x}}),1232,[1233,1261,1262,1242,1271,1258,1272,1293,1288,1231,1294]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%Symbol.species%',!0),n=r(d[1]),o=r(d[2]),s=r(d[3]),u=r(d[4]),c=r(d[5]),f=r(d[6]),l=r(d[7]);m.exports=function(w,v){if(!o(v)||v<0)throw new n('Assertion failed: length must be an integer >= 0');if(!f(w))return u(v);var b=c(w,'constructor');if(t&&s(b)&&null===(b=c(b,t))&&(b=void 0),void 0===b)return u(v);if(!l(b))throw new n('C must be a constructor');return new b(v)}}),1233,[1179,1186,1234,1225,1236,1242,1246,1248]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),f=r(d[3]);m.exports=function(o){if('number'!=typeof o||u(o)||!f(o))return!1;var c=t(o);return n(c)===c}}),1234,[1188,1189,1195,1235]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(n){return('number'==typeof n||'bigint'==typeof n)&&!t(n)&&n!==1/0&&n!==-1/0}}),1235,[1195]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%Array.prototype%'),n=r(d[1]),o=r(d[2]),s=r(d[3]),h=r(d[4]),p=r(d[5]),u=r(d[6]);m.exports=function(f){if(!h(f)||f<0)throw new s('Assertion failed: `length` must be an integer Number >= 0');if(f>p)throw new n('length is greater than (2**32 - 1)');var w=arguments.length>1?arguments[1]:t,y=[];if(w!==t){if(!u)throw new o('ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]');u(y,w)}return 0!==f&&(y.length=f),y}}),1236,[1179,1183,1185,1186,1234,1237,1238]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=4294967295}),1237,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),f=r(d[3]);m.exports=t?function(n,o){if(t(n,o))return n;throw new f('Reflect.setPrototypeOf: failed to set [[Prototype]]')}:n||(o?function(t,n){return o(t,n),t}:null)}),1238,[1239,1240,1241,1186]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports='undefined'!=typeof Reflect&&Reflect.setPrototypeOf||null}),1239,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t.setPrototypeOf||null}),1240,[1180]);
__d((function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),o=r(d[1]),_=r(d[2]),e={};try{e.__proto__=null}catch(t){if(!t||'object'!=typeof t||!('code'in t)||'ERR_PROTO_ACCESS'!==t.code)throw t}var n=!('toString'in e),c=o&&o(Object.prototype,'__proto__');m.exports=n&&(!!c&&'function'==typeof c.set&&t([c.set])||function(t,o){if(null==t)throw new _('set Object.prototype.__proto__ called on null or undefined');return t.__proto__=o,o})}),1241,[1205,1196,1186]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]);m.exports=function(f,c){if(!s(f))throw new t('Assertion failed: Type(O) is not Object');if(!o(c))throw new t('Assertion failed: P is not a Property Key, got '+n(c));return f[c]}}),1242,[1186,1243,1245,1225]);
__d((function(g,r,_i,a,_m,_e,d){var t='function'==typeof Map&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,'size'):null,n=t&&e&&'function'==typeof e.get?e.get:null,o=t&&Map.prototype.forEach,i='function'==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,'size'):null,l=i&&u&&'function'==typeof u.get?u.get:null,c=i&&Set.prototype.forEach,f='function'==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p='function'==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,y='function'==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,s=Object.prototype.toString,S=Function.prototype.toString,h=String.prototype.match,m=String.prototype.slice,v=String.prototype.replace,j=String.prototype.toUpperCase,O=String.prototype.toLowerCase,_=RegExp.prototype.test,w=Array.prototype.concat,x=Array.prototype.join,W=Array.prototype.slice,k=Math.floor,E='function'==typeof BigInt?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,T='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?Symbol.prototype.toString:null,L='function'==typeof Symbol&&'object'==typeof Symbol.iterator,$='function'==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===L||'symbol')?Symbol.toStringTag:null,A=Object.prototype.propertyIsEnumerable,q=('function'==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function I(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||_.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if('number'==typeof t){var o=t<0?-k(-t):k(t);if(o!==t){var i=String(o),u=m.call(e,i.length+1);return v.call(i,n,'$&_')+'.'+v.call(v.call(u,/([0-9]{3})/g,'$&_'),/_$/,'')}}return v.call(e,n,'$&_')}var N=r(d[0]),P=N.custom,R=X(P)?P:null,D={__proto__:null,double:'"',single:"'"},B={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function C(t,e,n){var o=n.quoteStyle||e,i=D[o];return i+t+i}function z(t){return v.call(String(t),/"/g,'&quot;')}function F(t){return!$||!('object'==typeof t&&($ in t||void 0!==t[$]))}function H(t){return'[object Array]'===et(t)&&F(t)}function U(t){return'[object Date]'===et(t)&&F(t)}function G(t){return'[object RegExp]'===et(t)&&F(t)}function J(t){return'[object Error]'===et(t)&&F(t)}function K(t){return'[object String]'===et(t)&&F(t)}function Q(t){return'[object Number]'===et(t)&&F(t)}function V(t){return'[object Boolean]'===et(t)&&F(t)}function X(t){if(L)return t&&'object'==typeof t&&t instanceof Symbol;if('symbol'==typeof t)return!0;if(!t||'object'!=typeof t||!T)return!1;try{return T.call(t),!0}catch(t){}return!1}function Y(t){if(!t||'object'!=typeof t||!E)return!1;try{return E.call(t),!0}catch(t){}return!1}_m.exports=function t(e,i,u,f){var p=i||{};if(tt(p,'quoteStyle')&&!tt(D,p.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(tt(p,'maxStringLength')&&('number'==typeof p.maxStringLength?p.maxStringLength<0&&p.maxStringLength!==1/0:null!==p.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var y=!tt(p,'customInspect')||p.customInspect;if('boolean'!=typeof y&&'symbol'!==y)throw new TypeError('option "customInspect", if provided, must be `true`, `false`, or `\'symbol\'`');if(tt(p,'indent')&&null!==p.indent&&'\t'!==p.indent&&!(parseInt(p.indent,10)===p.indent&&p.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(tt(p,'numericSeparator')&&'boolean'!=typeof p.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=p.numericSeparator;if(void 0===e)return'undefined';if(null===e)return'null';if('boolean'==typeof e)return e?'true':'false';if('string'==typeof e)return ft(e,p);if('number'==typeof e){if(0===e)return 1/0/e>0?'0':'-0';var S=String(e);return s?I(e,S):S}if('bigint'==typeof e){var h=String(e)+'n';return s?I(e,h):h}var j=void 0===p.depth?5:p.depth;if(void 0===u&&(u=0),u>=j&&j>0&&'object'==typeof e)return H(e)?'[Array]':'[Object]';var _=St(p,u);if(void 0===f)f=[];else if(nt(f,e)>=0)return'[Circular]';function k(e,n,o){if(n&&(f=W.call(f)).push(n),o){var i={depth:p.depth};return tt(p,'quoteStyle')&&(i.quoteStyle=p.quoteStyle),t(e,i,u+1,f)}return t(e,p,u+1,f)}if('function'==typeof e&&!G(e)){var M=rt(e),P=mt(e,k);return'[Function'+(M?': '+M:' (anonymous)')+']'+(P.length>0?' { '+x.call(P,', ')+' }':'')}if(X(e)){var B=L?v.call(String(e),/^(Symbol\(.*\))_[^)]*$/,'$1'):T.call(e);return'object'!=typeof e||L?B:yt(B)}if(at(e)){for(var F='<'+O.call(String(e.nodeName)),Z=e.attributes||[],pt=0;pt<Z.length;pt++)F+=' '+Z[pt].name+'='+C(z(Z[pt].value),'double',p);return F+='>',e.childNodes&&e.childNodes.length&&(F+='...'),F+='</'+O.call(String(e.nodeName))+'>'}if(H(e)){if(0===e.length)return'[]';var dt=mt(e,k);return _&&!st(dt)?'['+ht(dt,_)+']':'[ '+x.call(dt,', ')+' ]'}if(J(e)){var vt=mt(e,k);return'cause'in Error.prototype||!('cause'in e)||A.call(e,'cause')?0===vt.length?'['+String(e)+']':'{ ['+String(e)+'] '+x.call(vt,', ')+' }':'{ ['+String(e)+'] '+x.call(w.call('[cause]: '+k(e.cause),vt),', ')+' }'}if('object'==typeof e&&y){if(R&&'function'==typeof e[R]&&N)return N(e,{depth:j-u});if('symbol'!==y&&'function'==typeof e.inspect)return e.inspect()}if(ot(e)){var jt=[];return o&&o.call(e,(function(t,n){jt.push(k(n,e,!0)+' => '+k(t,e))})),bt('Map',n.call(e),jt,_)}if(lt(e)){var Ot=[];return c&&c.call(e,(function(t){Ot.push(k(t,e))})),bt('Set',l.call(e),Ot,_)}if(it(e))return gt('WeakMap');if(ct(e))return gt('WeakSet');if(ut(e))return gt('WeakRef');if(Q(e))return yt(k(Number(e)));if(Y(e))return yt(k(E.call(e)));if(V(e))return yt(b.call(e));if(K(e))return yt(k(String(e)));if(e===window)return'{ [object Window] }';if('undefined'!=typeof globalThis&&e===globalThis||void 0!==g&&e===g)return'{ [object globalThis] }';if(!U(e)&&!G(e)){var _t=mt(e,k),wt=q?q(e)===Object.prototype:e instanceof Object||e.constructor===Object,xt=e instanceof Object?'':'null prototype',Wt=!wt&&$&&Object(e)===e&&$ in e?m.call(et(e),8,-1):xt?'Object':'',kt=(wt||'function'!=typeof e.constructor?'':e.constructor.name?e.constructor.name+' ':'')+(Wt||xt?'['+x.call(w.call([],Wt||[],xt||[]),': ')+'] ':'');return 0===_t.length?kt+'{}':_?kt+'{'+ht(_t,_)+'}':kt+'{ '+x.call(_t,', ')+' }'}return String(e)};var Z=Object.prototype.hasOwnProperty||function(t){return t in this};function tt(t,e){return Z.call(t,e)}function et(t){return s.call(t)}function rt(t){if(t.name)return t.name;var e=h.call(S.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function nt(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1}function ot(t){if(!n||!t||'object'!=typeof t)return!1;try{n.call(t);try{l.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}function it(t){if(!f||!t||'object'!=typeof t)return!1;try{f.call(t,f);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}function ut(t){if(!y||!t||'object'!=typeof t)return!1;try{return y.call(t),!0}catch(t){}return!1}function lt(t){if(!l||!t||'object'!=typeof t)return!1;try{l.call(t);try{n.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}function ct(t){if(!p||!t||'object'!=typeof t)return!1;try{p.call(t,p);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}function at(t){return!(!t||'object'!=typeof t)&&('undefined'!=typeof HTMLElement&&t instanceof HTMLElement||'string'==typeof t.nodeName&&'function'==typeof t.getAttribute)}function ft(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,o='... '+n+' more character'+(n>1?'s':'');return ft(m.call(t,0,e.maxStringLength),e)+o}var i=B[e.quoteStyle||'single'];return i.lastIndex=0,C(v.call(v.call(t,i,'\\$1'),/[\x00-\x1f]/g,pt),'single',e)}function pt(t){var e=t.charCodeAt(0),n={8:'b',9:'t',10:'n',12:'f',13:'r'}[e];return n?'\\'+n:'\\x'+(e<16?'0':'')+j.call(e.toString(16))}function yt(t){return'Object('+t+')'}function gt(t){return t+' { ? }'}function bt(t,e,n,o){return t+' ('+e+') {'+(o?ht(n,o):x.call(n,', '))+'}'}function st(t){for(var e=0;e<t.length;e++)if(nt(t[e],'\n')>=0)return!1;return!0}function St(t,e){var n;if('\t'===t.indent)n='\t';else{if(!('number'==typeof t.indent&&t.indent>0))return null;n=x.call(Array(t.indent+1),' ')}return{base:n,prev:x.call(Array(e+1),n)}}function ht(t,e){if(0===t.length)return'';var n='\n'+e.prev+e.base;return n+x.call(t,','+n)+'\n'+e.prev}function mt(t,e){var n=H(t),o=[];if(n){o.length=t.length;for(var i=0;i<t.length;i++)o[i]=tt(t,i)?e(t[i],t):''}var u,l='function'==typeof M?M(t):[];if(L){u={};for(var c=0;c<l.length;c++)u['$'+l[c]]=l[c]}for(var f in t)tt(t,f)&&(n&&String(Number(f))===f&&f<t.length||L&&u['$'+f]instanceof Symbol||(_.call(/[^\w$]/,f)?o.push(e(f,t)+': '+e(t[f],t)):o.push(f+': '+e(t[f],t))));if('function'==typeof M)for(var p=0;p<l.length;p++)A.call(t,l[p])&&o.push('['+e(l[p])+']: '+e(t[l[p]],t));return o}}),1243,[1388]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return'string'==typeof t||'symbol'==typeof t}}),1245,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])}),1246,[1247]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%Array%'),o=!t.isArray&&r(d[1])('Object.prototype.toString');m.exports=t.isArray||function(t){return'[object Array]'===o(t)}}),1247,[1179,1231]);
__d((function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0])('%Reflect.construct%',!0),n=r(d[1]);try{n({},'',{'[[Get]]':function(){}})}catch(t){n=null}if(n&&t){var e={},c={};n(c,'length',{'[[Get]]':function(){throw e},'[[Enumerable]]':!0}),m.exports=function(n){try{t(n,c)}catch(t){return t===e}}}else m.exports=function(t){return'function'==typeof t&&!!t.prototype}}),1248,[1249,1250]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])}),1249,[1179]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),n=r(d[2]),s=r(d[3]),f=r(d[4]),c=r(d[5]),w=r(d[6]),p=r(d[7]),l=r(d[8]);m.exports=function(u,y,h){if(!o(u))throw new t('Assertion failed: Type(O) is not Object');if(!w(y))throw new t('Assertion failed: P is not a Property Key');var v=n(h)?h:l(h);if(!n(v))throw new t('Assertion failed: Desc is not a valid Property Descriptor');return s(c,p,f,u,y,v)}}),1250,[1186,1225,1251,1252,1253,1255,1245,1256,1257]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),n={__proto__:null,'[[Configurable]]':!0,'[[Enumerable]]':!0,'[[Get]]':!0,'[[Set]]':!0,'[[Value]]':!0,'[[Writable]]':!0};m.exports=function(u){if(!u||'object'!=typeof u)return!1;for(var s in u)if(o(u,s)&&!n[s])return!1;var c=o(u,'[[Value]]')||o(u,'[[Writable]]'),f=o(u,'[[Get]]')||o(u,'[[Set]]');if(c&&f)throw new t('Property Descriptors may not be both accessor and data descriptors');return!0}}),1251,[1186,1212]);
__d((function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),u=n.hasArrayLengthDefineBug(),l=u&&r(d[2]),f=r(d[3])('Object.prototype.propertyIsEnumerable');m.exports=function(n,o,h,b,p,s){if(!t){if(!n(s))return!1;if(!s['[[Configurable]]']||!s['[[Writable]]'])return!1;if(p in b&&f(b,p)!==!!s['[[Enumerable]]'])return!1;var V=s['[[Value]]'];return b[p]=V,o(b[p],V)}return u&&'length'===p&&'[[Value]]'in s&&l(b)&&b.length!==s['[[Value]]']?(b.length=s['[[Value]]'],b.length===s['[[Value]]']):(t(b,p,h(s)),!0)}}),1252,[1214,1198,1247,1231]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),s=r(d[2]);m.exports=function(n){if(void 0!==n&&!o(n))throw new t('Assertion failed: `Desc` must be a Property Descriptor');return s(n)}}),1253,[1186,1251,1254]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=function(n){if(void 0===n)return n;var t={};return'[[Value]]'in n&&(t.value=n['[[Value]]']),'[[Writable]]'in n&&(t.writable=!!n['[[Writable]]']),'[[Get]]'in n&&(t.get=n['[[Get]]']),'[[Set]]'in n&&(t.set=n['[[Set]]']),'[[Enumerable]]'in n&&(t.enumerable=!!n['[[Enumerable]]']),'[[Configurable]]'in n&&(t.configurable=!!n['[[Configurable]]']),t}}),1254,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]);m.exports=function(s){if(void 0===s)return!1;if(!o(s))throw new t('Assertion failed: `Desc` must be a Property Descriptor');return!(!n(s,'[[Value]]')&&!n(s,'[[Writable]]'))}}),1255,[1186,1212,1251]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(n,u){return n===u?0!==n||1/n==1/u:t(n)&&t(u)}}),1256,[1195]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=r(d[3]),l=r(d[4]);m.exports=function(b){if(!o(b))throw new n('ToPropertyDescriptor requires an object');var s={};if(t(b,'enumerable')&&(s['[[Enumerable]]']=l(b.enumerable)),t(b,'configurable')&&(s['[[Configurable]]']=l(b.configurable)),t(b,'value')&&(s['[[Value]]']=b.value),t(b,'writable')&&(s['[[Writable]]']=l(b.writable)),t(b,'get')){var f=b.get;if(void 0!==f&&!u(f))throw new n('getter must be a function');s['[[Get]]']=f}if(t(b,'set')){var c=b.set;if(void 0!==c&&!u(c))throw new n('setter must be a function');s['[[Set]]']=c}if((t(s,'[[Get]]')||t(s,'[[Set]]'))&&(t(s,'[[Value]]')||t(s,'[[Writable]]')))throw new n('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');return s}}),1257,[1212,1186,1225,1258,1260]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])}),1258,[1259]);
__d((function(g,r,i,a,m,_e,d){'use strict';var t,e,n=Function.prototype.toString,o='object'==typeof Reflect&&null!==Reflect&&Reflect.apply;if('function'==typeof o&&'function'==typeof Object.defineProperty)try{t=Object.defineProperty({},'length',{get:function(){throw e}}),e={},o((function(){throw 42}),null,t)}catch(t){t!==e&&(o=null)}else o=null;var c=/^\s*class\b/,l=function(t){try{var e=n.call(t);return c.test(e)}catch(t){return!1}},u=function(t){try{return!l(t)&&(n.call(t),!0)}catch(t){return!1}},f=Object.prototype.toString,y='function'==typeof Symbol&&!!Symbol.toStringTag,b=!(0 in[,]),p=function(){return!1};if('object'==typeof document){var j=document.all;f.call(j)===f.call(document.all)&&(p=function(t){if((b||!t)&&(void 0===t||'object'==typeof t))try{var e=f.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t('')}catch(t){}return!1})}m.exports=o?function(n){if(p(n))return!0;if(!n)return!1;if('function'!=typeof n&&'object'!=typeof n)return!1;try{o(n,null,t)}catch(t){if(t!==e)return!1}return!l(n)&&u(n)}:function(t){if(p(t))return!0;if(!t)return!1;if('function'!=typeof t&&'object'!=typeof t)return!1;if(y)return u(t);if(l(t))return!1;var e=f.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&u(t)}}),1259,[]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return!!t}}),1260,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),p=r(d[3]),s=t('%Reflect.apply%',!0)||n('Function.prototype.apply');m.exports=function(t,n){var u=arguments.length>2?arguments[2]:[];if(!p(u))throw new o('Assertion failed: optional `argumentsList`, if provided, must be a List');return s(t,n,u)}}),1261,[1179,1231,1186,1246]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),n=r(d[2]),s=r(d[3]);m.exports=function(f,w,c){if(!o(f))throw new t('Assertion failed: Type(O) is not Object');if(!s(w))throw new t('Assertion failed: P is not a Property Key');if(!n(f,w,c))throw new t('unable to create data property')}}),1262,[1186,1225,1263,1245]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]);m.exports=function(f,u,l){if(!n(f))throw new t('Assertion failed: Type(O) is not Object');if(!o(u))throw new t('Assertion failed: P is not a Property Key');return s(f,u,{'[[Configurable]]':!0,'[[Enumerable]]':!0,'[[Value]]':l,'[[Writable]]':!0})}}),1263,[1186,1225,1245,1264]);
__d((function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),s=r(d[3]),u=r(d[4]),l=r(d[5]),b=r(d[6]),f=r(d[7]),p=r(d[8]),w=r(d[9]),c=r(d[10]);m.exports=function(h,v,y){if(!s(h))throw new o('Assertion failed: O must be an Object');if(!f(v))throw new o('Assertion failed: P must be a Property Key');if(!u(y))throw new o('Assertion failed: Desc must be a Property Descriptor');if(!n){if(l(y))throw new t('This environment does not support accessor property descriptors.');var V=!(v in h)&&y['[[Writable]]']&&y['[[Enumerable]]']&&y['[[Configurable]]']&&'[[Value]]'in y,A=v in h&&(!('[[Configurable]]'in y)||y['[[Configurable]]'])&&(!('[[Enumerable]]'in y)||y['[[Enumerable]]'])&&(!('[[Writable]]'in y)||y['[[Writable]]'])&&'[[Value]]'in y;if(V||A)return h[v]=y['[[Value]]'],w(h[v],y['[[Value]]']);throw new t('This environment does not support defining non-writable, non-enumerable, or non-configurable properties')}var C=n(h,v),E=C&&p(C),P=b(h);return c(h,v,P,y,E)}}),1264,[1196,1185,1186,1225,1251,1265,1266,1245,1257,1256,1268]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]);m.exports=function(s){if(void 0===s)return!1;if(!o(s))throw new t('Assertion failed: `Desc` must be a Property Descriptor');return!(!n(s,'[[Get]]')&&!n(s,'[[Set]]'))}}),1265,[1186,1212,1251]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t('%Object.preventExtensions%',!0),s=t('%Object.isExtensible%',!0),c=r(d[1]);m.exports=n?function(t){return!c(t)&&s(t)}:function(t){return!c(t)}}),1266,[1179,1267]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return null===t||'function'!=typeof t&&'object'!=typeof t}}),1267,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),u=r(d[2]),l=r(d[3]),o=r(d[4]),b=r(d[5]),f=r(d[6]),s=r(d[7]),c=r(d[8]),p=r(d[9]),w=r(d[10]);m.exports=function(C,E,v,V,W){if(void 0!==C&&!t(C))throw new n('Assertion failed: O must be undefined or an Object');if(!p(E))throw new n('Assertion failed: P must be a Property Key');if('boolean'!=typeof v)throw new n('Assertion failed: extensible must be a Boolean');if(!o(V))throw new n('Assertion failed: Desc must be a Property Descriptor');if(void 0!==W&&!o(W))throw new n('Assertion failed: current must be a Property Descriptor, or undefined');if(void 0===W)return!!v&&(void 0===C||(f(V)?u(s,w,b,C,E,V):u(s,w,b,C,E,{'[[Configurable]]':!!V['[[Configurable]]'],'[[Enumerable]]':!!V['[[Enumerable]]'],'[[Value]]':V['[[Value]]'],'[[Writable]]':!!V['[[Writable]]']})));if(!l({IsAccessorDescriptor:f,IsDataDescriptor:s},W))throw new n('`current`, when present, must be a fully populated and valid Property Descriptor');if(!W['[[Configurable]]']){if('[[Configurable]]'in V&&V['[[Configurable]]'])return!1;if('[[Enumerable]]'in V&&!w(V['[[Enumerable]]'],W['[[Enumerable]]']))return!1;if(!c(V)&&!w(f(V),f(W)))return!1;if(f(W)){if('[[Get]]'in V&&!w(V['[[Get]]'],W['[[Get]]']))return!1;if('[[Set]]'in V&&!w(V['[[Set]]'],W['[[Set]]']))return!1}else if(!W['[[Writable]]']){if('[[Writable]]'in V&&V['[[Writable]]'])return!1;if('[[Value]]'in V&&!w(V['[[Value]]'],W['[[Value]]']))return!1}}var h,y;return void 0===C||(s(W)&&f(V)?(h=('[[Configurable]]'in V?V:W)['[[Configurable]]'],y=('[[Enumerable]]'in V?V:W)['[[Enumerable]]'],u(s,w,b,C,E,{'[[Configurable]]':!!h,'[[Enumerable]]':!!y,'[[Get]]':('[[Get]]'in V?V:W)['[[Get]]'],'[[Set]]':('[[Set]]'in V?V:W)['[[Set]]']})):f(W)&&s(V)?(h=('[[Configurable]]'in V?V:W)['[[Configurable]]'],y=('[[Enumerable]]'in V?V:W)['[[Enumerable]]'],u(s,w,b,C,E,{'[[Configurable]]':!!h,'[[Enumerable]]':!!y,'[[Value]]':('[[Value]]'in V?V:W)['[[Value]]'],'[[Writable]]':!!('[[Writable]]'in V?V:W)['[[Writable]]']})):u(s,w,b,C,E,V))}}),1268,[1186,1225,1252,1269,1251,1253,1265,1255,1270,1245,1256]);
__d((function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=function(s,t){return n(t)&&'[[Enumerable]]'in t&&'[[Configurable]]'in t&&(s.IsAccessorDescriptor(t)||s.IsDataDescriptor(t))}}),1269,[1251]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]);m.exports=function(u){if(void 0===u)return!1;if(!s(u))throw new t('Assertion failed: `Desc` must be a Property Descriptor');return!n(u)&&!o(u)}}),1270,[1186,1265,1255,1251]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]);m.exports=function(o,f){if(!n(o))throw new t('Assertion failed: `O` must be an Object');if(!s(f))throw new t('Assertion failed: `P` must be a Property Key');return f in o}}),1271,[1186,1225,1245]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),c=r(d[3]);m.exports=function(f){var o=n(f);if(!c(o)||0===o)return 0;var s=u(o),v=t(s,4294967296);return 0===v?0:v}}),1272,[1273,1276,1291,1235]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(n,u){return t(n,u)}}),1273,[1274]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])}),1274,[1275]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(n,u){var c=n%u;return t(c>=0?c:c+u)}}),1275,[1189]);
__d((function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),t=r(d[1]),n=o('%Number%'),f=r(d[2]),u=r(d[3]),s=r(d[4]);m.exports=function(o){var b=f(o)?o:u(o,n);if('symbol'==typeof b)throw new t('Cannot convert a Symbol value to a number');if('bigint'==typeof b)throw new t('Conversion from \'BigInt\' to \'number\' is not allowed.');return'string'==typeof b?s(b):+b}}),1276,[1179,1186,1267,1277,1285]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(n){return arguments.length>1?t(n,arguments[1]):t(n)}}),1277,[1278]);
__d((function(g,r,_i,a,m,e,d){'use strict';var t='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator,o=r(d[0]),n=r(d[1]),i=r(d[2]),u=r(d[3]),f=function(t,i){if(null==t)throw new TypeError('Cannot call method on '+t);if('string'!=typeof i||'number'!==i&&'string'!==i)throw new TypeError('hint must be "string" or "number"');var u,f,l,y='string'===i?['toString','valueOf']:['valueOf','toString'];for(l=0;l<y.length;++l)if(u=t[y[l]],n(u)&&(f=u.call(t),o(f)))return f;throw new TypeError('No default value')},l=function(t,o){var i=t[o];if(null!=i){if(!n(i))throw new TypeError(i+' returned for property '+String(o)+' of object '+t+' is not a function');return i}};m.exports=function(n){if(o(n))return n;var y,b='default';if(arguments.length>1&&(arguments[1]===String?b='string':arguments[1]===Number&&(b='number')),t&&(Symbol.toPrimitive?y=l(n,Symbol.toPrimitive):u(n)&&(y=Symbol.prototype.valueOf)),void 0!==y){var c=y.call(n,b);if(o(c))return c;throw new TypeError('unable to convert exotic object to primitive')}return'default'===b&&(i(n)||u(n))&&(b='string'),f(n,'default'===b?'number':b)}}),1278,[1279,1259,1280,1282]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return null===t||'function'!=typeof t&&'object'!=typeof t}}),1279,[]);
__d((function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),e=t('Date.prototype.getDay'),o=function(t){try{return e(t),!0}catch(t){return!1}},n=t('Object.prototype.toString'),c=r(d[1])();m.exports=function(t){return'object'==typeof t&&null!==t&&(c?o(t):"[object Date]"===n(t))}}),1280,[1231,1281]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(){return t()&&!!Symbol.toStringTag}}),1281,[1200]);
__d((function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),o=t('Object.prototype.toString'),e=r(d[1])(),n=r(d[2]);if(e){var u=t('Symbol.prototype.toString'),f=n(/^Symbol\(.*\)$/),y=function(t){return'symbol'==typeof t.valueOf()&&f(u(t))};m.exports=function(t){if('symbol'==typeof t)return!0;if(!t||'object'!=typeof t||'[object Symbol]'!==o(t))return!1;try{return y(t)}catch(t){return!1}}}else m.exports=function(t){return!1}}),1282,[1231,1199,1283]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=t('RegExp.prototype.exec'),o=r(d[2]);m.exports=function(t){if(!n(t))throw new o('`regex` must be a RegExp');return function(n){return null!==u(t,n)}}}),1283,[1231,1284,1186]);
__d((function(g,r,i,a,m,_e,d){'use strict';var t,e=r(d[0]),o=r(d[1])(),n=r(d[2]),c=r(d[3]);if(o){var f=e('RegExp.prototype.exec'),u={},p=function(){throw u},y={toString:p,valueOf:p};'symbol'==typeof Symbol.toPrimitive&&(y[Symbol.toPrimitive]=p),t=function(t){if(!t||'object'!=typeof t)return!1;var e=c(t,'lastIndex');if(!(e&&n(e,'value')))return!1;try{f(t,y)}catch(t){return t===u}}}else{var v=e('Object.prototype.toString');t=function(t){return!(!t||'object'!=typeof t&&'function'!=typeof t)&&"[object RegExp]"===v(t)}}m.exports=t}),1284,[1231,1281,1212,1196]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t('%RegExp%'),o=r(d[1]),f=t('%parseInt%'),s=r(d[2]),u=r(d[3]),p=s('String.prototype.slice'),c=u(/^0b[01]+$/i),w=u(/^0o[0-7]+$/i),x=u(/^[-+]0x[0-9a-f]+$/i),$=u(new n('['+['\x85','\u200b','\ufffe'].join('')+']','g')),l=r(d[4]);m.exports=function t(n){if('string'!=typeof n)throw new o('Assertion failed: `argument` is not a String');if(c(n))return+f(p(n,2),2);if(w(n))return+f(p(n,2),8);if($(n)||x(n))return NaN;var s=l(n);return s!==n?t(s):+n}}),1285,[1179,1186,1231,1283,1286]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]),s=r(d[4]),u=r(d[5]),c=t(s()),f=function(t){return o(t),c(t)};n(f,{getPolyfill:s,implementation:l,shim:u}),m.exports=f}),1286,[1177,1216,1230,1287,1289,1290]);
__d((function(g,r,i,a,m,e,d){'use strict';var u=r(d[0]),x=r(d[1]),F=r(d[2])('String.prototype.replace'),t=/^\s$/.test('\u180e'),A=t?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,n=t?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;m.exports=function(){var t=x(u(this));return F(F(t,A,''),n,'')}}),1287,[1230,1288,1231]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%String%'),n=r(d[1]);m.exports=function(o){if('symbol'==typeof o)throw new n('Cannot convert a Symbol value to a string');return t(o)}}),1288,[1179,1186]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()&&"\u180e"==="\u180e".trim()&&"_\u180e"==="_\u180e".trim()&&"\u180e_"==="\u180e_".trim()?String.prototype.trim:t}}),1289,[1287]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(),o=r(d[1]),n=r(d[2]);m.exports=function(){var p=n();return String.prototype.trim!==p&&(t?o(String.prototype,'trim',p,!0):o(String.prototype,'trim',p)),p}}),1290,[1214,1213,1289]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);m.exports=function(u){if('number'!=typeof u&&'bigint'!=typeof u)throw new n('argument must be a Number or a BigInt');var o=u<0?-t(-u):t(u);return 0===o?0:o}}),1291,[1292,1186]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(n){return'bigint'==typeof n?n:t(n)}}),1292,[1189]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);m.exports=function(u){return n(u),t(u)}}),1293,[1180,1230]);
__d((function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),e=t('String.prototype.valueOf'),n=function(t){try{return e(t),!0}catch(t){return!1}},o=t('Object.prototype.toString'),c=r(d[1])();m.exports=function(t){return'string'==typeof t||!(!t||'object'!=typeof t)&&(c?n(t):"[object String]"===o(t))}}),1294,[1231,1281]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);m.exports=function(){var o=Array.prototype.map;return t(o)?o:n}}),1295,[1296,1232]);
__d((function(g,r,i,a,m,_e,d){m.exports=function(t){var n=!0,c=!0,f=!1;if('function'==typeof t){try{t.call('f',(function(t,c,f){'object'!=typeof f&&(n=!1)})),t.call([null],(function(){'use strict';c='string'==typeof this}),'x')}catch(t){f=!0}return!f&&n&&c}return!1}}),1296,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);m.exports=function(){var o=n();return t(Array.prototype,{map:o},{map:function(){return Array.prototype.map!==o}}),o}}),1297,[1216,1295]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);m.exports=function(){return t(),'function'==typeof Promise.allSettled?Promise.allSettled:n}}),1298,[1220,1221]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),l=r(d[1]),n=r(d[2]);m.exports=function(){t();var o=l();return n(Promise,{allSettled:o},{allSettled:function(){return Promise.allSettled!==o}}),o}}),1299,[1220,1298,1216]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]),s=r(d[4]),u=t(s()),c=function(t,n){return o(t),u(t,n)};n(c,{getPolyfill:s,implementation:l,shim:r(d[5])}),m.exports=c}),1300,[1177,1216,1230,1301,1306,1307]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),u=r(d[3]),c=r(d[4]);m.exports=function(f){var o=u(this),v=n(o),_=s(f),h=_>=0?_:v+_;if(!(h<0||h>=v))return t(o,c(h))}}),1301,[1242,1302,1305,1293,1288]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]);m.exports=function(u){if(!n(u))throw new t('Assertion failed: `obj` must be an Object');return s(o(u,'length'))}}),1302,[1186,1225,1242,1303]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);m.exports=function(u){var c=n(u);return c<=0?0:c>t?t:c}}),1303,[1304,1305]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=Number.MAX_SAFE_INTEGER||9007199254740991}),1304,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),c=r(d[3]);m.exports=function(o){var s=t(o);return u(s)||0===s?0:c(s)?n(s):s}}),1305,[1276,1291,1195,1235]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(){return Array.prototype.at||t}}),1306,[1301]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]);m.exports=function(){var u=o();return t(Array.prototype,{at:u},{at:function(){return Array.prototype.at!==u}}),n('at'),u}}),1307,[1216,1308,1306]);
__d((function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),t='function'==typeof Symbol&&'symbol'==typeof Symbol.unscopables,n=t&&Array.prototype[Symbol.unscopables],y=TypeError;m.exports=function(p){if('string'!=typeof p||!p)throw new y('method must be a non-empty string');if(!o(Array.prototype,p))throw new y('method must be on Array.prototype');t&&n&&(n[p]=!0)}}),1308,[1212]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%Object.defineProperty%',!0),n=r(d[1]);m.exports=function(){var o=n();return o&&o!==Symbol.asyncIterator&&t(Symbol,'asyncIterator',{configurable:!1,enumerable:!1,value:o,writable:!1}),o}}),1309,[1179,1310]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(){return t&&Symbol.asyncIterator||t}}),1310,[1311]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])();m.exports=t&&(Symbol.asyncIterator||Symbol('Symbol.asyncIterator'))||null}),1311,[1200]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%Object.defineProperty%',!0),o=r(d[1]);m.exports=function(){var n=o();return n&&n!==Symbol.iterator&&t(Symbol,'iterator',{configurable:!1,enumerable:!1,value:n,writable:!1}),n}}),1312,[1179,1313]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(){return t&&Symbol.iterator||t}}),1313,[1314]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])();m.exports=t&&Symbol.iterator||null}),1314,[1200]);
__d((function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0});var t={registerGlobals:!0,AudioSession:!0,AndroidAudioTypePresets:!0,getDefaultAppleAudioConfigurationForMode:!0,RNE2EEManager:!0,RNKeyProvider:!0};Object.defineProperty(_e,"AndroidAudioTypePresets",{enumerable:!0,get:function(){return o.AndroidAudioTypePresets}}),Object.defineProperty(_e,"AudioSession",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(_e,"RNE2EEManager",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(_e,"RNKeyProvider",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(_e,"getDefaultAppleAudioConfigurationForMode",{enumerable:!0,get:function(){return o.getDefaultAppleAudioConfigurationForMode}}),_e.registerGlobals=function(){(0,r.registerGlobals)(),_(),(0,n.setupURLPolyfill)(),h(),t=_r(d[19]),t.shim(),w(),e=_r(d[21]),e(),M(),(0,f.setupNativeEvents)();var e;var t};var r=_r(d[1]),n=_r(d[2]);_r(d[3]);var o=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(u.get||u.set)?o(i,t,u):i[t]=e[t]);return i})(e,t)})(_r(d[4])),u=e(_r(d[5])),i=(e(_r(d[6])),e(_r(d[7]))),c=e(_r(d[8])),f=_r(d[9]),l=_r(d[10]);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===l[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return l[e]}}))}));var p=_r(d[11]);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===p[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return p[e]}}))}));var s=_r(d[12]);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===s[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return s[e]}}))}));var y=_r(d[13]);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===y[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return y[e]}}))}));var b=_r(d[14]);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===b[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return b[e]}}))}));var O=_r(d[15]);Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===O[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return O[e]}}))}));var j=_r(d[16]);Object.keys(j).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===j[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return j[e]}}))}));var P=_r(d[17]);Object.keys(P).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===P[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return P[e]}}))}));var v=_r(d[18]);function _(){let e={platform:"web",devicePixelRatio:u.default.get()};g.LiveKitReactNativeGlobal=e}function h(){var e;if(void 0!==(null===(e=window)||void 0===e?void 0:e.navigator)){const{navigator:e}=window;void 0===e.userAgent&&(e.userAgent=e.product??'Unknown')}}function w(){Array.prototype.at||_r(d[20]).shim()}function M(){_r(d[22])()}Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===v[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return v[e]}}))}))}),1389,[20,1390,1128,1430,1431,278,121,1433,1435,1436,1437,1447,1448,1449,1451,1452,1453,1454,1455,1176,1300,1309,1312]);
__d((function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"MediaStream",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(_e,"MediaStreamTrack",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(_e,"RTCAudioSession",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(_e,"RTCErrorEvent",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(_e,"RTCFrameCryptor",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(_e,"RTCFrameCryptorAlgorithm",{enumerable:!0,get:function(){return s.RTCFrameCryptorAlgorithm}}),Object.defineProperty(_e,"RTCFrameCryptorFactory",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(_e,"RTCFrameCryptorState",{enumerable:!0,get:function(){return b.RTCFrameCryptorState}}),Object.defineProperty(_e,"RTCIceCandidate",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(_e,"RTCKeyProvider",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(_e,"RTCKeyProviderOptions",{enumerable:!0,get:function(){return s.RTCKeyProviderOptions}}),Object.defineProperty(_e,"RTCPIPView",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(_e,"RTCPeerConnection",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(_e,"RTCRtpReceiver",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(_e,"RTCRtpSender",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(_e,"RTCRtpTransceiver",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(_e,"RTCSessionDescription",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(_e,"RTCView",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(_e,"ScreenCapturePickerView",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(_e,"mediaDevices",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(_e,"permissions",{enumerable:!0,get:function(){return c.default}}),_e.registerGlobals=function(){if('object'!=typeof g.navigator)throw new Error('navigator is not an object');g.navigator.mediaDevices||(g.navigator.mediaDevices={});g.navigator.mediaDevices.getUserMedia=u.default.getUserMedia.bind(u.default),g.navigator.mediaDevices.getDisplayMedia=u.default.getDisplayMedia.bind(u.default),g.navigator.mediaDevices.enumerateDevices=u.default.enumerateDevices.bind(u.default),g.RTCIceCandidate=y.default,g.RTCPeerConnection=C.default,g.RTCRtpReceiver=T.default,g.RTCRtpSender=T.default,g.RTCSessionDescription=j.default,g.MediaStream=i.default,g.MediaStreamTrack=o.default,g.MediaStreamTrackEvent=f.default,g.RTCRtpTransceiver=v.default,g.RTCRtpReceiver=T.default,g.RTCRtpSender=O.default,g.RTCErrorEvent=p.default},Object.defineProperty(_e,"startIOSPIP",{enumerable:!0,get:function(){return R.startIOSPIP}}),Object.defineProperty(_e,"stopIOSPIP",{enumerable:!0,get:function(){return R.stopIOSPIP}});var t=e(_r(d[1])),r=(e(_r(d[2])),_r(d[3])),n=e(_r(d[4])),u=e(_r(d[5])),i=e(_r(d[6])),o=e(_r(d[7])),f=e(_r(d[8])),c=e(_r(d[9])),l=e(_r(d[10])),p=e(_r(d[11])),b=D(_r(d[12])),s=D(_r(d[13])),y=e(_r(d[14])),P=e(_r(d[15])),R=D(_r(d[16])),C=e(_r(d[17])),T=e(_r(d[18])),O=e(_r(d[19])),v=e(_r(d[20])),j=e(_r(d[21])),S=e(_r(d[22])),M=e(_r(d[23]));function D(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(D=function(e,t){if(!t&&e&&e.__esModule)return e;var u,i,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?u(o,t,i):o[t]=e[t]);return o})(e,t)}const{WebRTCModule:I}=t.default;if(null===I)throw new Error("WebRTC native module not found.\nTry executing the \"npm install\" command inside your projects folder.");n.default.enable(`${n.default.ROOT_PREFIX}:*`),(0,r.setupNativeEvents)()}),1390,[20,244,121,1391,1392,1393,1396,1397,1402,1401,1403,1404,1405,1406,1408,1407,1409,1411,1421,1424,1425,1426,1410,1428]);
__d((function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.addListener=function(n,t,o){var c;if(!u.includes(t))throw new Error(`Invalid event: ${t}`);f.has(n)||f.set(n,[]);null===(c=f.get(n))||void 0===c||c.push(h.addListener(t,o))},e.removeListener=function(n){var t;null===(t=f.get(n))||void 0===t||t.forEach((n=>{n.remove()})),f.delete(n)},e.setupNativeEvents=function(){for(const n of u)l.addListener(n,(function(){for(var t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];h.emit(n,...o)}))};var t=n(r(d[1])),o=n(r(d[2])),c=n(r(d[3]));const{WebRTCModule:C}=t.default,l=new o.default(C),u=['peerConnectionSignalingStateChanged','peerConnectionStateChanged','peerConnectionOnRenegotiationNeeded','peerConnectionIceConnectionChanged','peerConnectionIceGatheringChanged','peerConnectionGotICECandidate','peerConnectionDidOpenDataChannel','peerConnectionOnRemoveTrack','peerConnectionOnTrack','dataChannelStateChanged','dataChannelReceiveMessage','dataChannelDidChangeBufferedAmount','mediaStreamTrackMuteChanged','mediaStreamTrackEnded','frameCryptionStateChanged'],h=new c.default;const f=new Map}),1391,[20,244,263,884]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1]));function n(t,o,n){return o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}class l{static enable(t){o.default.enable(t)}constructor(t){n(this,"_debug",void 0),n(this,"_info",void 0),n(this,"_warn",void 0),n(this,"_error",void 0);const s=`${l.ROOT_PREFIX}:${t}`;this._debug=(0,o.default)(`${s}:DEBUG`),this._info=(0,o.default)(`${s}:INFO`),this._warn=(0,o.default)(`${s}:WARN`),this._error=(0,o.default)(`${s}:ERROR`);const u=console.log.bind(console);this._debug.log=u,this._info.log=u,this._warn.log=u,this._error.log=u}debug(t){this._debug(t)}info(t){this._info(t)}warn(t){this._warn(t)}error(t,o){var n;const l=null!==(n=null==o?void 0:o.stack)&&void 0!==n?n:'N/A';this._error(`${t} Trace: ${l}`)}}e.default=l,n(l,"ROOT_PREFIX",'rn-webrtc')}),1392,[20,887]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[1]),u=t(r(d[2])),s=t(r(d[3])),l=t(r(d[4]));const{WebRTCModule:o}=u.default;class c extends n.EventTarget{enumerateDevices(){return new Promise((t=>o.enumerateDevices(t)))}getDisplayMedia(){return(0,s.default)()}getUserMedia(t){return(0,l.default)(t)}}const v=c.prototype;(0,n.defineEventAttribute)(v,'devicechange');e.default=new c}),1393,[20,1394,244,1395,1400]);
__d((function(g,r,_i,a,m,_e,_d){function e(e,n,...o){if(!e)throw new TypeError(t(n,o))}function t(e,t){let o=0;return e.replace(/%[os]/gu,(()=>n(t[o++])))}function n(e){return"object"!=typeof e||null===e?String(e):Object.prototype.toString.call(e)}let o;function i(e){try{const t=e instanceof Error?e:new Error(n(e));if(o)return void o(t);if("function"==typeof dispatchEvent&&"function"==typeof ErrorEvent)dispatchEvent(new ErrorEvent("error",{error:t,message:t.message}));else if("undefined"!=typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)}catch(e){}}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.EventTarget=_e.Event=void 0,_e.defineCustomEventTarget=function(...e){class t extends q{}for(let n=0;n<e.length;++n)pe(t.prototype,e[n]);return t},_e.defineEventAttribute=pe,_e.getEventAttributeValue=ie,_e.setErrorHandler=function(t){e("function"==typeof t||void 0===t,"The error handler must be a function or undefined, but got %o.",t),o=t},_e.setEventAttributeValue=se,_e.setWarningHandler=function(t){e("function"==typeof t||void 0===t,"The warning handler must be a function or undefined, but got %o.",t),l=t};const s=window;let l;class c{constructor(e,t){this.code=e,this.message=t}warn(...e){var t;try{if(l)return void l({...this,args:e});const n=(null!==(t=(new Error).stack)&&void 0!==t?t:"").replace(/^(?:.+?\n){2}/gu,"\n");console.warn(this.message,...e,n)}catch(e){}}}const u=new c("W01","Unable to initialize event under dispatching."),p=new c("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),b=new c("W03","Assigning any truthy value to 'returnValue' property has no effect."),f=new c("W04","Unable to preventDefault on non-cancelable events."),d=new c("W05","Unable to preventDefault inside passive event listener invocation."),E=new c("W06","An event listener wasn't added because it has been added already: %o, %o"),h=new c("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),v=new c("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),y=new c("W09","Event attribute handler must be a function: %o");class R{static get NONE(){return P}static get CAPTURING_PHASE(){return T}static get AT_TARGET(){return _}static get BUBBLING_PHASE(){return O}constructor(e,t){Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const n=null!=t?t:{};w.set(this,{type:String(e),bubbles:Boolean(n.bubbles),cancelable:Boolean(n.cancelable),composed:Boolean(n.composed),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})}get type(){return A(this).type}get target(){return A(this).target}get srcElement(){return A(this).target}get currentTarget(){return A(this).currentTarget}composedPath(){const e=A(this).currentTarget;return e?[e]:[]}get NONE(){return P}get CAPTURING_PHASE(){return T}get AT_TARGET(){return _}get BUBBLING_PHASE(){return O}get eventPhase(){return A(this).dispatchFlag?2:0}stopPropagation(){A(this).stopPropagationFlag=!0}get cancelBubble(){return A(this).stopPropagationFlag}set cancelBubble(e){e?A(this).stopPropagationFlag=!0:p.warn()}stopImmediatePropagation(){const e=A(this);e.stopPropagationFlag=e.stopImmediatePropagationFlag=!0}get bubbles(){return A(this).bubbles}get cancelable(){return A(this).cancelable}get returnValue(){return!A(this).canceledFlag}set returnValue(e){e?b.warn():I(A(this))}preventDefault(){I(A(this))}get defaultPrevented(){return A(this).canceledFlag}get composed(){return A(this).composed}get isTrusted(){return!1}get timeStamp(){return A(this).timeStamp}initEvent(e,t=!1,n=!1){const o=A(this);o.dispatchFlag?u.warn():w.set(this,{...o,type:String(e),bubbles:Boolean(t),cancelable:Boolean(n),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1})}}_e.Event=R;const P=0,T=1,_=2,O=3,w=new WeakMap;function A(t,n="this"){const o=w.get(t);return e(null!=o,"'%s' must be an object that Event constructor created, but got another one: %o",n,t),o}function I(e){e.inPassiveListenerFlag?d.warn():e.cancelable?e.canceledFlag=!0:f.warn()}Object.defineProperty(R,"NONE",{enumerable:!0}),Object.defineProperty(R,"CAPTURING_PHASE",{enumerable:!0}),Object.defineProperty(R,"AT_TARGET",{enumerable:!0}),Object.defineProperty(R,"BUBBLING_PHASE",{enumerable:!0});const S=Object.getOwnPropertyNames(R.prototype);for(let e=0;e<S.length;++e)"constructor"!==S[e]&&Object.defineProperty(R.prototype,S[e],{enumerable:!0});let N;void 0!==s&&void 0!==s.Event&&Object.setPrototypeOf(R.prototype,s.Event.prototype);const j={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function B(e){const t=Object.keys(j);for(let n=0;n<t.length;++n){const o=t[n],i=j[o];Object.defineProperty(e,o,{get:()=>i,configurable:!0,enumerable:!0})}}class D extends R{static wrap(e){return new(C(e))(e)}constructor(e){super(e.type,{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}),e.cancelBubble&&super.stopPropagation(),e.defaultPrevented&&super.preventDefault(),F.set(this,{original:e});const t=Object.keys(e);for(let n=0;n<t.length;++n){const o=t[n];o in this||Object.defineProperty(this,o,W(e,o))}}stopPropagation(){super.stopPropagation();const{original:e}=L(this);"stopPropagation"in e&&e.stopPropagation()}get cancelBubble(){return super.cancelBubble}set cancelBubble(e){super.cancelBubble=e;const{original:t}=L(this);"cancelBubble"in t&&(t.cancelBubble=e)}stopImmediatePropagation(){super.stopImmediatePropagation();const{original:e}=L(this);"stopImmediatePropagation"in e&&e.stopImmediatePropagation()}get returnValue(){return super.returnValue}set returnValue(e){super.returnValue=e;const{original:t}=L(this);"returnValue"in t&&(t.returnValue=e)}preventDefault(){super.preventDefault();const{original:e}=L(this);"preventDefault"in e&&e.preventDefault()}get timeStamp(){const{original:e}=L(this);return"timeStamp"in e?e.timeStamp:super.timeStamp}}const F=new WeakMap;function L(t){const n=F.get(t);return e(null!=n,"'this' is expected an Event object, but got",t),n}const k=new WeakMap;function C(e){const t=Object.getPrototypeOf(e);if(null==t)return D;let n=k.get(t);return null==n&&(n=U(C(t),t),k.set(t,n)),n}function U(e,t){class n extends e{}const o=Object.keys(t);for(let e=0;e<o.length;++e)Object.defineProperty(n.prototype,o[e],W(t,o[e]));return n}function W(e,t){const n=Object.getOwnPropertyDescriptor(e,t);return{get(){const e=L(this).original,n=e[t];return"function"==typeof n?n.bind(e):n},set(e){L(this).original[t]=e},configurable:n.configurable,enumerable:n.enumerable}}function M(e,t,n,o,i,s){return{callback:e,flags:(t?1:0)|(n?2:0)|(o?4:0),signal:i,signalListener:s}}function V(e){e.flags|=8}function H(e){return!(1&~e.flags)}function G(e){return!(2&~e.flags)}function x(e){return!(4&~e.flags)}function Y(e){return!(8&~e.flags)}function X({callback:e},t,n){try{"function"==typeof e?e.call(t,n):"function"==typeof e.handleEvent&&e.handleEvent(n)}catch(e){i(e)}}function Q({listeners:e},t,n){for(let o=0;o<e.length;++o)if(e[o].callback===t&&H(e[o])===n)return o;return-1}function Z(e,t,n,o,i,s){let l;s&&(l=z.bind(null,e,t,n),s.addEventListener("abort",l));const c=M(t,n,o,i,s,l);return e.cow?(e.cow=!1,e.listeners=[...e.listeners,c]):e.listeners.push(c),c}function z(e,t,n){const o=Q(e,t,n);return-1!==o&&K(e,o)}function K(e,t,n=!1){const o=e.listeners[t];return V(o),o.signal&&o.signal.removeEventListener("abort",o.signalListener),e.cow&&!n?(e.cow=!1,e.listeners=e.listeners.filter(((e,n)=>n!==t)),!1):(e.listeners.splice(t,1),!0)}function $(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e[t]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}k.set(Object.prototype,D),void 0!==s&&void 0!==s.Event&&k.set(s.Event.prototype,D);class q{constructor(){J.set(this,Object.create(null))}addEventListener(e,t,n){const o=ee(this),{callback:i,capture:s,once:l,passive:c,signal:u,type:p}=te(e,t,n);if(null==i||(null==u?void 0:u.aborted))return;const b=$(o,p),f=Q(b,i,s);-1===f?Z(b,i,s,c,l,u):oe(b.listeners[f],c,l,u)}removeEventListener(e,t,n){const o=ee(this),{callback:i,capture:s,type:l}=ne(e,t,n),c=o[l];null!=i&&c&&z(c,i,s)}dispatchEvent(e){const t=ee(this)[String(e.type)];if(null==t)return!0;const n=e instanceof R?e:D.wrap(e),o=A(n,"event");if(o.dispatchFlag)throw i="This event has been in dispatching.",s.DOMException?new s.DOMException(i,"InvalidStateError"):(null==N&&(N=class e extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,e)}get code(){return 11}get name(){return"InvalidStateError"}},Object.defineProperties(N.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),B(N),B(N.prototype)),new N(i));var i;if(o.dispatchFlag=!0,o.target=o.currentTarget=this,!o.stopPropagationFlag){const{cow:e,listeners:i}=t;t.cow=!0;for(let s=0;s<i.length;++s){const l=i[s];if(!Y(l)&&(x(l)&&K(t,s,!e)&&(s-=1),o.inPassiveListenerFlag=G(l),X(l,this,n),o.inPassiveListenerFlag=!1,o.stopImmediatePropagationFlag))break}e||(t.cow=!1)}return o.target=null,o.currentTarget=null,o.stopImmediatePropagationFlag=!1,o.stopPropagationFlag=!1,o.dispatchFlag=!1,!o.canceledFlag}}_e.EventTarget=q;const J=new WeakMap;function ee(t,n="this"){const o=J.get(t);return e(null!=o,"'%s' must be an object that EventTarget constructor created, but got another one: %o",n,t),o}function te(e,t,n){var o;return re(t),"object"==typeof n&&null!==n?{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n.capture),passive:Boolean(n.passive),once:Boolean(n.once),signal:null!==(o=n.signal)&&void 0!==o?o:void 0}:{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n),passive:!1,once:!1,signal:void 0}}function ne(e,t,n){return re(t),"object"==typeof n&&null!==n?{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n.capture)}:{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n)}}function re(e){if("function"!=typeof e&&("object"!=typeof e||null===e||"function"!=typeof e.handleEvent)){if(null!=e&&"object"!=typeof e)throw new TypeError(t(v.message,[e]));v.warn(e)}}function oe(e,t,n,o){E.warn(H(e)?"capture":"bubble",e.callback),G(e)!==t&&h.warn("passive"),x(e)!==n&&h.warn("once"),e.signal!==o&&h.warn("signal")}const ae=Object.getOwnPropertyNames(q.prototype);for(let e=0;e<ae.length;++e)"constructor"!==ae[e]&&Object.defineProperty(q.prototype,ae[e],{enumerable:!0});function ie(e,t){var n,o;return null!==(o=null===(n=ee(e,"target")[t])||void 0===n?void 0:n.attrCallback)&&void 0!==o?o:null}function se(e,t,n){null!=n&&"function"!=typeof n&&y.warn(n),"function"==typeof n||"object"==typeof n&&null!==n?le(e,t,n):ce(e,t)}function le(e,t,n){const o=$(ee(e,"target"),String(t));o.attrCallback=n,null==o.attrListener&&(o.attrListener=Z(o,ue(o),!1,!1,!1,void 0))}function ce(e,t){const n=ee(e,"target")[String(t)];n&&n.attrListener&&(z(n,n.attrListener.callback,!1),n.attrCallback=n.attrListener=void 0)}function ue(e){return function(t){const n=e.attrCallback;"function"==typeof n&&n.call(this,t)}}function pe(e,t,n){Object.defineProperty(e,`on${t}`,{get(){return ie(this,t)},set(e){se(this,t,e)},configurable:!0,enumerable:!0})}void 0!==s&&void 0!==s.EventTarget&&Object.setPrototypeOf(q.prototype,s.EventTarget.prototype);_e.default=q}),1394,[]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new Promise(((t,n)=>{c.getDisplayMedia().then((n=>{const{streamId:s,track:c}=n,l={streamId:s,streamReactTag:s,tracks:[c]},o=new u.default(l);t(o)}),(t=>{n(new s.default(t))}))}))};var n=t(r(d[1])),u=t(r(d[2])),s=t(r(d[3]));const{WebRTCModule:c}=n.default}),1395,[20,244,1396,1399]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r(d[1]),c=t(r(d[2])),o=t(r(d[3])),n=r(d[4]);function h(t,s,c){return s in t?Object.defineProperty(t,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[s]=c,t}const{WebRTCModule:f}=c.default;class u extends s.EventTarget{constructor(t){if(super(),h(this,"_tracks",[]),h(this,"_id",void 0),h(this,"_reactTag",void 0),this._id=(0,n.uniqueID)(),this._reactTag=this._id,void 0===t)f.mediaStreamCreate(this.id);else if(t instanceof u){f.mediaStreamCreate(this.id);for(const s of t.getTracks())this.addTrack(s)}else if(Array.isArray(t)){f.mediaStreamCreate(this.id);for(const s of t)this.addTrack(s)}else{if(!('object'==typeof t&&t.streamId&&t.streamReactTag&&t.tracks))throw new TypeError("invalid type: "+typeof t);this._id=t.streamId,this._reactTag=t.streamReactTag;for(const s of t.tracks)this._tracks.push(new o.default(s))}}get id(){return this._id}get active(){return!0}addTrack(t){-1===this._tracks.indexOf(t)&&(this._tracks.push(t),f.mediaStreamAddTrack(this._reactTag,t.remote?t._peerConnectionId:-1,t.id))}removeTrack(t){const s=this._tracks.indexOf(t);-1!==s&&(this._tracks.splice(s,1),f.mediaStreamRemoveTrack(this._reactTag,t.remote?t._peerConnectionId:-1,t.id))}getTracks(){return this._tracks.slice()}getTrackById(t){return this._tracks.find((s=>s.id===t))}getAudioTracks(){return this._tracks.filter((t=>'audio'===t.kind))}getVideoTracks(){return this._tracks.filter((t=>'video'===t.kind))}clone(){throw new Error('Not implemented.')}toURL(){return this._reactTag}release(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const s=[...this._tracks];for(const c of s)this.removeTrack(c),t&&c.release();f.mediaStreamRelease(this._reactTag)}}e.default=u;const k=u.prototype;(0,s.defineEventAttribute)(k,'addtrack'),(0,s.defineEventAttribute)(k,'removetrack')}),1396,[20,1394,244,1397,1398]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[1]),s=t(r(d[2])),o=r(d[3]),h=t(r(d[4])),l=r(d[5]);function c(t,n,s){return n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}const u=new h.default('pc'),{WebRTCModule:_}=s.default;class v extends n.EventTarget{constructor(t){super(),c(this,"_constraints",void 0),c(this,"_enabled",void 0),c(this,"_settings",void 0),c(this,"_muted",void 0),c(this,"_peerConnectionId",void 0),c(this,"_readyState",void 0),c(this,"id",void 0),c(this,"kind",void 0),c(this,"label",''),c(this,"remote",void 0),this._constraints=t.constraints||{},this._enabled=t.enabled,this._settings=t.settings||{},this._muted=!1,this._peerConnectionId=t.peerConnectionId,this._readyState=t.readyState,this.id=t.id,this.kind=t.kind,this.remote=t.remote,this.remote||this._registerEvents()}get enabled(){return this._enabled}set enabled(t){t!==this._enabled&&(this._enabled=Boolean(t),'ended'!==this._readyState&&_.mediaStreamTrackSetEnabled(this.remote?this._peerConnectionId:-1,this.id,this._enabled))}get muted(){return this._muted}get readyState(){return this._readyState}stop(){this.enabled=!1,this._readyState='ended'}_switchCamera(){if(this.remote)throw new Error('Not implemented for remote tracks');if('video'!==this.kind)throw new Error('Only implemented for video tracks');const t=(0,l.deepClone)(this._settings);delete t.deviceId,t.facingMode='user'===this._settings.facingMode?'environment':'user',this.applyConstraints(t)}_setVideoEffect(t){if(this.remote)throw new Error('Not implemented for remote tracks');if('video'!==this.kind)throw new Error('Only implemented for video tracks');_.mediaStreamTrackSetVideoEffect(this.id,t)}_setMutedInternal(t){if(!this.remote)throw new Error('Track is not remote!');this._muted=t,this.dispatchEvent(new n.Event(t?'mute':'unmute'))}_setVolume(t){if('audio'!==this.kind)throw new Error('Only implemented for audio tracks');_.mediaStreamTrackSetVolume(this.remote?this._peerConnectionId:-1,this.id,t)}async applyConstraints(t){if('video'!==this.kind)return void u.info(`Only implemented for video tracks, ignoring applyConstraints for ${this.id}`);const n=(0,l.normalizeConstraints)({video:null==t||t});this._settings=await _.mediaStreamTrackApplyConstraints(this.id,n.video),this._constraints=null!=t?t:{}}clone(){throw new Error('Not implemented.')}getCapabilities(){throw new Error('Not implemented.')}getConstraints(){return(0,l.deepClone)(this._constraints)}getSettings(){return(0,l.deepClone)(this._settings)}_registerEvents(){(0,o.addListener)(this,'mediaStreamTrackEnded',(t=>{t.trackId===this.id&&'ended'!==this._readyState&&(u.debug(`${this.id} mediaStreamTrackEnded`),this._readyState='ended',this.dispatchEvent(new n.Event('ended')))}))}release(){this.remote||((0,o.removeListener)(this),_.mediaStreamTrackRelease(this.id))}}e.default=v;const p=v.prototype;(0,n.defineEventAttribute)(p,'ended'),(0,n.defineEventAttribute)(p,'mute'),(0,n.defineEventAttribute)(p,'unmute')}),1397,[20,1394,244,1391,1392,1398]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.deepClone=p,e.isSdpTypeValid=function(t){return u.includes(t)},e.normalizeConstraints=function(t){const n=p(t);for(const t of['audio','video']){const o=n[t],c=typeof o;if('undefined'!==c)if('boolean'===c)o&&(n[t]=s(t));else{if('object'!==c)throw new TypeError(`constraints.${t} is neither a boolean nor a dictionary`);n[t]=w(o,t)}}return n},e.normalizeOfferOptions=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={};if(!t)return n;for(const[o,c]of Object.entries(t)){const t=f[o.toLowerCase()];t&&(n[t]=String(Boolean(c)))}return n},e.uniqueID=function(){return`${v()}${v()}-${v()}-${v()}-${v()}-${v()}${v()}${v()}`};const t={},n={facingMode:'user',frameRate:30,height:720,width:1280},o=['user','environment'],c=1.7777777777777777,f={icerestart:'IceRestart',offertoreceiveaudio:'OfferToReceiveAudio',offertoreceivevideo:'OfferToReceiveVideo',voiceactivitydetection:'VoiceActivityDetection'},u=['offer','pranswer','answer','rollback'];function s(o){switch(o){case'audio':return t;case'video':return n;default:throw new TypeError(`Invalid media type: ${o}`)}}function h(t,n){const o=t[n],c=typeof o;if('object'===c){for(const t of['exact','ideal'])if(o[t])return o[t]}else if('string'===c)return o}function l(t,n){const o=t[n],c=typeof o;if('number'===c)return Number.parseInt(o);if('object'===c)for(const t of['exact','ideal','max','min'])if(o[t])return Number.parseInt(o[t])}function w(t,f){switch(f){case'audio':return t;case'video':{const f={deviceId:h(t,'deviceId'),facingMode:h(t,'facingMode'),frameRate:l(t,'frameRate'),height:l(t,'height'),width:l(t,'width')};return f.deviceId||delete f.deviceId,o.includes(f.facingMode)||(f.facingMode=n.facingMode),f.frameRate||(f.frameRate=n.frameRate),f.height||f.width?!f.height&&f.width?f.height=Math.round(f.width/c):!f.width&&f.height&&(f.width=Math.round(f.height*c)):(f.height=n.height,f.width=n.width),f}default:throw new TypeError(`Invalid media type: ${f}`)}}function v(){return Math.random().toString(16).slice(-4)}function p(t){return JSON.parse(JSON.stringify(t))}}),1398,[]);
__d((function(g,r,i,a,m,e,d){function t(t,n,s){return n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(n){t(this,"name",void 0),t(this,"message",void 0),t(this,"constraintName",void 0),this.name=n.name,this.message=n.message,this.constraintName=n.constraintName}}}),1399,[]);
__d((function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if('object'!=typeof e)return Promise.reject(new TypeError('constraints is not a dictionary'));if(!(void 0!==e.audio&&e.audio||void 0!==e.video&&e.video))return Promise.reject(new TypeError('audio and/or video is required'));e=i.normalizeConstraints(e);const r=[];e.audio?r.push(n.default.request({name:'microphone'})):r.push(Promise.resolve(!1));e.video?r.push(n.default.request({name:'camera'})):r.push(Promise.resolve(!1));return new Promise(((n,u)=>{Promise.all(r).then((r=>{const[f,c]=r;if(!f&&!c){const e={message:'Permission denied.',name:'SecurityError'};return void u(new o.default(e))}f||delete e.audio,c||delete e.video;s.getUserMedia(e,((r,o)=>{for(const r of o){const t=e[r.kind];'object'==typeof t&&(r.constraints=i.deepClone(t))}const s={streamId:r,streamReactTag:r,tracks:o};n(new t.default(s))}),((e,r)=>{let t;if('TypeError'===e)t=new TypeError(r);t||(t=new o.default({message:r,name:e})),u(t)}))}))}))};var r=e(_r(d[1])),t=e(_r(d[2])),o=e(_r(d[3])),n=e(_r(d[4])),i=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,o=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var n,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(n=r?o:t){if(n.has(e))return n.get(e);n.set(e,s)}for(const r in e)"default"!==r&&{}.hasOwnProperty.call(e,r)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,r))&&(i.get||i.set)?n(s,r,i):s[r]=e[r]);return s})(e,r)})(_r(d[5]));const{WebRTCModule:s}=r.default}),1400,[20,244,1396,1399,1401,1398]);
__d((function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var o=e(r(d[1])),t=r(d[2]);e(r(d[3]));function s(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}const{WebRTCModule:n}=o.default;_e.default=new class{constructor(){s(this,"RESULT",{DENIED:'denied',GRANTED:'granted',PROMPT:'prompt'}),s(this,"VALID_PERMISSIONS",['camera','microphone']),s(this,"_lastReq",Promise.resolve())}_requestPermissionAndroid(e){return new Promise((o=>{t.PermissionsAndroid.request(e).then((e=>o(e===t.PermissionsAndroid.RESULTS.GRANTED)),(()=>o(!1)))}))}_validatePermissionDescriptior(e){if('object'!=typeof e)throw new TypeError('Argument 1 of Permissions.query is not an object.');if(void 0===e.name)throw new TypeError('Missing required \'name\' member of PermissionDescriptor.');if(-1===this.VALID_PERMISSIONS.indexOf(e.name))throw new TypeError('\'name\' member of PermissionDescriptor is not a valid value for enumeration PermissionName.')}query(e){try{this._validatePermissionDescriptior(e)}catch(e){return Promise.reject(e)}return Promise.reject(new TypeError('Unsupported platform.'))}request(e){try{this._validatePermissionDescriptior(e)}catch(e){return Promise.reject(e)}return Promise.reject(new TypeError('Unsupported platform.'))}}}),1401,[20,244,297,121]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]);class c extends t.Event{constructor(t,c){var n,u,l;super(t,c),l=void 0,(u="track")in(n=this)?Object.defineProperty(n,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[u]=l,this.track=c.track}}e.default=c}),1402,[1394]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1]));t(r(d[2]));const{WebRTCModule:s}=o.default;e.default=class{static audioSessionDidActivate(){}static audioSessionDidDeactivate(){}}}),1403,[20,244,121]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]);function n(t,n,s){return n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}class s extends t.Event{constructor(t,s,u){super(t),n(this,"func",void 0),n(this,"message",void 0),this.func=s,this.message=u}}e.default=s}),1404,[1394]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.RTCFrameCryptorStateEvent=e.RTCFrameCryptorState=void 0;var n=r(d[1]),o=t(r(d[2])),s=r(d[3]),p=t(r(d[4]));function y(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}const{WebRTCModule:C}=o.default,c=new p.default('pc');class f extends n.Event{constructor(t,n){super(t,n),y(this,"frameCryptor",void 0),y(this,"state",void 0),this.frameCryptor=n.frameCryptor,this.state=n.state}}e.RTCFrameCryptorStateEvent=f;let h=e.RTCFrameCryptorState=void 0;!(function(t){t[t.FrameCryptorStateNew=0]="FrameCryptorStateNew",t[t.FrameCryptorStateOk=1]="FrameCryptorStateOk",t[t.FrameCryptorStateEncryptionFailed=2]="FrameCryptorStateEncryptionFailed",t[t.FrameCryptorStateDecryptionFailed=3]="FrameCryptorStateDecryptionFailed",t[t.FrameCryptorStateMissingKey=4]="FrameCryptorStateMissingKey",t[t.FrameCryptorStateKeyRatcheted=5]="FrameCryptorStateKeyRatcheted",t[t.FrameCryptorStateInternalError=6]="FrameCryptorStateInternalError"})(h||(e.RTCFrameCryptorState=h={}));class u extends n.EventTarget{constructor(t,n){super(),y(this,"_frameCryptorId",void 0),y(this,"_participantId",void 0),this._frameCryptorId=t,this._participantId=n,this._registerEvents()}get id(){return this._frameCryptorId}get participantId(){return this._participantId}_cryptorStateFromString(t){switch(t){case'new':return h.FrameCryptorStateNew;case'ok':return h.FrameCryptorStateOk;case'decryptionFailed':return h.FrameCryptorStateDecryptionFailed;case'encryptionFailed':return h.FrameCryptorStateEncryptionFailed;case'internalError':return h.FrameCryptorStateInternalError;case'keyRatcheted':return h.FrameCryptorStateKeyRatcheted;case'missingKey':return h.FrameCryptorStateMissingKey;default:throw'Unknown FrameCryptorState: $str'}}async setKeyIndex(t){const n={frameCryptorId:this._frameCryptorId,keyIndex:t};return C.frameCryptorSetKeyIndex(n).then((t=>t.result))}async getKeyIndex(){const t={frameCryptorId:this._frameCryptorId};return C.frameCryptorGetKeyIndex(t).then((t=>t.keyIndex))}async setEnabled(t){const n={frameCryptorId:this._frameCryptorId,enabled:t};return C.frameCryptorSetEnabled(n).then((t=>t.result))}async getEnabled(){const t={frameCryptorId:this._frameCryptorId};return C.frameCryptorGetEnabled(t).then((t=>t.enabled))}async dispose(){const t={frameCryptorId:this._frameCryptorId};await C.frameCryptorDispose(t),(0,s.removeListener)(this)}_registerEvents(){(0,s.addListener)(this,'frameCryptionStateChanged',(t=>{if(t.participantId!==this._participantId||t.frameCryptorId!==this._frameCryptorId)return;c.debug(`${this.id} frameCryptionStateChanged ${t.state}`);const n={frameCryptor:this,state:t.state};this.dispatchEvent(new f('onframecryptorstatechanged',n))}))}}e.default=u;const F=u.prototype;(0,n.defineEventAttribute)(F,'onframecryptorstatechanged')}),1405,[20,1394,244,1391,1392]);
__d((function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.RTCFrameCryptorAlgorithm=void 0;var r=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,o=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var n,i,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(n=r?o:t){if(n.has(e))return n.get(e);n.set(e,c)}for(const r in e)"default"!==r&&{}.hasOwnProperty.call(e,r)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,r))&&(i.get||i.set)?n(c,r,i):c[r]=e[r]);return c})(e,r)})(_r(d[1])),t=e(_r(d[2])),o=e(_r(d[3])),n=e(_r(d[4]));const{WebRTCModule:i}=t.default;let c=_e.RTCFrameCryptorAlgorithm=void 0;!(function(e){e[e.kAesGcm=0]="kAesGcm"})(c||(_e.RTCFrameCryptorAlgorithm=c={}));_e.default=class{static createFrameCryptorForRtpSender(e,r,t,n){const c={peerConnectionId:r._peerConnectionId,rtpSenderId:r._id,participantId:e,keyProviderId:n._id,type:'sender',algorithm:t},y=i.frameCryptorFactoryCreateFrameCryptor(c);if(!y)throw new Error('Error when creating frame cryptor for sender');return new o.default(y,e)}static createFrameCryptorForRtpReceiver(e,r,t,n){const c={peerConnectionId:r._peerConnectionId,rtpReceiverId:r._id,participantId:e,keyProviderId:n._id,type:'receiver',algorithm:t},y=i.frameCryptorFactoryCreateFrameCryptor(c);if(!y)throw new Error('Error when creating frame cryptor for receiver');return new o.default(y,e)}static createDefaultKeyProvider(e){var t,o,c;const y={sharedKey:e.sharedKey,ratchetWindowSize:e.ratchetWindowSize,failureTolerance:null!==(t=e.failureTolerance)&&void 0!==t?t:-1,keyRingSize:null!==(o=e.keyRingSize)&&void 0!==o?o:16,discardFrameWhenCryptorNotReady:null!==(c=e.discardFrameWhenCryptorNotReady)&&void 0!==c&&c};if('string'==typeof e.ratchetSalt)y.ratchetSalt=e.ratchetSalt,y.ratchetSaltIsBase64=!1;else{const t=e.ratchetSalt;y.ratchetSalt=r.fromByteArray(t),y.ratchetSaltIsBase64=!0}e.uncryptedMagicBytes&&(y.uncryptedMagicBytes=r.fromByteArray(e.uncryptedMagicBytes));const p=i.frameCryptorFactoryCreateKeyProvider(y);if(!p)throw new Error('Error when creating key provider!');return new n.default(p)}}}),1406,[20,909,244,1405,1407]);
__d((function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.FrameCryptorState=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,y=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,n={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return n;if(o=t?y:r){if(o.has(e))return o.get(e);o.set(e,n)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?o(n,t,i):n[t]=e[t]);return n})(e,t)})(_r(d[1])),r=e(_r(d[2]));const{WebRTCModule:y}=r.default;let o=_e.FrameCryptorState=void 0;!(function(e){e[e.FrameCryptorStateNew=0]="FrameCryptorStateNew",e[e.FrameCryptorStateOk=1]="FrameCryptorStateOk",e[e.FrameCryptorStateEncryptionFailed=2]="FrameCryptorStateEncryptionFailed",e[e.FrameCryptorStateDecryptionFailed=3]="FrameCryptorStateDecryptionFailed",e[e.FrameCryptorStateMissingKey=4]="FrameCryptorStateMissingKey",e[e.FrameCryptorStateKeyRatcheted=5]="FrameCryptorStateKeyRatcheted",e[e.FrameCryptorStateInternalError=6]="FrameCryptorStateInternalError"})(o||(_e.FrameCryptorState=o={}));_e.default=class{constructor(e){var t,r,y;y=void 0,(r="_id")in(t=this)?Object.defineProperty(t,r,{value:y,enumerable:!0,configurable:!0,writable:!0}):t[r]=y,this._id=e}async setSharedKey(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const o={keyProviderId:this._id,keyIndex:r};return'string'==typeof e?(o.key=e,o.keyIsBase64=!1):(o.key=t.fromByteArray(e),o.keyIsBase64=!0),y.keyProviderSetSharedKey(o).then((e=>e.result))}async ratchetSharedKey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const r={keyProviderId:this._id,keyIndex:e};return y.keyProviderRatchetSharedKey(r).then((e=>t.toByteArray(e.result)))}async exportSharedKey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const r={keyProviderId:this._id,keyIndex:e};return y.keyProviderExportSharedKey(r).then((e=>t.toByteArray(e.result)))}async setKey(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i={keyProviderId:this._id,participantId:e,keyIndex:o};return'string'==typeof r?(i.key=r,i.keyIsBase64=!1):(i.key=t.fromByteArray(r),i.keyIsBase64=!0),y.keyProviderSetKey(i).then((e=>e.result))}async ratchetKey(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const o={keyProviderId:this._id,participantId:e,keyIndex:r};return y.keyProviderRatchetKey(o).then((e=>t.toByteArray(e.result)))}async exportKey(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const o={keyProviderId:this._id,participantId:e,keyIndex:r};return y.keyProviderExportKey(o).then((e=>t.toByteArray(e.result)))}async setSifTrailer(e){const r={keyProviderId:this._id,sifTrailer:t.fromByteArray(e)};return y.keyProviderSetSifTrailer(r)}async dispose(){const e={keyProviderId:this._id};return y.keyProviderDispose(e)}}}),1407,[20,909,244]);
__d((function(g,r,i,a,m,e,d){function n(n,t,s){return t in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(t){let{candidate:s="",sdpMLineIndex:l=null,sdpMid:u=null}=t;if(n(this,"candidate",void 0),n(this,"sdpMLineIndex",void 0),n(this,"sdpMid",void 0),null===l&&null===u)throw new TypeError('`sdpMLineIndex` and `sdpMid` must not be both null');this.candidate=s,this.sdpMLineIndex=l,this.sdpMid=u}toJSON(){return{candidate:this.candidate,sdpMLineIndex:this.sdpMLineIndex,sdpMid:this.sdpMid}}}}),1408,[]);
__d((function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.startIOSPIP=function(t){i.default.dispatchViewManagerCommand(o.default.findNodeHandle(t.current),i.default.getViewManagerConfig('RTCVideoView').Commands.startIOSPIP,[])},e.stopIOSPIP=function(t){i.default.dispatchViewManagerCommand(o.default.findNodeHandle(t.current),i.default.getViewManagerConfig('RTCVideoView').Commands.stopIOSPIP,[])};var n=r(d[1]),o=t(r(d[2])),i=t(r(d[3])),l=t(r(d[4]));function f(){return f=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},f.apply(this,arguments)}const u=(0,n.forwardRef)(((t,n)=>{var o,i;const u={...t},c=null===(o=u.iosPIP)||void 0===o?void 0:o.fallbackView;return null===(i=u.iosPIP)||void 0===i||delete i.fallbackView,React.createElement(l.default,f({ref:n},u),c)}));e.default=u}),1409,[20,29,297,205,1410]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[0]);e.default=(0,o.requireNativeComponent)('RTCVideoView')}),1410,[297]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=_r(d[1]),n=e(_r(d[2])),r=_r(d[3]),i=e(_r(d[4])),s=e(_r(d[5])),c=e(_r(d[6])),a=e(_r(d[7])),o=e(_r(d[8])),l=e(_r(d[9])),p=e(_r(d[10])),h=e(_r(d[11])),u=e(_r(d[12])),v=e(_r(d[13])),f=e(_r(d[14])),_=e(_r(d[15])),w=e(_r(d[16])),I=e(_r(d[17])),k=e(_r(d[18])),E=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,s,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,c)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((s=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(s.get||s.set)?i(c,t,s):c[t]=e[t]);return c})(e,t)})(_r(d[19]));function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=new i.default('pc'),{WebRTCModule:T}=n.default;let y=0;class b extends t.EventTarget{constructor(e){if(super(),C(this,"localDescription",null),C(this,"remoteDescription",null),C(this,"signalingState",'stable'),C(this,"iceGatheringState",'new'),C(this,"connectionState",'new'),C(this,"iceConnectionState",'new'),C(this,"_pcId",void 0),C(this,"_transceivers",void 0),C(this,"_remoteStreams",void 0),C(this,"_pendingTrackEvents",void 0),this._pcId=y++,e){var t;const n=null!==(t=null==e?void 0:e.iceServers)&&void 0!==t?t:[];for(const e of n){let t=e.url||e.urls;delete e.url,delete e.urls,t&&(Array.isArray(t)||(t=[t]),e.urls=t.map((e=>e.toLowerCase())))}e.iceServers=n.filter((e=>e.urls))}if(!T.peerConnectionInit(e,this._pcId))throw new Error('Failed to initialize PeerConnection, check the native logs!');this._transceivers=[],this._remoteStreams=new Map,this._pendingTrackEvents=[],this._registerEvents(),S.debug(`${this._pcId} ctor`)}async createOffer(e){S.debug(`${this._pcId} createOffer`);const{sdpInfo:t,newTransceivers:n,transceiversInfo:r}=await T.peerConnectionCreateOffer(this._pcId,E.normalizeOfferOptions(e));return S.debug(`${this._pcId} createOffer OK`),null==n||n.forEach((e=>{const{transceiverOrder:t,transceiver:n}=e,r=new _.default({...n.sender,track:null}),i=n.receiver.track?new c.default(n.receiver.track):null,s=new v.default({...n.receiver,track:i}),a=new w.default({...n,sender:r,receiver:s});this._insertTransceiverSorted(t,a)})),this._updateTransceivers(r),t}async createAnswer(){S.debug(`${this._pcId} createAnswer`);const{sdpInfo:e,transceiversInfo:t}=await T.peerConnectionCreateAnswer(this._pcId,{});return this._updateTransceivers(t),e}setConfiguration(e){T.peerConnectionSetConfiguration(e,this._pcId)}async setLocalDescription(e){var t;let n;var r;if(S.debug(`${this._pcId} setLocalDescription`),e){if(n={type:e.type,sdp:null!==(r=e.sdp)&&void 0!==r?r:''},!E.isSdpTypeValid(n.type))throw new Error(`Invalid session description: invalid type: ${n.type}`)}else n=null;const{sdpInfo:i,transceiversInfo:s}=await T.peerConnectionSetLocalDescription(this._pcId,n);i.type&&i.sdp?this.localDescription=new I.default(i):this.localDescription=null,this._updateTransceivers(s,'answer'===(null===(t=n)||void 0===t?void 0:t.type)),S.debug(`${this._pcId} setLocalDescription OK`)}async setRemoteDescription(e){var t,n;if(S.debug(`${this._pcId} setRemoteDescription`),!e)return Promise.reject(new Error('No session description provided'));const r={type:e.type,sdp:null!==(t=e.sdp)&&void 0!==t?t:''};if(!E.isSdpTypeValid(null!==(n=r.type)&&void 0!==n?n:''))throw new Error(`Invalid session description: invalid type: ${r.type}`);const{sdpInfo:i,newTransceivers:o,transceiversInfo:l}=await T.peerConnectionSetRemoteDescription(this._pcId,r);i.type&&i.sdp?this.remoteDescription=new I.default(i):this.remoteDescription=null,null==o||o.forEach((e=>{const{transceiverOrder:t,transceiver:n}=e,r=new _.default({...n.sender,track:null}),i=n.receiver.track?new c.default(n.receiver.track):null,s=new v.default({...n.receiver,track:i}),a=new w.default({...n,sender:r,receiver:s});this._insertTransceiverSorted(t,a)})),this._updateTransceivers(l,'answer'===r.type);const p=this._pendingTrackEvents;this._pendingTrackEvents=[];for(const e of p){const[t]=this.getTransceivers().filter((t=>t.receiver.id===e.receiver.id)),n=t.receiver.track;t._mid=e.transceiver.mid,t._currentDirection=e.transceiver.currentDirection,t._direction=e.transceiver.direction;const r=e.streams.map((e=>{if(!this._remoteStreams.has(e.streamId)){const t=new s.default({streamId:e.streamId,streamReactTag:e.streamReactTag,tracks:[]});this._remoteStreams.set(e.streamId,t)}const t=this._remoteStreams.get(e.streamId);return null!=t&&t._tracks.includes(n)||null==t||t._tracks.push(n),t})),i={streams:r,transceiver:t,track:n,receiver:t.receiver};this.dispatchEvent(new k.default('track',i)),r.forEach((e=>{e.dispatchEvent(new a.default('addtrack',{track:n}))})),n._setMutedInternal(!1)}S.debug(`${this._pcId} setRemoteDescription OK`)}async addIceCandidate(e){if(S.debug(`${this._pcId} addIceCandidate`),!e||!e.candidate)return;if(!(null!==e.sdpMLineIndex&&void 0!==e.sdpMLineIndex||null!==e.sdpMid&&void 0!==e.sdpMid))throw new TypeError('`sdpMLineIndex` and `sdpMid` must not be both null or undefined');const t=await T.peerConnectionAddICECandidate(this._pcId,E.deepClone(e));this.remoteDescription=new I.default(t)}addTrack(e){if(S.debug(`${this._pcId} addTrack`),'closed'===this.connectionState)throw new Error('Peer Connection is closed');if(this._trackExists(e))throw new Error('Track already exists in a sender');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map((e=>e.id)),s=T.peerConnectionAddTrack(this._pcId,e.id,{streamIds:i});if(null===s)throw new Error('Could not add sender');const{transceiverOrder:a,transceiver:o,sender:l}=s,[p]=this.getSenders().filter((e=>e.id===l.id));if(p){p._track=e;const[t]=this.getTransceivers().filter((e=>e.sender.id===p.id));return t._direction=o.direction,t._currentDirection=o.currentDirection,p}const h=new _.default({...o.sender,track:e}),u=o.receiver.track?new c.default(o.receiver.track):null,f=new v.default({...o.receiver,track:u}),I=new w.default({...o,sender:h,receiver:f});return this._insertTransceiverSorted(a,I),h}addTransceiver(e,t){S.debug(`${this._pcId} addTransceiver`);let n={};n='audio'===e?{type:'audio'}:'video'===e?{type:'video'}:{trackId:e.id},t&&t.streams&&(t.streamIds=t.streams.map((e=>e.id)));const r=T.peerConnectionAddTransceiver(this._pcId,{...n,init:{...t}});if(null===r)throw new Error('Transceiver could not be added');const i=r.transceiver;let s=null;'string'==typeof e?i.sender.track&&(s=new c.default(i.sender.track)):s=e;const a=new _.default({...i.sender,track:s}),o=i.receiver.track?new c.default(i.receiver.track):null,l=new v.default({...i.receiver,track:o}),p=new w.default({...r.transceiver,sender:a,receiver:l});return this._insertTransceiverSorted(r.transceiverOrder,p),p}removeTrack(e){if(S.debug(`${this._pcId} removeTrack`),this._pcId!==e._peerConnectionId)throw new Error('Sender does not belong to this peer connection');if('closed'===this.connectionState)throw new Error('Peer Connection is closed');const t=this.getSenders().find((t=>t===e));if(!t)throw new Error('Sender does not exist');if(null===t.track)return;T.peerConnectionRemoveTrack(this._pcId,e.id),t._track=null;const[n]=this.getTransceivers().filter((e=>e.sender.id===t.id));n._direction='sendrecv'===n.direction?'recvonly':'inactive'}async getStats(e){if(S.debug(`${this._pcId} getStats`),e){const t=this.getSenders().filter((t=>t.track===e)),n=this.getReceivers().filter((t=>t.track===e)),r=t.length+n.length;if(0===r)throw new Error('Invalid selector: could not find matching sender / receiver');if(r>1)throw new Error('Invalid selector: multiple matching senders / receivers');return(t[0]||n[0]).getStats()}{const e=await T.peerConnectionGetStats(this._pcId);return new Map(JSON.parse(e))}}getTransceivers(){return this._transceivers.map((e=>e.transceiver))}getSenders(){return this._transceivers.map((e=>!e.transceiver.stopped&&e.transceiver.sender)).filter(Boolean)}getReceivers(){return this._transceivers.map((e=>!e.transceiver.stopped&&e.transceiver.receiver)).filter(Boolean)}close(){S.debug(`${this._pcId} close`),'closed'!==this.connectionState&&(T.peerConnectionClose(this._pcId),this._transceivers.forEach((e=>{let{transceiver:t}=e;t._setStopped()})))}restartIce(){T.peerConnectionRestartIce(this._pcId)}_registerEvents(){(0,r.addListener)(this,'peerConnectionOnRenegotiationNeeded',(e=>{e.pcId===this._pcId&&this.dispatchEvent(new t.Event('negotiationneeded'))})),(0,r.addListener)(this,'peerConnectionIceConnectionChanged',(e=>{e.pcId===this._pcId&&(this.iceConnectionState=e.iceConnectionState,this.dispatchEvent(new t.Event('iceconnectionstatechange')))})),(0,r.addListener)(this,'peerConnectionStateChanged',(e=>{e.pcId===this._pcId&&(this.connectionState=e.connectionState,this.dispatchEvent(new t.Event('connectionstatechange')),'closed'===e.connectionState&&((0,r.removeListener)(this),T.peerConnectionDispose(this._pcId)))})),(0,r.addListener)(this,'peerConnectionSignalingStateChanged',(e=>{e.pcId===this._pcId&&(this.signalingState=e.signalingState,this.dispatchEvent(new t.Event('signalingstatechange')))})),(0,r.addListener)(this,'peerConnectionOnTrack',(e=>{e.pcId===this._pcId&&(S.debug(`${this._pcId} ontrack`),this._pendingTrackEvents.push(e))})),(0,r.addListener)(this,'peerConnectionOnRemoveTrack',(e=>{if(e.pcId!==this._pcId)return;S.debug(`${this._pcId} onremovetrack ${e.receiverId}`);const t=this.getReceivers().find((t=>t.id===e.receiverId)),n=null==t?void 0:t.track;if(t&&n)for(const e of this._remoteStreams.values())if(e._tracks.includes(n)){const t=e._tracks.indexOf(n);S.debug(`${this._pcId} removetrack ${n.id}`),e._tracks.splice(t,1),e.dispatchEvent(new a.default('removetrack',{track:n})),n._setMutedInternal(!0)}})),(0,r.addListener)(this,'peerConnectionGotICECandidate',(e=>{if(e.pcId!==this._pcId)return;const t=e.sdp;t.type&&t.sdp?this.localDescription=new I.default(t):this.localDescription=null;const n=new p.default(e.candidate);this.dispatchEvent(new h.default('icecandidate',{candidate:n}))})),(0,r.addListener)(this,'peerConnectionIceGatheringChanged',(e=>{if(e.pcId===this._pcId){if(this.iceGatheringState=e.iceGatheringState,'complete'===this.iceGatheringState){const t=e.sdp;t.type&&t.sdp?this.localDescription=new I.default(t):this.localDescription=null,this.dispatchEvent(new h.default('icecandidate',{candidate:null}))}this.dispatchEvent(new t.Event('icegatheringstatechange'))}})),(0,r.addListener)(this,'peerConnectionDidOpenDataChannel',(e=>{if(e.pcId!==this._pcId)return;const t=new o.default(e.dataChannel);this.dispatchEvent(new l.default('datachannel',{channel:t})),t.dispatchEvent(new l.default('open',{channel:t}))})),(0,r.addListener)(this,'mediaStreamTrackMuteChanged',(e=>{if(e.pcId!==this._pcId)return;const[t]=this.getReceivers().map((e=>e.track)).filter((t=>(null==t?void 0:t.id)===e.trackId));t&&t._setMutedInternal(e.muted)}))}createDataChannel(e,t){if(0===arguments.length)throw new TypeError('1 argument required, but 0 present');if(t&&'id'in t){const e=t.id;if('number'!=typeof e)throw new TypeError('DataChannel id must be a number: '+e)}const n=T.createDataChannel(this._pcId,String(e),t);if(null===n)throw new TypeError('Failed to create new DataChannel');return new o.default(n)}_trackExists(e){const[t]=this.getSenders().filter((t=>{var n;return(null===(n=t.track)||void 0===n?void 0:n.id)===e.id}));return!!t}_updateTransceivers(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(const t of e){const[e]=this.getTransceivers().filter((e=>e.sender.id===t.transceiverId));e&&(t.currentDirection&&(e._currentDirection=t.currentDirection),e._mid=t.mid,e._stopped=Boolean(t.isStopped),e._sender._rtpParameters=new f.default(t.senderRtpParameters),e._receiver._rtpParameters=new u.default(t.receiverRtpParameters))}if(t){const e=this.getTransceivers().filter((e=>e.stopped)),t=this._transceivers.filter((t=>!e.includes(t.transceiver)));this._transceivers=t}}_insertTransceiverSorted(e,t){this._transceivers.push({order:e,transceiver:t}),this._transceivers.sort(((e,t)=>e.order-t.order))}}_e.default=b;const D=b.prototype;(0,t.defineEventAttribute)(D,'connectionstatechange'),(0,t.defineEventAttribute)(D,'icecandidate'),(0,t.defineEventAttribute)(D,'icecandidateerror'),(0,t.defineEventAttribute)(D,'iceconnectionstatechange'),(0,t.defineEventAttribute)(D,'icegatheringstatechange'),(0,t.defineEventAttribute)(D,'negotiationneeded'),(0,t.defineEventAttribute)(D,'signalingstatechange'),(0,t.defineEventAttribute)(D,'datachannel'),(0,t.defineEventAttribute)(D,'track'),(0,t.defineEventAttribute)(D,'error')}),1411,[20,1394,244,1391,1392,1396,1397,1402,1412,1414,1408,1415,1416,1421,1422,1424,1425,1426,1427,1398]);
__d((function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var i=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,s,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(n=t?r:i){if(n.has(e))return n.get(e);n.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((s=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(s.get||s.set)?n(o,t,s):o[t]=e[t]);return o})(e,t)})(_r(d[1])),i=_r(d[2]),r=e(_r(d[3])),n=_r(d[4]),s=e(_r(d[5])),o=e(_r(d[6]));function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const{WebRTCModule:f}=r.default;class u extends i.EventTarget{constructor(e){super(),h(this,"_peerConnectionId",void 0),h(this,"_reactTag",void 0),h(this,"_bufferedAmount",void 0),h(this,"_id",void 0),h(this,"_label",void 0),h(this,"_maxPacketLifeTime",void 0),h(this,"_maxRetransmits",void 0),h(this,"_negotiated",void 0),h(this,"_ordered",void 0),h(this,"_protocol",void 0),h(this,"_readyState",void 0),h(this,"binaryType",'arraybuffer'),h(this,"bufferedAmountLowThreshold",0),this._peerConnectionId=e.peerConnectionId,this._reactTag=e.reactTag,this._bufferedAmount=0,this._label=e.label,this._id=-1===e.id?null:e.id,this._ordered=Boolean(e.ordered),this._maxPacketLifeTime=e.maxPacketLifeTime,this._maxRetransmits=e.maxRetransmits,this._protocol=e.protocol||'',this._negotiated=Boolean(e.negotiated),this._readyState=e.readyState,this._registerEvents()}get bufferedAmount(){return this._bufferedAmount}get label(){return this._label}get id(){return this._id}get ordered(){return this._ordered}get maxPacketLifeTime(){return this._maxPacketLifeTime}get maxRetransmits(){return this._maxRetransmits}get protocol(){return this._protocol}get negotiated(){return this._negotiated}get readyState(){return this._readyState}send(e){if('string'==typeof e)return void f.dataChannelSend(this._peerConnectionId,this._reactTag,e,'text');if(ArrayBuffer.isView(e))e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);else{if(!(e instanceof ArrayBuffer))throw new TypeError('Data must be either string, ArrayBuffer, or ArrayBufferView');e=new Uint8Array(e)}const i=t.fromByteArray(e);f.dataChannelSend(this._peerConnectionId,this._reactTag,i,'binary')}close(){'closing'!==this._readyState&&'closed'!==this._readyState&&f.dataChannelClose(this._peerConnectionId,this._reactTag)}_registerEvents(){(0,n.addListener)(this,'dataChannelStateChanged',(e=>{e.reactTag===this._reactTag&&(this._readyState=e.state,null===this._id&&-1!==e.id&&(this._id=e.id),'open'===this._readyState?this.dispatchEvent(new o.default('open',{channel:this})):'closing'===this._readyState?this.dispatchEvent(new o.default('closing',{channel:this})):'closed'===this._readyState&&(this.dispatchEvent(new o.default('close',{channel:this})),(0,n.removeListener)(this),f.dataChannelDispose(this._peerConnectionId,this._reactTag)))})),(0,n.addListener)(this,'dataChannelReceiveMessage',(e=>{if(e.reactTag!==this._reactTag)return;let i=e.data;'binary'===e.type&&(i=t.toByteArray(e.data).buffer),this.dispatchEvent(new s.default('message',{data:i}))})),(0,n.addListener)(this,'dataChannelDidChangeBufferedAmount',(e=>{e.reactTag===this._reactTag&&(this._bufferedAmount=e.bufferedAmount,this._bufferedAmount<this.bufferedAmountLowThreshold&&this.dispatchEvent(new o.default('bufferedamountlow',{channel:this})))}))}}_e.default=u;const l=u.prototype;(0,i.defineEventAttribute)(l,'bufferedamountlow'),(0,i.defineEventAttribute)(l,'close'),(0,i.defineEventAttribute)(l,'closing'),(0,i.defineEventAttribute)(l,'error'),(0,i.defineEventAttribute)(l,'message'),(0,i.defineEventAttribute)(l,'open')}),1412,[20,909,1394,244,1391,1413,1414]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]);class n extends t.Event{constructor(t,n){var u,l,o;super(t,n),o=void 0,(l="data")in(u=this)?Object.defineProperty(u,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):u[l]=o,this.data=n.data}}e.default=n}),1413,[1394]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0]);class t extends n.Event{constructor(n,t){var l,c,u;super(n,t),u=void 0,(c="channel")in(l=this)?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,this.channel=t.channel}}e.default=t}),1414,[1394]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]);class n extends t.Event{constructor(t,n){var l,u,o,c;super(t,n),c=void 0,(o="candidate")in(u=this)?Object.defineProperty(u,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[o]=c,this.candidate=null!==(l=null==n?void 0:n.candidate)&&void 0!==l?l:null}}e.default=n}),1415,[1394]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));class l extends u.default{constructor(t){super(t)}}e.default=l}),1416,[20,1417]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),c=r(d[4]);function u(t,s,n){return s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}e.default=class{constructor(t){u(this,"codecs",[]),u(this,"headerExtensions",[]),u(this,"rtcp",void 0);for(const s of t.codecs)this.codecs.push(new n.default(s));for(const s of t.headerExtensions)this.headerExtensions.push(new o.default(s));this.rtcp=new s.default(t.rtcp)}toJSON(){return{codecs:this.codecs.map((t=>(0,c.deepClone)(t))),headerExtensions:this.headerExtensions.map((t=>(0,c.deepClone)(t))),rtcp:(0,c.deepClone)(this.rtcp)}}}}),1417,[20,1418,1419,1420,1398]);
__d((function(g,r,i,a,m,e,d){function t(t,c,n){return c in t?Object.defineProperty(t,c,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[c]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(c){t(this,"cname",void 0),t(this,"reducedSize",void 0),this.cname=c.cname,this.reducedSize=c.reducedSize,Object.freeze(this)}toJSON(){return{cname:this.cname,reducedSize:this.reducedSize}}}}),1418,[]);
__d((function(g,r,i,a,m,e,d){function t(t,n,s){return n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(n){t(this,"payloadType",void 0),t(this,"clockRate",void 0),t(this,"mimeType",void 0),t(this,"channels",void 0),t(this,"sdpFmtpLine",void 0),this.payloadType=n.payloadType,this.clockRate=n.clockRate,this.mimeType=n.mimeType,this.channels=n.channels?n.channels:null,this.sdpFmtpLine=n.sdpFmtpLine?n.sdpFmtpLine:null,Object.freeze(this)}toJSON(){const t={payloadType:this.payloadType,clockRate:this.clockRate,mimeType:this.mimeType};return null!==this.channels&&(t.channels=this.channels),null!==this.sdpFmtpLine&&(t.sdpFmtpLine=this.sdpFmtpLine),t}}}),1419,[]);
__d((function(g,r,i,a,m,e,d){function t(t,n,u){return n in t?Object.defineProperty(t,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[n]=u,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(n){t(this,"id",void 0),t(this,"uri",void 0),t(this,"encrypted",void 0),this.id=n.id,this.uri=n.uri,this.encrypted=n.encrypted,Object.freeze(this)}toJSON(){return{id:this.id,uri:this.uri,encrypted:this.encrypted}}}}),1420,[]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2]));function c(t,n,s){return n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}const{WebRTCModule:o}=n.default;e.default=class{constructor(t){c(this,"_id",void 0),c(this,"_peerConnectionId",void 0),c(this,"_track",null),c(this,"_rtpParameters",void 0),this._id=t.id,this._peerConnectionId=t.peerConnectionId,this._rtpParameters=new s.default(t.rtpParameters),t.track&&(this._track=t.track)}static getCapabilities(t){return o.receiverGetCapabilities(t)}getStats(){return o.receiverGetStats(this._peerConnectionId,this._id).then((t=>new Map(JSON.parse(t))))}getParameters(){return this._rtpParameters}get id(){return this._id}get track(){return this._track}}}),1421,[20,244,1416]);
__d((function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=r(d[3]);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{static fromNative(e){return e.toLowerCase().replace('_','-')}static toNative(e){return e.toUpperCase().replace('-','_')}}class u extends n.default{constructor(e){super(e),s(this,"transactionId",void 0),s(this,"encodings",void 0),s(this,"degradationPreference",void 0),this.transactionId=e.transactionId,this.encodings=[],this.degradationPreference=e.degradationPreference?c.fromNative(e.degradationPreference):null;for(const n of e.encodings)this.encodings.push(new t.default(n))}toJSON(){const e=super.toJSON();return e.transactionId=this.transactionId,e.encodings=this.encodings.map((e=>(0,o.deepClone)(e))),null!==this.degradationPreference&&(e.degradationPreference=c.toNative(this.degradationPreference)),e}}_e.default=u}),1422,[20,1423,1417,1398]);
__d((function(g,r,i,a,m,e,d){function t(t,l,n){return l in t?Object.defineProperty(t,l,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[l]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(l){var n,s,o,u;t(this,"active",void 0),t(this,"_rid",void 0),t(this,"_maxFramerate",void 0),t(this,"_maxBitrate",void 0),t(this,"_scaleResolutionDownBy",void 0),this.active=l.active,this._rid=null!==(n=l.rid)&&void 0!==n?n:null,this._maxBitrate=null!==(s=l.maxBitrate)&&void 0!==s?s:null,this._maxFramerate=null!==(o=l.maxFramerate)&&void 0!==o?o:null,this._scaleResolutionDownBy=null!==(u=l.scaleResolutionDownBy)&&void 0!==u?u:null}get rid(){return this._rid}get maxFramerate(){return this._maxFramerate}set maxFramerate(t){this._maxFramerate=null!=t&&t>0?t:null}get maxBitrate(){return this._maxBitrate}set maxBitrate(t){this._maxBitrate=null!=t&&t>=0?t:null}get scaleResolutionDownBy(){return this._scaleResolutionDownBy}set scaleResolutionDownBy(t){this._scaleResolutionDownBy=null!=t&&t>=1?t:null}toJSON(){const t={active:Boolean(this.active)};return null!==this._rid&&(t.rid=this._rid),null!==this._maxBitrate&&(t.maxBitrate=this._maxBitrate),null!==this._maxFramerate&&(t.maxFramerate=this._maxFramerate),null!==this._scaleResolutionDownBy&&(t.scaleResolutionDownBy=this._scaleResolutionDownBy),t}}}),1423,[]);
__d((function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2]));function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{WebRTCModule:c}=t.default;_e.default=class{constructor(e){s(this,"_id",void 0),s(this,"_track",null),s(this,"_peerConnectionId",void 0),s(this,"_rtpParameters",void 0),this._peerConnectionId=e.peerConnectionId,this._id=e.id,this._rtpParameters=new n.default(e.rtpParameters),e.track&&(this._track=e.track)}async replaceTrack(e){try{await c.senderReplaceTrack(this._peerConnectionId,this._id,e?e.id:null)}catch(e){return}this._track=e}static getCapabilities(e){return c.senderGetCapabilities(e)}getParameters(){return this._rtpParameters}async setParameters(e){const t=JSON.parse(JSON.stringify(e)),s=await c.senderSetParameters(this._peerConnectionId,this._id,t);this._rtpParameters=new n.default(s)}getStats(){return c.senderGetStats(this._peerConnectionId,this._id).then((e=>new Map(JSON.parse(e))))}get track(){return this._track}get id(){return this._id}}}),1424,[20,244,1422]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1]));function o(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}const{WebRTCModule:s}=n.default;e.default=class{constructor(t){var n,s;o(this,"_peerConnectionId",void 0),o(this,"_sender",void 0),o(this,"_receiver",void 0),o(this,"_mid",null),o(this,"_direction",void 0),o(this,"_currentDirection",void 0),o(this,"_stopped",void 0),this._peerConnectionId=t.peerConnectionId,this._mid=null!==(n=t.mid)&&void 0!==n?n:null,this._direction=t.direction,this._currentDirection=null!==(s=t.currentDirection)&&void 0!==s?s:null,this._stopped=Boolean(t.isStopped),this._sender=t.sender,this._receiver=t.receiver}get mid(){return this._mid}get stopped(){return this._stopped}get direction(){return this._direction}set direction(t){if(!['sendonly','recvonly','sendrecv','inactive'].includes(t))throw new TypeError('Invalid direction provided');if(this._stopped)throw new Error('Transceiver Stopped');if(this._direction===t)return;const n=this._direction;s.transceiverSetDirection(this._peerConnectionId,this.sender.id,t).catch((()=>{this._direction=n})),this._direction=t}get currentDirection(){return this._currentDirection}get sender(){return this._sender}get receiver(){return this._receiver}stop(){this._stopped||s.transceiverStop(this._peerConnectionId,this.sender.id).then((()=>this._setStopped()))}setCodecPreferences(t){s.transceiverSetCodecPreferences(this._peerConnectionId,this.sender.id,t)}_setStopped(){this._stopped=!0,this._direction='stopped',this._currentDirection='stopped',this._mid=null}}}),1425,[20,244]);
__d((function(g,r,i,a,m,e,d){function t(t,s,p){return s in t?Object.defineProperty(t,s,{value:p,enumerable:!0,configurable:!0,writable:!0}):t[s]=p,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,sdp:''};t(this,"_sdp",void 0),t(this,"_type",void 0),this._sdp=s.sdp,this._type=s.type}get sdp(){return this._sdp}get type(){return this._type}toJSON(){return{sdp:this._sdp,type:this._type}}}}),1426,[]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]);function s(t,s,c){return s in t?Object.defineProperty(t,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[s]=c,t}class c extends t.Event{constructor(t,c){super(t,c),s(this,"streams",[]),s(this,"transceiver",void 0),s(this,"receiver",void 0),s(this,"track",void 0),this.streams=c.streams,this.transceiver=c.transceiver,this.receiver=c.transceiver.receiver,this.track=c.transceiver.receiver?c.transceiver.receiver.track:null}}e.default=c}),1427,[1394]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]);e.default=(0,t.requireNativeComponent)('ScreenCapturePickerView')}),1428,[297]);
__d((function(g,r,_i,a,_m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.toUnicode=e.toASCII=e.encode=e.default=e.decode=void 0,e.ucs2decode=v,e.ucs2encode=void 0;const o=2147483647,t=36,n=/^xn--/,c=/[^\0-\x7F]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,i={overflow:'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},u=Math.floor,f=String.fromCharCode;function l(o){throw new RangeError(i[o])}function h(o,t){const n=[];let c=o.length;for(;c--;)n[c]=t(o[c]);return n}function p(o,t){const n=o.split('@');let c='';n.length>1&&(c=n[0]+'@',o=n[1]);return c+h((o=o.replace(s,'.')).split('.'),t).join('.')}function v(o){const t=[];let n=0;const c=o.length;for(;n<c;){const s=o.charCodeAt(n++);if(s>=55296&&s<=56319&&n<c){const c=o.charCodeAt(n++);56320==(64512&c)?t.push(((1023&s)<<10)+(1023&c)+65536):(t.push(s),n--)}else t.push(s)}return t}const C=o=>String.fromCodePoint(...o);e.ucs2encode=C;const w=function(o,t){return o+22+75*(o<26)-((0!=t)<<5)},I=function(o,n,c){let s=0;for(o=c?u(o/700):o>>1,o+=u(o/n);o>455;s+=t)o=u(o/35);return u(s+36*o/(o+38))},A=function(n){const c=[],s=n.length;let i=0,f=128,h=72,p=n.lastIndexOf("-");p<0&&(p=0);for(let o=0;o<p;++o)n.charCodeAt(o)>=128&&l('not-basic'),c.push(n.charCodeAt(o));for(let C=p>0?p+1:0;C<s;){const p=i;for(let c=1,f=t;;f+=t){C>=s&&l('invalid-input');const p=(v=n.charCodeAt(C++))>=48&&v<58?v-48+26:v>=65&&v<91?v-65:v>=97&&v<123?v-97:t;p>=t&&l('invalid-input'),p>u((o-i)/c)&&l('overflow'),i+=p*c;const w=f<=h?1:f>=h+26?26:f-h;if(p<w)break;const I=t-w;c>u(o/I)&&l('overflow'),c*=I}const w=c.length+1;h=I(i-p,w,0==p),u(i/w)>o-f&&l('overflow'),f+=u(i/w),i%=w,c.splice(i++,0,f)}var v;return String.fromCodePoint(...c)};e.decode=A;const b=function(n){const c=[],s=(n=v(n)).length;let i=128,h=0,p=72;for(const o of n)o<128&&c.push(f(o));const C=c.length;let A=C;for(C&&c.push("-");A<s;){let s=o;for(const o of n)o>=i&&o<s&&(s=o);const v=A+1;s-i>u((o-h)/v)&&l('overflow'),h+=(s-i)*v,i=s;for(const s of n)if(s<i&&++h>o&&l('overflow'),s===i){let o=h;for(let n=t;;n+=t){const s=n<=p?1:n>=p+26?26:n-p;if(o<s)break;const i=o-s,l=t-s;c.push(f(w(s+i%l,0))),o=u(i/l)}c.push(f(w(o,0))),p=I(h,v,A===C),h=0,++A}++h,++i}return c.join('')};e.encode=b;const x=function(o){return p(o,(function(o){return n.test(o)?A(o.slice(4).toLowerCase()):o}))};e.toUnicode=x;const S=function(o){return p(o,(function(o){return c.test(o)?'xn--'+b(o):o}))};e.toASCII=S;const F={version:'2.3.1',ucs2:{decode:v,encode:C},decode:A,encode:b,toASCII:S,toUnicode:x};e.default=F}),1429,[]);
__d((function(_g,_r,i,_a,_m,_e,_d){'use strict';!(function(e){function r(){}function t(){}var n=String.fromCharCode,o={}.toString,a=o.call(e.SharedArrayBuffer),c=o(),f=e.Uint8Array,s=f||Array,d=f?ArrayBuffer:s,u=d.isView||function(e){return e&&"length"in e},l=o.call(d.prototype);d=t.prototype;var y=e.TextEncoder,h=e.TextDecoder,v=new(f?Uint16Array:s)(32);r.prototype.decode=function(e){if(!u(e)){var r=o.call(e);if(r!==l&&r!==a&&r!==c)throw TypeError("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");e=f?new s(e):e||[]}for(var t,d,y,h=r="",p=0,A=0|e.length,w=A-32|0,g=0,T=0,x=0,B=-1;p<A;){for(t=p<=w?32:A-p|0;x<t;p=p+1|0,x=x+1|0){switch((d=255&e[p])>>4){case 15:if(2!=(y=255&e[p=p+1|0])>>6||247<d){p=p-1|0;break}g=(7&d)<<6|63&y,T=5,d=256;case 14:g<<=6,g|=(15&d)<<6|63&(y=255&e[p=p+1|0]),T=2==y>>6?T+4|0:24,d=d+256&768;case 13:case 12:g<<=6,g|=(31&d)<<6|63&(y=255&e[p=p+1|0]),T=T+7|0,p<A&&2==y>>6&&g>>T&&1114112>g?(d=g,0<=(g=g-65536|0)&&(B=55296+(g>>10)|0,d=56320+(1023&g)|0,31>x?(v[x]=B,x=x+1|0,B=-1):(y=B,B=d,d=y))):(p=p-(d>>=8)-1|0,d=65533),g=T=0,t=p<=w?32:A-p|0;default:v[x]=d;continue;case 11:case 10:case 9:case 8:}v[x]=65533}if(h+=n(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15],v[16],v[17],v[18],v[19],v[20],v[21],v[22],v[23],v[24],v[25],v[26],v[27],v[28],v[29],v[30],v[31]),32>x&&(h=h.slice(0,x-32|0)),p<A){if(v[0]=B,x=~B>>>31,B=-1,h.length<r.length)continue}else-1!==B&&(h+=n(B));r+=h,h=""}return r},d.encode=function(e){var r,t=0|(e=void 0===e?"":""+e).length,n=new s(8+(t<<1)|0),o=0,a=!f;for(r=0;r<t;r=r+1|0,o=o+1|0){var c=0|e.charCodeAt(r);if(127>=c)n[o]=c;else{if(2047>=c)n[o]=192|c>>6;else{e:{if(55296<=c)if(56319>=c){var d=0|e.charCodeAt(r=r+1|0);if(56320<=d&&57343>=d){if(65535<(c=(c<<10)+d-56613888|0)){n[o]=240|c>>18,n[o=o+1|0]=128|c>>12&63,n[o=o+1|0]=128|c>>6&63,n[o=o+1|0]=128|63&c;continue}break e}c=65533}else 57343>=c&&(c=65533);!a&&r<<1<o&&r<<1<(o-7|0)&&(a=!0,(d=new s(3*t)).set(n),n=d)}n[o]=224|c>>12,n[o=o+1|0]=128|c>>6&63}n[o=o+1|0]=128|63&c}}return f?n.subarray(0,o):n.slice(0,o)},y||(e.TextEncoder=t),h||(e.TextDecoder=r)})(void 0===_g?"undefined"==typeof self?this:self:_g)}),1430,[]);
__d((function(g,_r,_i,a,m,_e,d){var o=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.AndroidAudioTypePresets=void 0,_e.getDefaultAppleAudioConfigurationForMode=function(o,e=!0){if('remoteOnly'===o)return{audioCategory:'playback',audioCategoryOptions:['mixWithOthers'],audioMode:'spokenAudio'};if('localAndRemote'===o||'localOnly'===o)return{audioCategory:'playAndRecord',audioCategoryOptions:['allowBluetooth','mixWithOthers'],audioMode:e?'videoChat':'voiceChat'};return{audioCategory:'soloAmbient',audioCategoryOptions:[],audioMode:'default'}};o(_r(d[1]));var e=o(_r(d[2]));function i(o,e,i){return(e=t(e))in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}function t(o){var e=u(o,"string");return"symbol"==typeof e?e:e+""}function u(o,e){if("object"!=typeof o||!o)return o;var i=o[Symbol.toPrimitive];if(void 0!==i){var t=i.call(o,e||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(o)}_e.AndroidAudioTypePresets={communication:{manageAudioFocus:!0,audioMode:'inCommunication',audioFocusMode:'gain',audioStreamType:'voiceCall',audioAttributesUsageType:'voiceCommunication',audioAttributesContentType:'speech'},media:{manageAudioFocus:!0,audioMode:'normal',audioFocusMode:'gain',audioStreamType:'music',audioAttributesUsageType:'media',audioAttributesContentType:'unknown'}};class n{}_e.default=n,i(n,"configureAudio",(async o=>{await e.default.configureAudio(o)})),i(n,"startAudioSession",(async()=>{await e.default.startAudioSession()})),i(n,"stopAudioSession",(async()=>{await e.default.stopAudioSession()})),i(n,"getAudioOutputs",(async()=>[])),i(n,"selectAudioOutput",(async o=>{await e.default.selectAudioOutput(o)})),i(n,"showAudioRoutePicker",(async()=>{})),i(n,"setAppleAudioConfiguration",(async o=>{}))}),1431,[20,121,1432]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1]));t(r(d[2]));const o=n.default.LivekitReactNativeModule?n.default.LivekitReactNativeModule:new Proxy({},{get(){throw new Error("The package '@livekit/react-native' doesn't seem to be linked. Make sure: \n\n- You rebuilt the app after installing the package\n- You are not using Expo managed workflow\n")}});e.default=o}),1432,[20,244,121]);
__d((function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var r=_r(d[1]),e=_r(d[2]),i=t(_r(d[3]));function n(t,r,e){return(r=o(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function o(t){var r=s(t,"string");return"symbol"==typeof r?r:r+""}function s(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}class c extends i.default{constructor(t){super(),n(this,"room",void 0),n(this,"frameCryptors",new Map),n(this,"keyProvider",void 0),n(this,"algorithm",r.RTCFrameCryptorAlgorithm.kAesGcm),n(this,"encryptionEnabled",!1),this.keyProvider=t,this.encryptionEnabled=!1}setup(t){this.room!==t&&(this.room=t,this.setupEventListeners(t))}setupEventListeners(t){t.localParticipant.on(e.ParticipantEvent.LocalTrackPublished,(async r=>{this.setupE2EESender(r,t.localParticipant)})).on(e.ParticipantEvent.LocalTrackUnpublished,(async t=>{let r=this.findTrackCryptor(t.trackSid);r&&(this.frameCryptors.delete(t.trackSid),await r.setEnabled(!1),await r.dispose())})),t.on(e.RoomEvent.TrackSubscribed,((t,r,e)=>{this.setupE2EEReceiver(r,e)})).on(e.RoomEvent.TrackUnsubscribed,(async(t,r,e)=>{let i=this.findTrackCryptor(r.trackSid);i&&(this.frameCryptors.delete(r.trackSid),await i.setEnabled(!1),await i.dispose())}))}async setupE2EESender(t,r){if(t.isEncrypted){var e=this.findTrackCryptor(t.trackSid);e||(e=this.createFrameCryptorForSender(t.track.sender,r.identity),this.frameCryptors.set(t.trackSid,e),e.setEnabled(!0),e.setKeyIndex(this.keyProvider.getLatestKeyIndex(r.identity)))}}async setupE2EEReceiver(t,r){if(t.isEncrypted){var e=this.findTrackCryptor(t.trackSid);e||(e=this.createFrameCryptorForReceiver(t.track.receiver,r.identity),this.frameCryptors.set(t.trackSid,e),e.setEnabled(!0),e.setKeyIndex(this.keyProvider.getLatestKeyIndex(r.identity)))}}setSifTrailer(t){this.keyProvider.setSifTrailer(t)}findTrackCryptor(t){return this.frameCryptors.get(t)}createFrameCryptorForSender(t,e){return r.RTCFrameCryptorFactory.createFrameCryptorForRtpSender(e,t,this.algorithm,this.keyProvider.rtcKeyProvider)}createFrameCryptorForReceiver(t,e){return r.RTCFrameCryptorFactory.createFrameCryptorForRtpReceiver(e,t,this.algorithm,this.keyProvider.rtcKeyProvider)}setupEngine(t){}setParticipantCryptorEnabled(t,r){var i;if(this.encryptionEnabled!==t&&r===(null===(i=this.room)||void 0===i?void 0:i.localParticipant.identity))this.encryptionEnabled=t,this.emit(e.EncryptionEvent.ParticipantEncryptionStatusChanged,t,this.room.localParticipant);else{var n;const i=null===(n=this.room)||void 0===n?void 0:n.getParticipantByIdentity(r);if(!i)throw TypeError(`couldn't set encryption status, participant not found ${r}`);this.emit(e.EncryptionEvent.ParticipantEncryptionStatusChanged,t,i)}}}_e.default=c}),1433,[20,1390,880,1434]);
__d((function(g,r,_i,a,_m,e,d){'use strict';var t,n='object'==typeof Reflect?Reflect:null,i=n&&'function'==typeof n.apply?n.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};t=n&&'function'==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}_m.exports=s,_m.exports.once=function(t,n){return new Promise((function(i,o){function s(i){t.removeListener(n,u),o(i)}function u(){'function'==typeof t.removeListener&&t.removeListener('error',s),i([].slice.call(arguments))}b(t,n,u,{once:!0}),'error'!==n&&w(t,s,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function f(t){if('function'!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function v(t,n,i,o){var s,u,v,p;if(f(i),void 0===(u=t._events)?(u=t._events=Object.create(null),t._eventsCount=0):(void 0!==u.newListener&&(t.emit('newListener',n,i.listener?i.listener:i),u=t._events),v=u[n]),void 0===v)v=u[n]=i,++t._eventsCount;else if('function'==typeof v?v=u[n]=o?[i,v]:[v,i]:o?v.unshift(i):v.push(i),(s=c(t))>0&&v.length>s&&!v.warned){v.warned=!0;var l=new Error('Possible EventEmitter memory leak detected. '+v.length+' '+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name='MaxListenersExceededWarning',l.emitter=t,l.type=n,l.count=v.length,p=l,console&&console.warn&&console.warn(p)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,n,i){var o={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},s=p.bind(o);return s.listener=i,o.wrapFn=s,s}function h(t,n,i){var o=t._events;if(void 0===o)return[];var s=o[n];return void 0===s?[]:'function'==typeof s?i?[s.listener||s]:[s]:i?_(s):m(s,s.length)}function y(t){var n=this._events;if(void 0!==n){var i=n[t];if('function'==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(t,n){for(var i=new Array(n),o=0;o<n;++o)i[o]=t[o];return i}function L(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}function _(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}function w(t,n,i){'function'==typeof t.on&&b(t,'error',n,i)}function b(t,n,i,o){if('function'==typeof t.on)o.once?t.once(n,i):t.on(n,i);else{if('function'!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(n,(function s(u){o.once&&t.removeEventListener(n,s),i(u)}))}}Object.defineProperty(s,'defaultMaxListeners',{enumerable:!0,get:function(){return u},set:function(t){if('number'!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+'.');u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if('number'!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+'.');return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);var s='error'===t,u=this._events;if(void 0!==u)s=s&&void 0===u.error;else if(!s)return!1;if(s){var f;if(n.length>0&&(f=n[0]),f instanceof Error)throw f;var c=new Error('Unhandled error.'+(f?' ('+f.message+')':''));throw c.context=f,c}var v=u[t];if(void 0===v)return!1;if('function'==typeof v)i(v,this,n);else{var p=v.length,l=m(v,p);for(o=0;o<p;++o)i(l[o],this,n)}return!0},s.prototype.addListener=function(t,n){return v(this,t,n,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,n){return v(this,t,n,!0)},s.prototype.once=function(t,n){return f(n),this.on(t,l(this,t,n)),this},s.prototype.prependOnceListener=function(t,n){return f(n),this.prependListener(t,l(this,t,n)),this},s.prototype.removeListener=function(t,n){var i,o,s,u,c;if(f(n),void 0===(o=this._events))return this;if(void 0===(i=o[t]))return this;if(i===n||i.listener===n)0===--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit('removeListener',t,i.listener||n));else if('function'!=typeof i){for(s=-1,u=i.length-1;u>=0;u--)if(i[u]===n||i[u].listener===n){c=i[u].listener,s=u;break}if(s<0)return this;0===s?i.shift():L(i,s),1===i.length&&(o[t]=i[0]),void 0!==o.removeListener&&this.emit('removeListener',t,c||n)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var n,i,o;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var s,u=Object.keys(i);for(o=0;o<u.length;++o)'removeListener'!==(s=u[o])&&this.removeAllListeners(s);return this.removeAllListeners('removeListener'),this._events=Object.create(null),this._eventsCount=0,this}if('function'==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this},s.prototype.listeners=function(t){return h(this,t,!0)},s.prototype.rawListeners=function(t){return h(this,t,!1)},s.listenerCount=function(t,n){return'function'==typeof t.listenerCount?t.listenerCount(n):y.call(t,n)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}),1434,[]);
__d((function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=_r(d[0]),t=_r(d[1]);function r(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){var t=n(e,"string");return"symbol"==typeof t?t:t+""}function n(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class s extends e.BaseKeyProvider{constructor(e){const i={sharedKey:e.sharedKey??!0,ratchetSalt:e.ratchetSalt??"LKFrameEncryptionKey",ratchetWindowSize:e.ratchetWindowSize??16,failureTolerance:e.failureTolerance??-1,keyRingSize:e.keyringSize??16,keyringSize:e.keyringSize??16,discardFrameWhenCryptorNotReady:false};let n=e.uncryptedMagicBytes??"LK-ROCKS";'string'==typeof n&&(n=(new TextEncoder).encode(n)),i.uncryptedMagicBytes=n,super(i),r(this,"latestSetIndex",new Map),r(this,"nativeKeyProvider",void 0),this.nativeKeyProvider=t.RTCFrameCryptorFactory.createDefaultKeyProvider(i)}getLatestKeyIndex(e){return this.latestSetIndex.get(e)??0}async setSharedKey(e,t){return this.nativeKeyProvider.setSharedKey(e,t)}async ratchetSharedKey(e){this.nativeKeyProvider.ratchetSharedKey(e)}async setKey(e,t,r){return this.getOptions().sharedKey?this.setSharedKey(t,r):(this.latestSetIndex.set(e,r??0),this.nativeKeyProvider.setKey(e,t,r))}async ratchetKey(e,t){!this.getOptions().sharedKey&&e?this.nativeKeyProvider.ratchetKey(e,t):this.ratchetSharedKey(t)}async setSifTrailer(e){return this.nativeKeyProvider.setSifTrailer(e)}get rtcKeyProvider(){return this.nativeKeyProvider}dispose(){this.nativeKeyProvider.dispose()}}_e.default=s}),1435,[880,1390]);
__d((function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.addListener=function(n,t,o){var s;if(!v.includes(t))throw new Error(`Invalid event: ${t}`);l.has(n)||l.set(n,[]);null===(s=l.get(n))||void 0===s||s.push(f.addListener(t,o))},e.removeListener=function(n){var t;null===(t=l.get(n))||void 0===t||t.forEach((n=>{n.remove()})),l.delete(n)},e.setupNativeEvents=function(){for(const n of v)u.addListener(n,((...t)=>{f.emit(n,...t)}))};var t=n(r(d[1])),o=n(r(d[2])),s=n(r(d[3]));const u=new t.default(s.default),v=['LK_VOLUME_PROCESSED','LK_MULTIBAND_PROCESSED'],f=new o.default;const l=new Map}),1436,[20,263,884,1432]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var t={useConnectionState:!0,useDataChannel:!0,useIsSpeaking:!0,useLocalParticipant:!0,useLocalParticipantPermissions:!0,useParticipantInfo:!0,useParticipants:!0,useRemoteParticipants:!0,useRemoteParticipant:!0,useSpeakingParticipants:!0,useSortedParticipants:!0,useChat:!0,useIsEncrypted:!0,useRoomInfo:!0,useIsMuted:!0,useParticipantTracks:!0,useLiveKitRoom:!0,RoomContext:!0,useRoomContext:!0,ParticipantContext:!0,useParticipantContext:!0,TrackRefContext:!0,useTrackRefContext:!0,useTracks:!0,isTrackReference:!0,useEnsureTrackRef:!0,useMaybeTrackRefContext:!0,useTrackMutedIndicator:!0,useVisualStableUpdate:!0,useVoiceAssistant:!0,useTrackTranscription:!0};Object.defineProperty(e,"ParticipantContext",{enumerable:!0,get:function(){return n.ParticipantContext}}),Object.defineProperty(e,"RoomContext",{enumerable:!0,get:function(){return n.RoomContext}}),Object.defineProperty(e,"TrackRefContext",{enumerable:!0,get:function(){return n.TrackRefContext}}),Object.defineProperty(e,"isTrackReference",{enumerable:!0,get:function(){return n.isTrackReference}}),Object.defineProperty(e,"useChat",{enumerable:!0,get:function(){return n.useChat}}),Object.defineProperty(e,"useConnectionState",{enumerable:!0,get:function(){return n.useConnectionState}}),Object.defineProperty(e,"useDataChannel",{enumerable:!0,get:function(){return n.useDataChannel}}),Object.defineProperty(e,"useEnsureTrackRef",{enumerable:!0,get:function(){return n.useEnsureTrackRef}}),Object.defineProperty(e,"useIsEncrypted",{enumerable:!0,get:function(){return n.useIsEncrypted}}),Object.defineProperty(e,"useIsMuted",{enumerable:!0,get:function(){return n.useIsMuted}}),Object.defineProperty(e,"useIsSpeaking",{enumerable:!0,get:function(){return n.useIsSpeaking}}),Object.defineProperty(e,"useLiveKitRoom",{enumerable:!0,get:function(){return n.useLiveKitRoom}}),Object.defineProperty(e,"useLocalParticipant",{enumerable:!0,get:function(){return n.useLocalParticipant}}),Object.defineProperty(e,"useLocalParticipantPermissions",{enumerable:!0,get:function(){return n.useLocalParticipantPermissions}}),Object.defineProperty(e,"useMaybeTrackRefContext",{enumerable:!0,get:function(){return n.useMaybeTrackRefContext}}),Object.defineProperty(e,"useParticipantContext",{enumerable:!0,get:function(){return n.useParticipantContext}}),Object.defineProperty(e,"useParticipantInfo",{enumerable:!0,get:function(){return n.useParticipantInfo}}),Object.defineProperty(e,"useParticipantTracks",{enumerable:!0,get:function(){return n.useParticipantTracks}}),Object.defineProperty(e,"useParticipants",{enumerable:!0,get:function(){return n.useParticipants}}),Object.defineProperty(e,"useRemoteParticipant",{enumerable:!0,get:function(){return n.useRemoteParticipant}}),Object.defineProperty(e,"useRemoteParticipants",{enumerable:!0,get:function(){return n.useRemoteParticipants}}),Object.defineProperty(e,"useRoomContext",{enumerable:!0,get:function(){return n.useRoomContext}}),Object.defineProperty(e,"useRoomInfo",{enumerable:!0,get:function(){return n.useRoomInfo}}),Object.defineProperty(e,"useSortedParticipants",{enumerable:!0,get:function(){return n.useSortedParticipants}}),Object.defineProperty(e,"useSpeakingParticipants",{enumerable:!0,get:function(){return n.useSpeakingParticipants}}),Object.defineProperty(e,"useTrackMutedIndicator",{enumerable:!0,get:function(){return n.useTrackMutedIndicator}}),Object.defineProperty(e,"useTrackRefContext",{enumerable:!0,get:function(){return n.useTrackRefContext}}),Object.defineProperty(e,"useTrackTranscription",{enumerable:!0,get:function(){return n.useTrackTranscription}}),Object.defineProperty(e,"useTracks",{enumerable:!0,get:function(){return n.useTracks}}),Object.defineProperty(e,"useVisualStableUpdate",{enumerable:!0,get:function(){return n.useVisualStableUpdate}}),Object.defineProperty(e,"useVoiceAssistant",{enumerable:!0,get:function(){return n.useVoiceAssistant}});var n=r(d[0]),u=r(d[1]);Object.keys(u).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===u[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return u[n]}}))}));var o=r(d[2]);Object.keys(o).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===o[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return o[n]}}))}));var c=r(d[3]);Object.keys(c).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===c[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return c[n]}}))}))}),1437,[1438,1444,1445,1446]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AudioConference",{enumerable:!0,get:function(){return u.AudioConference}}),Object.defineProperty(e,"AudioTrack",{enumerable:!0,get:function(){return c.s}}),Object.defineProperty(e,"AudioVisualizer",{enumerable:!0,get:function(){return c.A}}),Object.defineProperty(e,"BarVisualizer",{enumerable:!0,get:function(){return c.B}}),Object.defineProperty(e,"CameraDisabledIcon",{enumerable:!0,get:function(){return c.z}}),Object.defineProperty(e,"CameraIcon",{enumerable:!0,get:function(){return c.E}}),Object.defineProperty(e,"CarouselLayout",{enumerable:!0,get:function(){return c.g}}),Object.defineProperty(e,"Chat",{enumerable:!0,get:function(){return u.Chat}}),Object.defineProperty(e,"ChatCloseIcon",{enumerable:!0,get:function(){return c.S}}),Object.defineProperty(e,"ChatEntry",{enumerable:!0,get:function(){return c.a}}),Object.defineProperty(e,"ChatIcon",{enumerable:!0,get:function(){return c.c}}),Object.defineProperty(e,"ChatToggle",{enumerable:!0,get:function(){return c.C}}),Object.defineProperty(e,"Chevron",{enumerable:!0,get:function(){return c.H}}),Object.defineProperty(e,"ClearPinButton",{enumerable:!0,get:function(){return c.n}}),Object.defineProperty(e,"ConnectionQualityIndicator",{enumerable:!0,get:function(){return c.r}}),Object.defineProperty(e,"ConnectionState",{enumerable:!0,get:function(){return c.o}}),Object.defineProperty(e,"ConnectionStateToast",{enumerable:!0,get:function(){return c.i}}),Object.defineProperty(e,"ControlBar",{enumerable:!0,get:function(){return u.ControlBar}}),Object.defineProperty(e,"DisconnectButton",{enumerable:!0,get:function(){return c.D}}),Object.defineProperty(e,"FocusLayout",{enumerable:!0,get:function(){return c.h}}),Object.defineProperty(e,"FocusLayoutContainer",{enumerable:!0,get:function(){return c.F}}),Object.defineProperty(e,"FocusToggle",{enumerable:!0,get:function(){return c.p}}),Object.defineProperty(e,"FocusToggleIcon",{enumerable:!0,get:function(){return c.I}}),Object.defineProperty(e,"GearIcon",{enumerable:!0,get:function(){return c.d}}),Object.defineProperty(e,"GridLayout",{enumerable:!0,get:function(){return c.G}}),Object.defineProperty(e,"LKFeatureContext",{enumerable:!0,get:function(){return o.L}}),Object.defineProperty(e,"LayoutContext",{enumerable:!0,get:function(){return o.ac}}),Object.defineProperty(e,"LayoutContextProvider",{enumerable:!0,get:function(){return c.L}}),Object.defineProperty(e,"LeaveIcon",{enumerable:!0,get:function(){return c.e}}),Object.defineProperty(e,"LiveKitRoom",{enumerable:!0,get:function(){return n.L}}),Object.defineProperty(e,"LockLockedIcon",{enumerable:!0,get:function(){return c.J}}),Object.defineProperty(e,"MediaDeviceMenu",{enumerable:!0,get:function(){return u.MediaDeviceMenu}}),Object.defineProperty(e,"MediaDeviceSelect",{enumerable:!0,get:function(){return c.M}}),Object.defineProperty(e,"MicDisabledIcon",{enumerable:!0,get:function(){return c.K}}),Object.defineProperty(e,"MicIcon",{enumerable:!0,get:function(){return c.N}}),Object.defineProperty(e,"ParticipantAudioTile",{enumerable:!0,get:function(){return c.k}}),Object.defineProperty(e,"ParticipantContext",{enumerable:!0,get:function(){return o.ag}}),Object.defineProperty(e,"ParticipantContextIfNeeded",{enumerable:!0,get:function(){return c.x}}),Object.defineProperty(e,"ParticipantLoop",{enumerable:!0,get:function(){return c.v}}),Object.defineProperty(e,"ParticipantName",{enumerable:!0,get:function(){return c.t}}),Object.defineProperty(e,"ParticipantPlaceholder",{enumerable:!0,get:function(){return c.b}}),Object.defineProperty(e,"ParticipantTile",{enumerable:!0,get:function(){return c.P}}),Object.defineProperty(e,"PreJoin",{enumerable:!0,get:function(){return u.PreJoin}}),Object.defineProperty(e,"QualityExcellentIcon",{enumerable:!0,get:function(){return c.O}}),Object.defineProperty(e,"QualityGoodIcon",{enumerable:!0,get:function(){return c.Q}}),Object.defineProperty(e,"QualityPoorIcon",{enumerable:!0,get:function(){return c.U}}),Object.defineProperty(e,"QualityUnknownIcon",{enumerable:!0,get:function(){return c.W}}),Object.defineProperty(e,"RoomAudioRenderer",{enumerable:!0,get:function(){return c.R}}),Object.defineProperty(e,"RoomContext",{enumerable:!0,get:function(){return o.R}}),Object.defineProperty(e,"RoomName",{enumerable:!0,get:function(){return c.w}}),Object.defineProperty(e,"ScreenShareIcon",{enumerable:!0,get:function(){return c.X}}),Object.defineProperty(e,"ScreenShareStopIcon",{enumerable:!0,get:function(){return c.Y}}),Object.defineProperty(e,"SpinnerIcon",{enumerable:!0,get:function(){return c.Z}}),Object.defineProperty(e,"StartAudio",{enumerable:!0,get:function(){return c.q}}),Object.defineProperty(e,"StartMediaButton",{enumerable:!0,get:function(){return c.f}}),Object.defineProperty(e,"Toast",{enumerable:!0,get:function(){return c.l}}),Object.defineProperty(e,"TrackLoop",{enumerable:!0,get:function(){return c.j}}),Object.defineProperty(e,"TrackMutedIndicator",{enumerable:!0,get:function(){return c.u}}),Object.defineProperty(e,"TrackRefContext",{enumerable:!0,get:function(){return o.ah}}),Object.defineProperty(e,"TrackRefContextIfNeeded",{enumerable:!0,get:function(){return c.y}}),Object.defineProperty(e,"TrackToggle",{enumerable:!0,get:function(){return c.T}}),Object.defineProperty(e,"UnfocusToggleIcon",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"VideoConference",{enumerable:!0,get:function(){return u.VideoConference}}),Object.defineProperty(e,"VideoTrack",{enumerable:!0,get:function(){return c.V}}),Object.defineProperty(e,"VoiceAssistantControlBar",{enumerable:!0,get:function(){return u.VoiceAssistantControlBar}}),Object.defineProperty(e,"formatChatMessageLinks",{enumerable:!0,get:function(){return c.m}}),Object.defineProperty(e,"isTrackReference",{enumerable:!0,get:function(){return o.a1}}),Object.defineProperty(e,"setLogExtension",{enumerable:!0,get:function(){return o.av}}),Object.defineProperty(e,"setLogLevel",{enumerable:!0,get:function(){return o.au}}),Object.defineProperty(e,"useAudioPlayback",{enumerable:!0,get:function(){return t.D}}),Object.defineProperty(e,"useAudioWaveform",{enumerable:!0,get:function(){return t.S}}),Object.defineProperty(e,"useChat",{enumerable:!0,get:function(){return t.w}}),Object.defineProperty(e,"useChatToggle",{enumerable:!0,get:function(){return t.b}}),Object.defineProperty(e,"useClearPinButton",{enumerable:!0,get:function(){return t.u}}),Object.defineProperty(e,"useConnectionQualityIndicator",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(e,"useConnectionState",{enumerable:!0,get:function(){return t.a}}),Object.defineProperty(e,"useCreateLayoutContext",{enumerable:!0,get:function(){return o.ar}}),Object.defineProperty(e,"useDataChannel",{enumerable:!0,get:function(){return t.E}}),Object.defineProperty(e,"useDisconnectButton",{enumerable:!0,get:function(){return t.c}}),Object.defineProperty(e,"useEnsureCreateLayoutContext",{enumerable:!0,get:function(){return o.al}}),Object.defineProperty(e,"useEnsureLayoutContext",{enumerable:!0,get:function(){return o.F}}),Object.defineProperty(e,"useEnsureParticipant",{enumerable:!0,get:function(){return o.c}}),Object.defineProperty(e,"useEnsureRoom",{enumerable:!0,get:function(){return o.u}}),Object.defineProperty(e,"useEnsureTrackRef",{enumerable:!0,get:function(){return o.i}}),Object.defineProperty(e,"useFacingMode",{enumerable:!0,get:function(){return t.F}}),Object.defineProperty(e,"useFeatureContext",{enumerable:!0,get:function(){return o.ai}}),Object.defineProperty(e,"useFocusToggle",{enumerable:!0,get:function(){return t.d}}),Object.defineProperty(e,"useGridLayout",{enumerable:!0,get:function(){return t.n}}),Object.defineProperty(e,"useIsEncrypted",{enumerable:!0,get:function(){return t.m}}),Object.defineProperty(e,"useIsMuted",{enumerable:!0,get:function(){return t.G}}),Object.defineProperty(e,"useIsRecording",{enumerable:!0,get:function(){return t.Y}}),Object.defineProperty(e,"useIsSpeaking",{enumerable:!0,get:function(){return t.H}}),Object.defineProperty(e,"useLayoutContext",{enumerable:!0,get:function(){return o.a}}),Object.defineProperty(e,"useLiveKitRoom",{enumerable:!0,get:function(){return n.u}}),Object.defineProperty(e,"useLocalParticipant",{enumerable:!0,get:function(){return t.C}}),Object.defineProperty(e,"useLocalParticipantPermissions",{enumerable:!0,get:function(){return t.A}}),Object.defineProperty(e,"useMaybeLayoutContext",{enumerable:!0,get:function(){return o.j}}),Object.defineProperty(e,"useMaybeParticipantContext",{enumerable:!0,get:function(){return o.B}}),Object.defineProperty(e,"useMaybeRoomContext",{enumerable:!0,get:function(){return o.w}}),Object.defineProperty(e,"useMaybeTrackRefContext",{enumerable:!0,get:function(){return o.ab}}),Object.defineProperty(e,"useMediaDeviceSelect",{enumerable:!0,get:function(){return t.e}}),Object.defineProperty(e,"useMediaDevices",{enumerable:!0,get:function(){return t.y}}),Object.defineProperty(e,"useMultibandTrackVolume",{enumerable:!0,get:function(){return t.s}}),Object.defineProperty(e,"usePagination",{enumerable:!0,get:function(){return t.o}}),Object.defineProperty(e,"useParticipantAttribute",{enumerable:!0,get:function(){return t.X}}),Object.defineProperty(e,"useParticipantAttributes",{enumerable:!0,get:function(){return t.W}}),Object.defineProperty(e,"useParticipantContext",{enumerable:!0,get:function(){return o.aw}}),Object.defineProperty(e,"useParticipantInfo",{enumerable:!0,get:function(){return t.I}}),Object.defineProperty(e,"useParticipantPermissions",{enumerable:!0,get:function(){return t.J}}),Object.defineProperty(e,"useParticipantTile",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(e,"useParticipantTracks",{enumerable:!0,get:function(){return t.T}}),Object.defineProperty(e,"useParticipants",{enumerable:!0,get:function(){return t.K}}),Object.defineProperty(e,"usePersistentUserChoices",{enumerable:!0,get:function(){return t.x}}),Object.defineProperty(e,"usePinnedTracks",{enumerable:!0,get:function(){return t.B}}),Object.defineProperty(e,"usePreviewDevice",{enumerable:!0,get:function(){return u.usePreviewDevice}}),Object.defineProperty(e,"usePreviewTracks",{enumerable:!0,get:function(){return u.usePreviewTracks}}),Object.defineProperty(e,"useRemoteParticipant",{enumerable:!0,get:function(){return t.L}}),Object.defineProperty(e,"useRemoteParticipants",{enumerable:!0,get:function(){return t.M}}),Object.defineProperty(e,"useRoomContext",{enumerable:!0,get:function(){return o.f}}),Object.defineProperty(e,"useRoomInfo",{enumerable:!0,get:function(){return t.v}}),Object.defineProperty(e,"useSortedParticipants",{enumerable:!0,get:function(){return t.N}}),Object.defineProperty(e,"useSpeakingParticipants",{enumerable:!0,get:function(){return t.O}}),Object.defineProperty(e,"useStartAudio",{enumerable:!0,get:function(){return t.f}}),Object.defineProperty(e,"useStartVideo",{enumerable:!0,get:function(){return t.g}}),Object.defineProperty(e,"useSwipe",{enumerable:!0,get:function(){return t.p}}),Object.defineProperty(e,"useTextStream",{enumerable:!0,get:function(){return t.Z}}),Object.defineProperty(e,"useToken",{enumerable:!0,get:function(){return t.P}}),Object.defineProperty(e,"useTrackByName",{enumerable:!0,get:function(){return t.Q}}),Object.defineProperty(e,"useTrackMutedIndicator",{enumerable:!0,get:function(){return t.k}}),Object.defineProperty(e,"useTrackRefContext",{enumerable:!0,get:function(){return o.ax}}),Object.defineProperty(e,"useTrackToggle",{enumerable:!0,get:function(){return t.h}}),Object.defineProperty(e,"useTrackTranscription",{enumerable:!0,get:function(){return t.U}}),Object.defineProperty(e,"useTrackVolume",{enumerable:!0,get:function(){return t.R}}),Object.defineProperty(e,"useTracks",{enumerable:!0,get:function(){return t.t}}),Object.defineProperty(e,"useTranscriptions",{enumerable:!0,get:function(){return t._}}),Object.defineProperty(e,"useVisualStableUpdate",{enumerable:!0,get:function(){return t.r}}),Object.defineProperty(e,"useVoiceAssistant",{enumerable:!0,get:function(){return t.V}});var t=r(d[0]),n=r(d[1]),u=r(d[2]),o=r(d[3]),c=r(d[4])}),1438,[1439,1441,1442,1440,1443]);
__d((function(_g,_r,_i,_a,_m,_e,_d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.A=function(){const n=(0,t.f)();return l(e.useMemo((()=>(0,t.v)(n.localParticipant)),[n]),n.localParticipant.permissions)},_e.B=function(n){return n=(0,t.F)(n),e.useMemo((()=>void 0!==(null==n?void 0:n.pin.state)&&n.pin.state.length>=1?n.pin.state:[]),[n.pin.state])},_e.C=b,_e.D=function(n){const r=(0,t.u)(n),a=e.useCallback((async()=>{await r.startAudio()}),[r]),i=e.useMemo((()=>(0,t.r)(r)),[r]),{canPlayAudio:o}=l(i,{canPlayAudio:r.canPlaybackAudio});return{canPlayAudio:o,startAudio:a}},_e.E=function(n,r){const a="function"==typeof n?n:r,i="string"==typeof n?n:void 0,o=(0,t.f)(),{send:c,messageObservable:s,isSendingObservable:u}=e.useMemo((()=>(0,t.g)(o,i,a)),[o,i,a]),d=l(s,void 0),f=l(u,!1);return{message:d,send:c,isSending:f}},_e.F=f,_e.G=p,_e.H=m,_e.I=function(n={}){let r=(0,t.B)();n.participant&&(r=n.participant);const a=e.useMemo((()=>(0,t.C)(r)),[r]),{identity:i,name:o,metadata:c}=l(a,{name:null==r?void 0:r.name,identity:null==r?void 0:r.identity,metadata:null==r?void 0:r.metadata});return{identity:i,name:o,metadata:c}},_e.J=function(n={}){const r=(0,t.c)(n.participant);return l(e.useMemo((()=>(0,t.v)(r)),[r]),r.permissions)},_e.K=function(t={}){const n=g(t),{localParticipant:r}=b(t);return e.useMemo((()=>[r,...n]),[r,n])},_e.L=function(n,r={}){const a=(0,t.f)(),[i]=e.useState(r.updateOnlyOn),o=e.useMemo((()=>"string"==typeof n?(0,t.H)(a,n,{additionalEvents:i}):(0,t.I)(a,n,{additionalEvents:i})),[a,JSON.stringify(n),i]),[c,s]=e.useState({p:void 0});return e.useEffect((()=>{const e=o.subscribe((e=>s({p:e})));return()=>e.unsubscribe()}),[o]),c.p},_e.M=g,_e.N=function(n){const[r,a]=e.useState((0,t.M)(n)),i=k();return e.useEffect((()=>{a((0,t.M)(n))}),[i,n]),r},_e.O=k,_e.P=function(n,r,a={}){const[i,o]=e.useState(void 0);return e.useEffect((()=>{var e;if(void 0===n)throw Error("token endpoint needs to be defined");void 0!==(null==(e=a.userInfo)?void 0:e.identity)&&(async()=>{t.l.debug("fetching token");const e=new URLSearchParams({...a.userInfo,roomName:r}),i=await fetch(`${n}?${e.toString()}`);if(!i.ok)return void t.l.error(`Could not fetch token. Server responded with status ${i.status}: ${i.statusText}`);const{accessToken:c}=await i.json();o(c)})()}),[n,r,JSON.stringify(a)]),i},_e.Q=function(e,n){const r=(0,t.c)(n);return y({name:e,participant:r})},_e.R=function(n,a={fftSize:32,smoothingTimeConstant:0}){const i=(0,t.a1)(n)?n.publication.track:n,[o,c]=e.useState(0);return e.useEffect((()=>{if(!i||!i.mediaStream)return;const{cleanup:e,analyser:t}=(0,r.createAudioAnalyser)(i,a),n=t.frequencyBinCount,o=new Uint8Array(n),s=setInterval((()=>{t.getByteFrequencyData(o);let e=0;for(let t=0;t<o.length;t++){const n=o[t];e+=n*n}c(Math.sqrt(e/o.length)/255)}),33.333333333333336);return()=>{e(),clearInterval(s)}}),[i,null==i?void 0:i.mediaStream,JSON.stringify(a)]),o},_e.S=function(t,n={}){var a;const i=t instanceof r.Track?t:null==(a=null==t?void 0:t.publication)?void 0:a.track,o={...P,...n},c=e.useRef(new Float32Array),s=e.useRef(performance.now()),u=e.useRef(0),[l,d]=e.useState([]),f=e.useCallback((e=>{d(Array.from(T(e,o.barCount).map((e=>Math.sqrt(e)*o.volMultiplier))))}),[]);return e.useEffect((()=>{if(!i||null==i||!i.mediaStream)return;const{analyser:e,cleanup:t}=(0,r.createAudioAnalyser)(i,{fftSize:w(o.barCount)}),n=w(o.barCount),a=new Float32Array(n),l=()=>{if(d=requestAnimationFrame(l),e.getFloatTimeDomainData(a),c.current.map(((e,t)=>e+a[t])),u.current+=1,performance.now()-s.current>=o.updateInterval){const e=a.map((e=>e/u.current));f(e),s.current=performance.now(),u.current=0}};let d=requestAnimationFrame(l);return()=>{t(),cancelAnimationFrame(d)}}),[i,null==i?void 0:i.mediaStream,JSON.stringify(n),f]),{bars:l}},_e.T=O,_e.U=I,_e.V=function(){const t=g(),n=t.find((e=>e.kind===r.ParticipantKind.AGENT&&!("lk.publish_on_behalf"in e.attributes))),a=t.find((e=>e.kind===r.ParticipantKind.AGENT&&e.attributes["lk.publish_on_behalf"]===(null==n?void 0:n.identity))),i=O([r.Track.Source.Microphone,r.Track.Source.Camera],null==n?void 0:n.identity),o=O([r.Track.Source.Microphone,r.Track.Source.Camera],null==a?void 0:a.identity),c=i.find((e=>e.source===r.Track.Source.Microphone))??o.find((e=>e.source===r.Track.Source.Microphone)),s=i.find((e=>e.source===r.Track.Source.Camera))??o.find((e=>e.source===r.Track.Source.Camera)),{segments:u}=I(c),l=d(),{attributes:f}=R({participant:n}),p=e.useMemo((()=>l===r.ConnectionState.Disconnected?"disconnected":l!==r.ConnectionState.Connecting&&n&&null!=f&&f[D]?f[D]:"connecting"),[f,n,l]);return{agent:n,state:p,audioTrack:c,videoTrack:s,agentTranscriptions:u,agentAttributes:f}},_e.W=R,_e.X=function(n,r={}){const a=(0,t.c)(r.participant),[i,o]=e.useState(a.attributes[n]);return e.useEffect((()=>{if(!a)return;const e=(0,t.a7)(a).subscribe((e=>{void 0!==e.changed[n]&&o(e.attributes[n])}));return()=>{e.unsubscribe()}}),[a,n]),i},_e.Y=function(n){const r=(0,t.u)(n),a=d(r);return l(e.useMemo((()=>(0,t.a8)(r)),[r,a]),r.isRecording)},_e.Z=L,_e._=function(n){const{participantIdentities:r,trackSids:a}=n??{},{textStreams:i}=L(t.aa.TRANSCRIPTION);return e.useMemo((()=>i.filter((e=>!r||r.includes(e.participantInfo.identity))).filter((e=>{var t;return!a||a.includes((null==(t=e.streamInfo.attributes)?void 0:t["lk.transcribed_track_id"])??"")}))),[i,r,a])},_e.a=d,_e.b=function({props:r}){const{dispatch:a,state:i}=(0,t.a)().widget,{className:o}=e.useMemo((()=>(0,t.P)()),[]);return{mergedProps:e.useMemo((()=>(0,n.m)(r,{className:o,onClick:()=>{a&&a({msg:"toggle_chat"})},"aria-pressed":null!=i&&i.showChat?"true":"false","data-lk-unread-msgs":i?i.unreadMessages<10?i.unreadMessages.toFixed(0):"9+":"0"})),[r,o,a,i])}},_e.c=function(a){const i=(0,t.f)(),o=d(i);return{buttonProps:e.useMemo((()=>{const{className:e,disconnect:c}=(0,t.h)(i);return(0,n.m)(a,{className:e,onClick:()=>c(a.stopTracks??!0),disabled:o===r.ConnectionState.Disconnected})}),[i,a,o])}},_e.d=function({trackRef:r,props:a}){const i=(0,t.i)(r),o=(0,t.j)(),{className:c}=e.useMemo((()=>(0,t.k)()),[]),s=e.useMemo((()=>(0,t.m)(i,null==o?void 0:o.pin.state)),[i,null==o?void 0:o.pin.state]);return{mergedProps:e.useMemo((()=>(0,n.m)(a,{className:c,onClick:e=>{var t,n,r,c,u;null==(t=a.onClick)||t.call(a,e),s?null==(r=null==o?void 0:(n=o.pin).dispatch)||r.call(n,{msg:"clear_pin"}):null==(u=null==o?void 0:(c=o.pin).dispatch)||u.call(c,{msg:"set_pin",trackReference:i})}})),[a,c,i,s,null==o?void 0:o.pin]),inFocus:s}},_e.e=function({kind:n,room:a,track:i,requestPermissions:o,onError:c}){const s=(0,t.w)(),u=e.useMemo((()=>a??s??new r.Room),[a,s]),d=l(e.useMemo((()=>(0,t.x)(n,c,o)),[n,o,c]),[]),[f,p]=e.useState((null==u?void 0:u.getActiveDevice(n))??"default"),{className:m,activeDeviceObservable:b,setActiveMediaDevice:v}=e.useMemo((()=>(0,t.y)(n,u)),[n,u,i]);return e.useEffect((()=>{const e=b.subscribe((e=>{e&&(t.l.info("setCurrentDeviceId",e),p(e))}));return()=>{null==e||e.unsubscribe()}}),[b]),{devices:d,className:m,activeDeviceId:f,setActiveMediaDevice:v}},_e.f=function({room:r,props:a}){const i=(0,t.u)(r),{className:o,roomAudioPlaybackAllowedObservable:c,handleStartAudioPlayback:s}=e.useMemo((()=>(0,t.N)()),[]),u=e.useMemo((()=>c(i)),[i,c]),{canPlayAudio:d}=l(u,{canPlayAudio:i.canPlaybackAudio});return{mergedProps:e.useMemo((()=>(0,n.m)(a,{className:o,onClick:()=>{s(i)},style:{display:d?"none":"block"}})),[a,o,d,s,i]),canPlayAudio:d}},_e.g=function({room:r,props:a}){const i=(0,t.u)(r),{className:o,roomVideoPlaybackAllowedObservable:c,handleStartVideoPlayback:s}=e.useMemo((()=>(0,t.O)()),[]),u=e.useMemo((()=>c(i)),[i,c]),{canPlayVideo:d}=l(u,{canPlayVideo:i.canPlaybackVideo});return{mergedProps:e.useMemo((()=>(0,n.m)(a,{className:o,onClick:()=>{s(i)},style:{display:d?"none":"block"}})),[a,o,d,s,i]),canPlayVideo:d}},_e.h=function({source:r,onChange:a,initialState:i,captureOptions:o,publishOptions:c,onDeviceError:s,...u}){var d;const f=(0,t.w)(),p=null==(d=null==f?void 0:f.localParticipant)?void 0:d.getTrackPublication(r),m=e.useRef(!1),{toggle:b,className:v,pendingObserver:g,enabledObserver:k}=e.useMemo((()=>f?(0,t.S)(r,f,o,c,s):(0,t.T)()),[f,r,JSON.stringify(o),c]),h=l(g,!1),S=l(k,i??!(null==p||!p.isEnabled));e.useEffect((()=>{null==a||a(S,m.current),m.current=!1}),[S,a]),e.useEffect((()=>{void 0!==i&&(t.l.debug("forcing initial toggle state",r,i),b(i))}),[]);const y=e.useMemo((()=>(0,n.m)(u,{className:v})),[u,v]),M=e.useCallback((e=>{var t;m.current=!0,b().catch((()=>m.current=!1)),null==(t=u.onClick)||t.call(u,e)}),[u,b]);return{toggle:b,enabled:S,pending:h,track:p,buttonProps:{...y,"aria-pressed":S,"data-lk-source":r,"data-lk-enabled":S,disabled:h,onClick:M}}},_e.i=function(n={}){const a=(0,t.c)(n.participant),{className:i,connectionQualityObserver:o}=e.useMemo((()=>(0,t.d)(a)),[a]),c=l(o,r.ConnectionQuality.Unknown);return{className:i,quality:c}},_e.j=l,_e.k=function(n){var r,a;const i=(0,t.i)(n),{className:o,mediaMutedObserver:c}=e.useMemo((()=>(0,t.Q)(i)),[(0,t.p)(i)]);return{isMuted:l(c,!!(null!=(r=i.publication)&&r.isMuted||null!=(a=i.participant.getTrackPublication(i.source))&&a.isMuted)),className:o}},_e.l=function({trackRef:a,onParticipantClick:i,disableSpeakingIndicator:o,htmlProps:c}){const s=(0,t.i)(a),u=e.useMemo((()=>{const{className:e}=(0,t.D)();return(0,n.m)(c,{className:e,onClick:e=>{var t;if(null==(t=c.onClick)||t.call(c,e),"function"==typeof i){const e=s.publication??s.participant.getTrackPublication(s.source);i({participant:s.participant,track:e})}}})}),[c,i,s.publication,s.source,s.participant]),l=s.participant.getTrackPublication(r.Track.Source.Microphone),d=e.useMemo((()=>({participant:s.participant,source:r.Track.Source.Microphone,publication:l})),[l,s.participant]),b=p(s),v=p(d),g=m(s.participant),k=f(s);return{elementProps:{"data-lk-audio-muted":v,"data-lk-video-muted":b,"data-lk-speaking":!0!==o&&g,"data-lk-local-participant":s.participant.isLocal,"data-lk-source":s.source,"data-lk-facing-mode":k,...u}}},_e.m=function(n,r={}){const a=(0,t.c)(n),i=(0,t.u)(r.room);return l(e.useMemo((()=>(0,t.a0)(i,a)),[i,a]),a.isLocal?a.isE2EEEnabled:!(null==a||!a.isEncrypted))},_e.n=function(n,r,a={}){const i=a.gridLayouts??t.G,{width:o,height:c}=u(n),s=(0,t.n)(i,r,o,c);return e.useEffect((()=>{n.current&&s&&(n.current.style.setProperty("--lk-col-count",null==s?void 0:s.columns.toString()),n.current.style.setProperty("--lk-row-count",null==s?void 0:s.rows.toString()))}),[n,s]),{layout:s,containerWidth:o,containerHeight:c}},_e.o=function(t,n){const[r,a]=e.useState(1),i=Math.max(Math.ceil(n.length/t),1);r>i&&a(i);const o=r*t,c=o-t,s=e=>{a((t=>"next"===e?t===i?t:t+1:1===t?t:t-1))},u=v(n,t).slice(c,o);return{totalPageCount:i,nextPage:()=>s("next"),prevPage:()=>s("previous"),setPage:e=>{a(e>i?i:e<1?1:e)},firstItemIndex:c,lastItemIndex:o,tracks:u,currentPage:r}},_e.p=function(t,n={}){const r=e.useRef(null),a=e.useRef(null),i=n.minSwipeDistance??50,o=e=>{a.current=null,r.current=e.targetTouches[0].clientX},c=e=>{a.current=e.targetTouches[0].clientX},s=e.useCallback((()=>{if(!r.current||!a.current)return;const e=r.current-a.current,t=e<-i;e>i&&n.onLeftSwipe&&n.onLeftSwipe(),t&&n.onRightSwipe&&n.onRightSwipe()}),[i,n]);e.useEffect((()=>{const e=t.current;return e&&(e.addEventListener("touchstart",o,{passive:!0}),e.addEventListener("touchmove",c,{passive:!0}),e.addEventListener("touchend",s,{passive:!0})),()=>{e&&(e.removeEventListener("touchstart",o),e.removeEventListener("touchmove",c),e.removeEventListener("touchend",s))}}),[t,s])},_e.q=void 0,_e.r=v,_e.s=function(t,n={}){var a;const i=t instanceof r.Track?t:null==(a=null==t?void 0:t.publication)?void 0:a.track,o={...E,...n},[c,s]=e.useState(new Array(o.bands).fill(0));return e.useEffect((()=>{if(!i||null==i||!i.mediaStream)return;const{analyser:e,cleanup:t}=(0,r.createAudioAnalyser)(i,o.analyserOptions),a=e.frequencyBinCount,c=new Float32Array(a),u=setInterval((()=>{e.getFloatFrequencyData(c);let t=new Float32Array(c.length);for(let e=0;e<c.length;e++)t[e]=c[e];t=t.slice(n.loPass,n.hiPass);const r=M(t),a=Math.ceil(r.length/o.bands),i=[];for(let e=0;e<o.bands;e++){const t=r.slice(e*a,(e+1)*a).reduce(((e,t)=>e+t),0);i.push(t/a)}s(i)}),o.updateInterval);return()=>{t(),clearInterval(u)}}),[i,null==i?void 0:i.mediaStream,JSON.stringify(n)]),c},_e.t=function(n=[r.Track.Source.Camera,r.Track.Source.Microphone,r.Track.Source.ScreenShare,r.Track.Source.ScreenShareAudio,r.Track.Source.Unknown],a={}){const i=(0,t.u)(a.room),[o,c]=e.useState([]),[s,u]=e.useState([]),l=e.useMemo((()=>n.map((e=>(0,t.U)(e)?e.source:e))),[JSON.stringify(n)]);return e.useEffect((()=>{const e=(0,t.V)(i,l,{additionalRoomEvents:a.updateOnlyOn,onlySubscribed:a.onlySubscribed}).subscribe((({trackReferences:e,participants:n})=>{t.l.debug("setting track bundles",e,n),c(e),u(n)}));return()=>e.unsubscribe()}),[i,JSON.stringify(a.onlySubscribed),JSON.stringify(a.updateOnlyOn),JSON.stringify(n)]),e.useMemo((()=>{if((0,t.W)(n)){const e=S(n,s),r=Array.from(o);return s.forEach((n=>{e.has(n.identity)&&(e.get(n.identity)??[]).forEach((e=>{if(o.find((({participant:t,publication:r})=>n.identity===t.identity&&r.source===e)))return;t.l.debug(`Add ${e} placeholder for participant ${n.identity}.`);const a={participant:n,source:e};r.push(a)}))})),r}return o}),[o,s,n])},_e.u=function(r){const{state:a,dispatch:i}=(0,t.a)().pin;return{buttonProps:e.useMemo((()=>{const{className:e}=(0,t.b)();return(0,n.m)(r,{className:e,disabled:!(null!=a&&a.length),onClick:()=>{i&&i({msg:"clear_pin"})}})}),[r,i,a])}},_e.v=function(n={}){const r=(0,t.u)(n.room),a=e.useMemo((()=>(0,t.J)(r)),[r]),{name:i,metadata:o}=l(a,{name:r.name,metadata:r.metadata});return{name:i,metadata:o}},_e.w=function(n){const a=(0,t.f)(),i=d(a),o=e.useMemo((()=>i===r.ConnectionState.Disconnected),[i]),c=e.useMemo((()=>(0,t.Z)(a,n)),[a,n,o]),s=l(c.isSendingObservable,!1),u=l(c.messageObservable,[]);return{send:c.send,chatMessages:u,isSending:s}},_e.x=function(n={}){const[r,a]=e.useState((0,t._)(n.defaults,n.preventLoad??!1)),i=e.useCallback((e=>{a((t=>({...t,audioEnabled:e})))}),[]),o=e.useCallback((e=>{a((t=>({...t,videoEnabled:e})))}),[]),c=e.useCallback((e=>{a((t=>({...t,audioDeviceId:e})))}),[]),s=e.useCallback((e=>{a((t=>({...t,videoDeviceId:e})))}),[]),u=e.useCallback((e=>{a((t=>({...t,username:e})))}),[]);return e.useEffect((()=>{(0,t.$)(r,n.preventSave??!1)}),[r,n.preventSave]),{userChoices:r,saveAudioInputEnabled:i,saveVideoInputEnabled:o,saveAudioInputDeviceId:c,saveVideoInputDeviceId:s,saveUsername:u}},_e.y=function({kind:n,onError:r}){return l(e.useMemo((()=>(0,t.x)(n,r)),[n,r]),[])},_e.z=function(t){const n=e=>window.matchMedia(e).matches,[r,a]=e.useState(n(t));function i(){a(n(t))}return e.useEffect((()=>{const e=window.matchMedia(t);return i(),e.addListener?e.addListener(i):e.addEventListener("change",i),()=>{e.removeListener?e.removeListener(i):e.removeEventListener("change",i)}}),[t]),r};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var a,i,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?a(o,t,i):o[t]=e[t]);return o})(e,t)})(_r(_d[0])),t=_r(_d[1]),n=_r(_d[2]),r=_r(_d[3]);const a=t=>{const n=e.useRef(t);return e.useEffect((()=>{n.current=t})),n};function i(t,n){const r=s(),i=a(n);return e.useLayoutEffect((()=>{let e=!1;const n=t.current;if(n)return null==r||r.subscribe(n,a),()=>{e=!0,null==r||r.unsubscribe(n,a)};function a(t,n){e||i.current(t,n)}}),[t.current,r,i]),null==r?void 0:r.observer}function o(){let e=!1,t=[];const n=new Map,r=new ResizeObserver(((r,a)=>{t=t.concat(r),e||window.requestAnimationFrame((()=>{const r=new Set;for(let e=0;e<t.length;e++){if(r.has(t[e].target))continue;r.add(t[e].target);const i=n.get(t[e].target);null==i||i.forEach((n=>n(t[e],a)))}t=[],e=!1})),e=!0}));return{observer:r,subscribe(e,t){r.observe(e);const a=n.get(e)??[];a.push(t),n.set(e,a)},unsubscribe(e,t){const a=n.get(e)??[];if(1===a.length)return r.unobserve(e),void n.delete(e);const i=a.indexOf(t);-1!==i&&a.splice(i,1),n.set(e,a)}}}let c;const s=()=>c||(c=o()),u=t=>{const[n,r]=e.useState({width:0,height:0});e.useLayoutEffect((()=>{if(t.current){const{width:e,height:n}=t.current.getBoundingClientRect();r({width:e,height:n})}}),[t.current]);const a=e.useCallback((e=>r(e.contentRect)),[]);return i(t,a),n};function l(t,n,r=!0){const[a,i]=e.useState(n);return e.useEffect((()=>{if(r&&i(n),!t)return;const e=t.subscribe(i);return()=>e.unsubscribe()}),[t,r]),a}function d(n){const r=(0,t.u)(n);return l(e.useMemo((()=>(0,t.e)(r)),[r]),r.state)}function f(e){if(e.publication instanceof r.LocalTrackPublication){const t=e.publication.track;if(t){const{facingMode:e}=(0,r.facingModeFromLocalTrack)(t);return e}}return"undefined"}function p(n,r={}){var a,i;const o="string"==typeof n?r.participant:n.participant,c=(0,t.c)(o),s="string"==typeof n?{participant:c,source:n}:n,[u,l]=e.useState(!!(null!=(a=s.publication)&&a.isMuted||null!=(i=c.getTrackPublication(s.source))&&i.isMuted));return e.useEffect((()=>{const e=(0,t.o)(s).subscribe(l);return()=>e.unsubscribe()}),[(0,t.p)(s)]),u}function m(n){const r=(0,t.c)(n);return l(e.useMemo((()=>(0,t.q)(r)),[r]),r.isSpeaking)}function b(n={}){const r=(0,t.u)(n.room),[a,i]=e.useState(r.localParticipant),[o,c]=e.useState(a.isMicrophoneEnabled),[s,u]=e.useState(a.isMicrophoneEnabled),[l,d]=e.useState(a.lastMicrophoneError),[f,p]=e.useState(a.lastCameraError),[m,b]=e.useState(a.isMicrophoneEnabled),[v,g]=e.useState(void 0),[k,h]=e.useState(void 0),S=e=>{u(e.isCameraEnabled),c(e.isMicrophoneEnabled),b(e.isScreenShareEnabled),h(e.cameraTrack),g(e.microphoneTrack),d(e.participant.lastMicrophoneError),p(e.participant.lastCameraError),i(e.participant)};return e.useEffect((()=>{const e=(0,t.t)(r.localParticipant).subscribe(S);return()=>e.unsubscribe()}),[r]),{isMicrophoneEnabled:o,isScreenShareEnabled:m,isCameraEnabled:s,microphoneTrack:v,cameraTrack:k,lastMicrophoneError:l,lastCameraError:f,localParticipant:a}}function v(n,r,a={}){const i=e.useRef([]),o=e.useRef(-1),c=r!==o.current,s="function"==typeof a.customSortFunction?a.customSortFunction(n):(0,t.z)(n);let u=[...s];if(!1===c)try{u=(0,t.A)(i.current,s,r)}catch(e){t.l.error("Error while running updatePages(): ",e)}return i.current=c?s:u,o.current=r,u}function g(n={}){const r=(0,t.u)(n.room),[a,i]=e.useState([]);return e.useEffect((()=>{const e=(0,t.E)(r,{additionalRoomEvents:n.updateOnlyOn}).subscribe(i);return()=>e.unsubscribe()}),[r,JSON.stringify(n.updateOnlyOn)]),a}function k(){const n=(0,t.f)();return l(e.useMemo((()=>(0,t.K)(n)),[n]),n.activeSpeakers)}function h(e,t){const n=new Set(e);for(const e of t)n.delete(e);return n}function S(e,n){const r=new Map;if((0,t.W)(e)){const t=e.filter((e=>e.withPlaceholder)).map((e=>e.source));n.forEach((e=>{const n=e.getTrackPublications().map((e=>{var t;return null==(t=e.track)?void 0:t.source})).filter((e=>void 0!==e)),a=Array.from(h(new Set(t),new Set(n)));a.length>0&&r.set(e.identity,a)}))}return r}function y(n){const[a,i]=e.useState((0,t.X)(n)),{trackObserver:o}=e.useMemo((()=>(0,t.Y)(n)),[n.participant.sid??n.participant.identity,n.source]);return e.useEffect((()=>{const e=o.subscribe((e=>{i(e)}));return()=>null==e?void 0:e.unsubscribe()}),[o]),{participant:n.participant,source:n.source??r.Track.Source.Unknown,publication:a}}_e.q=u;const M=e=>{const t=e=>{let t=1- -1*Math.max(-100,Math.min(-10,e))/100;return t=Math.sqrt(t),t};return e.map((e=>e===-1/0?0:t(e)))},E={bands:5,loPass:100,hiPass:600,updateInterval:32,analyserOptions:{fftSize:2048}};const P={barCount:120,volMultiplier:5,updateInterval:20};function w(e){return e<32?32:C(e)}function C(e){let t=2;for(;e>>=1;)t<<=1;return t}function T(e,t){const n=Math.floor(e.length/t),r=new Float32Array(t);for(let a=0;a<t;a++){const t=n*a;let i=0;for(let r=0;r<n;r++)i+=Math.abs(e[t+r]);r[a]=i/n}return r}function O(n,r){const a=(0,t.f)(),i=(0,t.B)(),o=r?a.getParticipantByIdentity(r):i;return l(e.useMemo((()=>o?(0,t.a2)(o,{sources:n}):void 0),[null==o?void 0:o.sid,null==o?void 0:o.identity,JSON.stringify(n)]),[])}function A(n){var r,a,i;return l(e.useMemo((()=>{var e;return null!=(e=null==n?void 0:n.publication)&&e.track?(0,t.a3)(null==n?void 0:n.publication.track):void 0}),[null==(r=null==n?void 0:n.publication)?void 0:r.track]),{timestamp:Date.now(),rtpTimestamp:null==(i=null==(a=null==n?void 0:n.publication)?void 0:a.track)?void 0:i.rtpTimestamp})}const N={bufferSize:100};function I(n,r){const a={...N,...r},[i,o]=e.useState([]),c=A(n),s=e=>{var n;null==(n=a.onTranscription)||n.call(a,e),o((n=>(0,t.a5)(n,e.map((e=>(0,t.a6)(e,c))),a.bufferSize)))};return e.useEffect((()=>{if(null==n||!n.publication)return;const e=(0,t.a4)(n.publication).subscribe((e=>{s(...e)}));return()=>{e.unsubscribe()}}),[n&&(0,t.p)(n),s]),{segments:i}}function R(n={}){const r=(0,t.B)(),a=n.participant??r;return l(e.useMemo((()=>(0,t.a7)(a)),[a]),{attributes:null==a?void 0:a.attributes})}const D="lk.agent.state";function L(n){const a=(0,t.f)(),i=d(a)===r.ConnectionState.Disconnected,o=e.useMemo((()=>(0,t.a9)(a,n)),[a,n]);return{textStreams:l(i?void 0:o,[])}}}),1439,[29,1440,1441,880]);
__d((function(_g,_r2,_i2,_a,_m,_e2,_d){Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.$=function(t,e=!1){!0!==e&&ui(t)},_e2.A=function(t,e,n){let r=Lr(t,e);if(r.length<e.length){const t=Er(e,r,Zn);r=[...r,...t]}const i=Or(r,n),o=Or(e,n);if(xr(i,o).forEach((([t,e],i)=>{if(t&&e){const o=kr(Or(r,n)[i],e);Tr(o)&&(ar.debug(`Detected visual changes on page: ${i}, current: ${Sr(t)}, next: ${Sr(e)}`,{changes:o}),o.added.length===o.dropped.length&&xr(o.added,o.dropped).forEach((([t,e])=>{if(!t||!e)throw new Error(`For a swap action we need a addition and a removal one is missing: ${t}, ${e}`);r=Cr(t,e,r)})),0===o.added.length&&o.dropped.length>0&&o.dropped.forEach((t=>{r=Rr(t,r)})),o.added.length>0&&0===o.dropped.length&&o.added.forEach((t=>{r=Ar(t,r)})))}})),r.length>e.length){const t=Er(r,e,Zn);r=r.filter((e=>!t.map(Zn).includes(Zn(e))))}return r},_e2.B=xi,_e2.C=zr,_e2.D=function(){return{className:_r("participant-tile")}},_e2.E=function(e,n={}){var r;let i;const o=new ue((t=>(i=t,()=>u.unsubscribe()))).pipe(Mn(Array.from(e.remoteParticipants.values()))),c=null!=(r=n.additionalRoomEvents)?r:ir,a=Array.from(new Set([t.RoomEvent.ParticipantConnected,t.RoomEvent.ParticipantDisconnected,t.RoomEvent.ConnectionStateChanged,...c])),u=Dr(e,...a).subscribe((t=>null==i?void 0:i.next(Array.from(t.remoteParticipants.values()))));return e.remoteParticipants.size>0&&(null==i||i.next(Array.from(e.remoteParticipants.values()))),o},_e2.F=function(t){const e=yi();if(t??(t=e),!t)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return t},_e2.G=void 0,_e2.H=function(e,n,r={}){var i;const o=null!=(i=r.additionalEvents)?i:cr;return Dr(e,t.RoomEvent.ParticipantConnected,t.RoomEvent.ParticipantDisconnected,t.RoomEvent.ConnectionStateChanged).pipe(Nn((t=>{const e=t.getParticipantByIdentity(n);return e?Ur(e,...o):new ue((t=>t.next(void 0)))})),Mn(e.getParticipantByIdentity(n)))},_e2.I=function(e,{kind:n,identity:r},i={}){var o;const c=null!=(o=i.additionalEvents)?o:cr,a=t=>{let e=!0;return n&&(e=e&&t.kind===n),r&&(e=e&&t.identity===r),e};return Dr(e,t.RoomEvent.ParticipantConnected,t.RoomEvent.ParticipantDisconnected,t.RoomEvent.ConnectionStateChanged).pipe(Nn((t=>{const e=Array.from(t.remoteParticipants.values()).find((t=>a(t)));return e?Ur(e,...c):new ue((t=>t.next(void 0)))})),Mn(Array.from(e.remoteParticipants.values()).find((t=>a(t)))))},_e2.J=function(e){return Dr(e,t.RoomEvent.RoomMetadataChanged,t.RoomEvent.ConnectionStateChanged).pipe(fn((t=>({name:t.name,metadata:t.metadata}))))},_e2.K=function(e){return Mr(e,t.RoomEvent.ActiveSpeakersChanged).pipe(fn((([t])=>t)))},_e2.L=void 0,_e2.M=function(t){const e=[...t];e.sort(((t,e)=>{if(t.isSpeaking&&e.isSpeaking)return dr(t,e);if(t.isSpeaking!==e.isSpeaking)return pr(t,e);if(t.lastSpokeAt!==e.lastSpokeAt)return hr(t,e);const n=t.videoTrackPublications.size>0;return n!==e.videoTrackPublications.size>0?n?-1:1:vr(t,e)}));const n=e.find((t=>t.isLocal));if(n){const t=e.indexOf(n);t>=0&&(e.splice(t,1),e.length>0?e.splice(0,0,n):e.push(n))}return e},_e2.N=function(){return{className:_r("start-audio-button"),roomAudioPlaybackAllowedObservable:$r,handleStartAudioPlayback:t=>qn(this,null,(function*(){ar.info("Start Audio for room: ",t),yield t.startAudio()}))}},_e2.O=function(){return{className:_r("start-audio-button"),roomVideoPlaybackAllowedObservable:jr,handleStartVideoPlayback:t=>qn(this,null,(function*(){ar.info("Start Video for room: ",t),yield t.startVideo()}))}},_e2.P=function(){return{className:[_r("button"),_r("chat-toggle")].join(" ")}},_e2.Q=function(e){let n="track-muted-indicator-camera";switch(e.source){case t.Track.Source.Camera:n="track-muted-indicator-camera";break;case t.Track.Source.Microphone:n="track-muted-indicator-microphone"}const r=_r(n),i=Br(e);return{className:r,mediaMutedObserver:i}},_e2.R=void 0,_e2.S=function(e,n,r,i,o){const{localParticipant:c}=n,a=(e,n)=>{let r=!1;switch(e){case t.Track.Source.Camera:r=n.isCameraEnabled;break;case t.Track.Source.Microphone:r=n.isMicrophoneEnabled;break;case t.Track.Source.ScreenShare:r=n.isScreenShareEnabled}return r},u=Fr(c).pipe(fn((t=>a(e,t.participant))),Mn(a(e,c))),s=new ye;return{className:_r("button"),toggle:(n,a)=>qn(this,null,(function*(){try{switch(a??(a=r),s.next(!0),e){case t.Track.Source.Camera:return yield c.setCameraEnabled(n??!c.isCameraEnabled,a,i),c.isCameraEnabled;case t.Track.Source.Microphone:return yield c.setMicrophoneEnabled(n??!c.isMicrophoneEnabled,a,i),c.isMicrophoneEnabled;case t.Track.Source.ScreenShare:return yield c.setScreenShareEnabled(n??!c.isScreenShareEnabled,a,i),c.isScreenShareEnabled;default:throw new TypeError("Tried to toggle unsupported source")}}catch(t){if(o&&t instanceof Error)return void(null==o||o(t));throw t}finally{s.next(!1)}})),enabledObserver:u,pendingObserver:s.asObservable()}},_e2.T=function(){let t=!1;const e=new ye,n=new ye;return{className:_r("button"),toggle:r=>qn(this,null,(function*(){n.next(!0),t=r??!t,e.next(t),n.next(!1)})),enabledObserver:e.asObservable(),pendingObserver:n.asObservable()}},_e2.U=fr,_e2.V=function(e,n,r){var i,o;const c=null!=(i=r.additionalRoomEvents)?i:ir,a=null==(o=r.onlySubscribed)||o,u=Array.from(new Set([t.RoomEvent.ParticipantConnected,t.RoomEvent.ParticipantDisconnected,t.RoomEvent.ConnectionStateChanged,t.RoomEvent.LocalTrackPublished,t.RoomEvent.LocalTrackUnpublished,t.RoomEvent.TrackPublished,t.RoomEvent.TrackUnpublished,t.RoomEvent.TrackSubscriptionStatusChanged,...c]).values());return Dr(e,...u).pipe(fn((t=>{const e=ti(t,n,a);return ar.debug(`TrackReference[] was updated. (length ${e.trackReferences.length})`,e),e})),Mn(ti(e,n,a)))},_e2.W=function(t){return Array.isArray(t)&&t.filter(fr).length>0},_e2.X=Ir,_e2.Y=function(e){const n=Ir(e),r=Fr(e.participant).pipe(fn((()=>Ir(e))),Mn(n));return{className:_r(e.source===t.Track.Source.Camera||e.source===t.Track.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:r}},_e2.Z=function(e,n){var r,i,o,c,a,u;const s=()=>{var n,r,i;return 1===(null==(n=e.serverInfo)?void 0:n.edition)||!(null==(r=e.serverInfo)||!r.version)&&(0,t.compareVersions)(null==(i=e.serverInfo)?void 0:i.version,"1.8.2")>0},l=new ye,f=null!=(r=null==n?void 0:n.channelTopic)?r:Yr.CHAT,d=null!=(i=null==n?void 0:n.channelTopic)?i:qr.CHAT;let p=!1;Gr.has(e)||(p=!0);const h=null!=(o=Gr.get(e))?o:new Map,v=null!=(c=h.get(f))?c:new ye;h.set(f,v),Gr.set(e,h);const m=null!=(a=null==n?void 0:n.messageDecoder)?a:Xr;if(p){e.registerTextStreamHandler(f,((t,n)=>qn(this,null,(function*(){const{id:r,timestamp:i}=t.info;on(t).pipe(Ln(((t,e)=>t+e)),fn((t=>({id:r,timestamp:i,message:t,from:e.getParticipantByIdentity(n.identity)})))).subscribe({next:t=>v.next(t)})}))));const{messageObservable:t}=Qr(e,[d]);t.pipe(fn((t=>{const e=m(t.payload);return Kr(e)?void 0:Yn(Bn({},e),{from:t.from})})),Cn((t=>!!t)),$n(l)).subscribe(v)}const y=v.pipe(Ln(((t,e)=>{if("id"in e&&t.find((t=>{var n,r;return(null==(n=t.from)?void 0:n.identity)===(null==(r=e.from)?void 0:r.identity)&&t.id===e.id}))){const n=t.findIndex((t=>t.id===e.id));if(n>-1){const r=t[n];t[n]=Yn(Bn({},e),{timestamp:r.timestamp,editTimestamp:e.timestamp})}return[...t]}return[...t,e]}),[]),$n(l)),b=new ge(!1),g=null!=(u=null==n?void 0:n.messageEncoder)?u:Zr;return e.once(t.RoomEvent.Disconnected,(function(){l.next(),l.complete(),v.complete(),Gr.delete(e),e.unregisterTextStreamHandler(f)})),{messageObservable:y,isSendingObservable:b,send:(t,n)=>qn(this,null,(function*(){n||(n={}),null!=n.topic||(n.topic=f),b.next(!0);try{const r={id:(yield e.localParticipant.sendText(t,n)).id,timestamp:Date.now(),message:t,from:e.localParticipant,attachedFiles:n.attachments};v.next(r);const i=g(Yn(Bn({},r),{ignoreLegacy:s()}));try{yield Jr(e.localParticipant,i,{reliable:!0,topic:d})}catch(t){ar.info("could not send message in legacy chat format",t)}return r}finally{b.next(!1)}}))}},_e2._=function(t,e=!1){var n,r,i,o,c;const a={videoEnabled:null!=(n=null==t?void 0:t.videoEnabled)?n:ci.videoEnabled,audioEnabled:null!=(r=null==t?void 0:t.audioEnabled)?r:ci.audioEnabled,videoDeviceId:null!=(i=null==t?void 0:t.videoDeviceId)?i:ci.videoDeviceId,audioDeviceId:null!=(o=null==t?void 0:t.audioDeviceId)?o:ci.audioDeviceId,username:null!=(c=null==t?void 0:t.username)?c:ci.username};if(e)return a;{const t=ai();return Bn(Bn({},a),t??{})}},_e2.a=function(){const t=e.useContext(mi);if(!t)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return t},_e2.a0=function(e,n){return Mr(e,t.RoomEvent.ParticipantEncryptionStatusChanged).pipe(Cn((([,t])=>(null==n?void 0:n.identity)===(null==t?void 0:t.identity)||!t&&(null==n?void 0:n.identity)===e.localParticipant.identity)),fn((([t])=>t)),Mn(null!=n&&n.isLocal?n.isE2EEEnabled:!(null==n||!n.isEncrypted)))},_e2.a1=Qn,_e2.a2=function(t,e){return Ur(t,...or).pipe(fn((t=>{const n=ei(t,e);return ar.debug(`TrackReference[] was updated. (length ${n.length})`,n),n})),Mn(ei(t,e)))},_e2.a3=function(e){return ni(e,t.TrackEvent.TimeSyncUpdate).pipe(fn((([t])=>t)))},_e2.a4=function(e){return ni(e,t.TrackEvent.TranscriptionReceived)},_e2.a5=function(t,e,n){return[...t,...e].reduceRight(((t,e)=>(t.find((t=>t.id===e.id))||t.unshift(e),t)),[]).slice(0-n)},_e2.a6=function(t,e){var n;return Yn(Bn({},t),{receivedAtMediaTimestamp:null!=(n=e.rtpTimestamp)?n:0,receivedAt:e.timestamp})},_e2.a7=function(e){return typeof e>"u"?new ue:Vr(e,t.ParticipantEvent.AttributesChanged).pipe(fn((([t])=>({changed:t,attributes:e.attributes}))),Mn({changed:e.attributes,attributes:e.attributes}))},_e2.a8=function(e){return Mr(e,t.RoomEvent.RecordingStatusChanged).pipe(fn((([t])=>t)),Mn(e.isRecording))},_e2.a9=function(e,n){const r=pi(e,n),i=di(),o=i.get(r);if(o)return o;const c=new ye,a=[],u="lk.segment_id";e.registerTextStreamHandler(n,((t,e)=>qn(this,null,(function*(){var n;const r=on(t).pipe(Ln(((t,e)=>t+e),"")),i=!(null==(n=t.info.attributes)||!n[u]);r.subscribe((n=>{const r=a.findIndex((e=>{var n,r;return e.streamInfo.id===t.info.id||i&&(null==(n=e.streamInfo.attributes)?void 0:n[u])===(null==(r=t.info.attributes)?void 0:r[u])}));-1!==r?(a[r]=Yn(Bn({},a[r]),{text:n}),c.next([...a])):(a.push({text:n,participantInfo:e,streamInfo:t.info}),c.next([...a]))}))}))));const s=c.asObservable().pipe(_n());return i.set(r,s),e.once(t.RoomEvent.Disconnected,(()=>{e.unregisterTextStreamHandler(n),c.complete(),di().delete(r)})),s},_e2.aa=void 0,_e2.ab=gi,_e2.ac=void 0,_e2.ad=function(t){return{className:"lk-participant-name",infoObserver:zr(t)}},_e2.ae=void 0,_e2.af=St,_e2.ah=_e2.ag=void 0,_e2.ai=function(t){const n=e.useContext(ki);if(!0===t){if(n)return n;throw Error("tried to access feature context, but none is present")}return n},_e2.aj=function(t,e=1e3){if(null===t)return cn(!1);const n=En(t,"mousemove",{passive:!0}).pipe(fn((()=>!0))),r=n.pipe(sn({each:e,with:()=>bn(cn(!1),r.pipe(Dn(n)))}),An());return r},_e2.ak=function(){const t=document.createElement("p");t.style.width="100%",t.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);const n=t.offsetWidth;e.style.overflow="scroll";let r=t.offsetWidth;return n===r&&(r=e.clientWidth),document.body.removeChild(e),n-r},_e2.al=function(t){const[n,r]=e.useReducer(vi,sr),[i,o]=e.useReducer(hi,lr);return t??{pin:{dispatch:r,state:n},widget:{dispatch:o,state:i}}},_e2.am=function(t,e){const n=Object.entries(e).map((([e,n],r)=>Array.from(t.matchAll(n)).map((({index:t,0:n})=>({type:e,weight:r,content:n,index:t??0}))))).flat().sort(((t,e)=>{const n=t.index-e.index;return 0!==n?n:t.weight-e.weight})).filter((({index:t},e,n)=>{if(0===e)return!0;const r=n[e-1];return r.index+r.content.length<=t})),r=[];let i=0;for(const{type:e,content:o,index:c}of n)c>i&&r.push(t.substring(i,c)),r.push({type:e,content:o}),i=c+o.length;return t.length>i&&r.push(t.substring(i)),r},_e2.an=void 0,_e2.ao=function(t,e,n){return bt(t,e,(()=>qn(this,null,(function*(){const{x:r,y:i}=yield Et(t,e,{placement:"top",middleware:[gt(6),xt(),wt({padding:5})]});null==n||n(r,i)}))))},_e2.ap=function(t,e){return!t.contains(e.target)},_e2.aq=function(){return typeof navigator<"u"&&navigator.mediaDevices&&!!navigator.mediaDevices.getDisplayMedia},_e2.ar=function(){const[t,n]=e.useReducer(vi,sr),[r,i]=e.useReducer(hi,lr);return{pin:{dispatch:n,state:t},widget:{dispatch:i,state:r}}},_e2.as=function(t,e){return void 0!==t&&void 0!==e&&(Qn(t)&&Qn(e)?t.publication.trackSid===e.publication.trackSid:Zn(t)===Zn(e))},_e2.at=function(){return typeof document<"u"},_e2.au=function(e,n={}){var r;ar.setLevel(e),(0,t.setLogLevel)(null!=(r=n.liveKitClientLogLevel)?r:e)},_e2.av=function(e,n={}){var r;const i=ar.methodFactory;ar.methodFactory=(n,r,o)=>{const c=i(n,r,o),a=t.LogLevel[n],u=a>=r&&a<t.LogLevel.silent;return(t,n)=>{n?c(t,n):c(t),u&&e(a,t,n)}},ar.setLevel(ar.getLevel()),(0,t.setLogExtension)(null!=(r=n.liveKitClientLogExtension)?r:e)},_e2.aw=function(){const t=e.useContext(wi);if(!t)throw Error("tried to access participant context outside of participant context provider");return t},_e2.ax=function(){const t=e.useContext(bi);if(!t)throw Error("tried to access track context outside of track context provider");return t},_e2.b=function(){return{className:"lk-clear-pin-button lk-button"}},_e2.c=function(t){const e=xi(),n=gi(),r=t??e??(null==n?void 0:n.participant);if(!r)throw new Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return r},_e2.d=function(t){const e=_r("connection-quality"),n=Hr(t);return{className:e,connectionQualityObserver:n}},_e2.e=function(e){return Mr(e,t.RoomEvent.ConnectionStateChanged).pipe(fn((([t])=>t)),Mn(e.state))},_e2.f=function(){const t=e.useContext(Ei);if(!t)throw Error("tried to access room context outside of livekit room component");return t},_e2.g=Qr,_e2.h=function(t){return{className:_r("disconnect-button"),disconnect:e=>{t.disconnect(e)}}},_e2.i=function(t){const e=gi(),n=t??e;if(!n)throw new Error("No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly");return n},_e2.j=yi,_e2.k=function(){return{className:[_r("button"),_r("focus-toggle-button")].join(" ")}},_e2.l=void 0,_e2.m=function(t,e){return!(typeof e>"u")&&(Qn(t)?e.some((e=>e.participant.identity===t.participant.identity&&Qn(e)&&e.publication.trackSid===t.publication.trackSid)):!!Xn(t)&&e.some((e=>e.participant.identity===t.participant.identity&&Xn(e)&&e.source===t.source)))},_e2.n=function t(e,n,r,i){if(e.length<1)throw new Error("At least one grid layout definition must be provided.");const o=ur(e);if(r<=0||i<=0)return o[0];let c=0;const a=r/i>1?"landscape":"portrait";let u=o.find(((t,e,r)=>{c=e;const i=-1!==r.findIndex(((n,r)=>{const i=!n.orientation||n.orientation===a,o=r>e,c=n.maxTiles===t.maxTiles;return o&&c&&i}));return t.maxTiles>=n&&!i}));if(void 0===u){if(u=o[o.length-1],!u)throw new Error("No layout or fallback layout found.");ar.warn(`No layout found for: participantCount: ${n}, width/height: ${r}/${i} fallback to biggest available layout (${u}).`)}if((r<u.minWidth||i<u.minHeight)&&c>0){const e=o[c-1];u=t(o.slice(0,c),e.maxTiles,r,i)}return u},_e2.o=Br,_e2.p=Zn,_e2.q=function(e){return Vr(e,t.ParticipantEvent.IsSpeakingChanged).pipe(fn((([t])=>t)))},_e2.r=$r,_e2.s=function(){return{className:"lk-room-container"}},_e2.t=Fr,_e2.u=function(t){const e=Si(),n=t??e;if(!n)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n},_e2.v=function(e){return Vr(e,t.ParticipantEvent.ParticipantPermissionsChanged).pipe(fn((()=>e.permissions)),Mn(e.permissions))},_e2.w=Si,_e2.x=function(e,n,r=!0){const i=new ue((i=>{t.Room.getLocalDevices(e,r).then((t=>{i.next(t),i.complete()})).catch((t=>{null==n||n(t),i.next([]),i.complete()}))})),o=new ue((i=>{var o;const c=()=>qn(this,null,(function*(){try{const n=yield t.Room.getLocalDevices(e,r);i.next(n)}catch(t){null==n||n(t)}}));if(!window.isSecureContext)throw new Error("Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices");return null==(o=null==navigator?void 0:navigator.mediaDevices)||o.addEventListener("devicechange",c),()=>{var t;null==(t=null==navigator?void 0:navigator.mediaDevices)||t.removeEventListener("devicechange",c)}}));return bn(i,o)},_e2.y=function(e,n,r){const i=new ge(void 0),o=Wr(n,e);return{className:_r("media-device-select"),activeDeviceObservable:o,setActiveMediaDevice:(r,...o)=>qn(this,[r,...o],(function*(r,o={}){var c,a,u;if(n){ar.debug(`Switching active device of kind "${e}" with id ${r}.`),yield n.switchActiveDevice(e,r,o.exact);const s=null!=(c=n.getActiveDevice(e))?c:r;let l;s!==r&&"default"!==r&&ar.info(`We tried to select the device with id (${r}), but the browser decided to select the device with id (${s}) instead.`),"audioinput"===e?l=null==(a=n.localParticipant.getTrackPublication(t.Track.Source.Microphone))?void 0:a.track:"videoinput"===e&&(l=null==(u=n.localParticipant.getTrackPublication(t.Track.Source.Camera))?void 0:u.track);const f="default"===r&&!l||"default"===r&&(null==l?void 0:l.mediaStreamTrack.label.startsWith("Default"));i.next(f?r:s)}}))}},_e2.z=function(e){const n=[],r=[],i=[],o=[];e.forEach((e=>{e.participant.isLocal&&e.source===t.Track.Source.Camera?n.push(e):e.source===t.Track.Source.ScreenShare?r.push(e):e.source===t.Track.Source.Camera?i.push(e):o.push(e)}));const c=br(r),a=gr(i);return[...n,...c,...a,...o]};var t=_r2(_d[0]),e=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,c={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return c;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,c)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(c,e,o):c[e]=t[e]);return c})(t,e)})(_r2(_d[1]));const n=Math.min,r=Math.max,i=Math.round,o=Math.floor,c=t=>({x:t,y:t}),a={left:"right",right:"left",bottom:"top",top:"bottom"},u={start:"end",end:"start"};function s(t,e,i){return r(t,n(e,i))}function l(t,e){return"function"==typeof t?t(e):t}function f(t){return t.split("-")[0]}function d(t){return t.split("-")[1]}function p(t){return"x"===t?"y":"x"}function h(t){return"y"===t?"height":"width"}function v(t){return["top","bottom"].includes(f(t))?"y":"x"}function m(t){return p(v(t))}function y(t,e,n){void 0===n&&(n=!1);const r=d(t),i=m(t),o=h(i);let c="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=E(c)),[c,E(c)]}function b(t){const e=E(t);return[g(t),e,g(e)]}function g(t){return t.replace(/start|end/g,(t=>u[t]))}function w(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:c;default:return[]}}function x(t,e,n,r){const i=d(t);let o=w(f(t),"start"===n,r);return i&&(o=o.map((t=>t+"-"+i)),e&&(o=o.concat(o.map(g)))),o}function E(t){return t.replace(/left|right|bottom|top/g,(t=>a[t]))}function S(t){return{top:0,right:0,bottom:0,left:0,...t}}function k(t){return"number"!=typeof t?S(t):{top:t,right:t,bottom:t,left:t}}function T(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function P(t,e,n){let{reference:r,floating:i}=t;const o=v(e),c=m(e),a=h(c),u=f(e),s="y"===o,l=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,y=r[a]/2-i[a]/2;let b;switch(u){case"top":b={x:l,y:r.y-i.height};break;case"bottom":b={x:l,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:p};break;case"left":b={x:r.x-i.width,y:p};break;default:b={x:r.x,y:r.y}}switch(d(e)){case"start":b[c]-=y*(n&&s?-1:1);break;case"end":b[c]+=y*(n&&s?-1:1)}return b}const C=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:c}=n,a=o.filter(Boolean),u=await(null==c.isRTL?void 0:c.isRTL(e));let s=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:l,y:f}=P(s,r,u),d=r,p={},h=0;for(let n=0;n<a.length;n++){const{name:o,fn:v}=a[n],{x:m,y:y,data:b,reset:g}=await v({x:l,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:p,rects:s,platform:c,elements:{reference:t,floating:e}});l=m??l,f=y??f,p={...p,[o]:{...p[o],...b}},g&&h<=50&&(h++,"object"==typeof g&&(g.placement&&(d=g.placement),g.rects&&(s=!0===g.rects?await c.getElementRects({reference:t,floating:e,strategy:i}):g.rects),({x:l,y:f}=P(s,d,u))),n=-1)}return{x:l,y:f,placement:d,strategy:i,middlewareData:p}};async function R(t,e){var n;void 0===e&&(e={});const{x:r,y:i,platform:o,rects:c,elements:a,strategy:u}=t,{boundary:s="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:p=!1,padding:h=0}=l(e,t),v=k(h),m=a[p?"floating"===d?"reference":"floating":d],y=T(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:s,rootBoundary:f,strategy:u})),b="floating"===d?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,g=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),w=await(null==o.isElement?void 0:o.isElement(g))&&await(null==o.getScale?void 0:o.getScale(g))||{x:1,y:1},x=T(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:g,strategy:u}):b);return{top:(y.top-x.top+v.top)/w.y,bottom:(x.bottom-y.bottom+v.bottom)/w.y,left:(y.left-x.left+v.left)/w.x,right:(x.right-y.right+v.right)/w.x}}async function A(t,e){const{placement:n,platform:r,elements:i}=t,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),c=f(n),a=d(n),u="y"===v(n),s=["left","top"].includes(c)?-1:1,p=o&&u?-1:1,h=l(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:b}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&"number"==typeof b&&(y="end"===a?-1*b:b),u?{x:y*p,y:m*s}:{x:m*s,y:y*p}}function O(t){return I(t)?(t.nodeName||"").toLowerCase():"#document"}function L(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function _(t){var e;return null==(e=(I(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function I(t){return t instanceof Node||t instanceof L(t).Node}function D(t){return t instanceof Element||t instanceof L(t).Element}function M(t){return t instanceof HTMLElement||t instanceof L(t).HTMLElement}function N(t){return!(typeof ShadowRoot>"u")&&(t instanceof ShadowRoot||t instanceof L(t).ShadowRoot)}function $(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=V(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function j(t){return["table","td","th"].includes(O(t))}function W(t){return[":popover-open",":modal"].some((e=>{try{return t.matches(e)}catch{return!1}}))}function U(t){const e=z(),n=D(t)?V(t):t;return["transform","translate","scale","rotate","perspective"].some((t=>!!n[t]&&"none"!==n[t]))||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((t=>(n.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(n.contain||"").includes(t)))}function F(t){let e=Y(t);for(;M(e)&&!H(e);){if(U(e))return e;if(W(e))return null;e=Y(e)}return null}function z(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function H(t){return["html","body","#document"].includes(O(t))}function V(t){return L(t).getComputedStyle(t)}function B(t){return D(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Y(t){if("html"===O(t))return t;const e=t.assignedSlot||t.parentNode||N(t)&&t.host||_(t);return N(e)?e.host:e}function q(t){const e=Y(t);return H(e)?t.ownerDocument?t.ownerDocument.body:t.body:M(e)&&$(e)?e:q(e)}function J(t,e,n){var r;void 0===e&&(e=[]),void 0===n&&(n=!0);const i=q(t),o=i===(null==(r=t.ownerDocument)?void 0:r.body),c=L(i);if(o){const t=Q(c);return e.concat(c,c.visualViewport||[],$(i)?i:[],t&&n?J(t):[])}return e.concat(i,J(i,[],n))}function Q(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function G(t){const e=V(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=M(t),c=o?t.offsetWidth:n,a=o?t.offsetHeight:r,u=i(n)!==c||i(r)!==a;return u&&(n=c,r=a),{width:n,height:r,$:u}}function K(t){return D(t)?t:t.contextElement}function X(t){const e=K(t);if(!M(e))return c(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:a}=G(e);let u=(a?i(n.width):n.width)/r,s=(a?i(n.height):n.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!s||!Number.isFinite(s))&&(s=1),{x:u,y:s}}const Z=c(0);function tt(t){const e=L(t);return z()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:Z}function et(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==L(t))&&e}function nt(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=!1);const i=t.getBoundingClientRect(),o=K(t);let a=c(1);e&&(r?D(r)&&(a=X(r)):a=X(t));const u=et(o,n,r)?tt(o):c(0);let s=(i.left+u.x)/a.x,l=(i.top+u.y)/a.y,f=i.width/a.x,d=i.height/a.y;if(o){const t=L(o),e=r&&D(r)?L(r):r;let n=t,i=Q(n);for(;i&&r&&e!==n;){const t=X(i),e=i.getBoundingClientRect(),r=V(i),o=e.left+(i.clientLeft+parseFloat(r.paddingLeft))*t.x,c=e.top+(i.clientTop+parseFloat(r.paddingTop))*t.y;s*=t.x,l*=t.y,f*=t.x,d*=t.y,s+=o,l+=c,n=L(i),i=Q(n)}}return T({width:f,height:d,x:s,y:l})}function rt(t,e){const n=B(t).scrollLeft;return e?e.left+n:nt(_(t)).left+n}function it(t,e,n){void 0===n&&(n=!1);const r=t.getBoundingClientRect();return{x:r.left+e.scrollLeft-(n?0:rt(t,r)),y:r.top+e.scrollTop}}function ot(t){const e=_(t),n=B(t),i=t.ownerDocument.body,o=r(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),c=r(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+rt(t);const u=-n.scrollTop;return"rtl"===V(i).direction&&(a+=r(e.clientWidth,i.clientWidth)-o),{width:o,height:c,x:a,y:u}}function ct(t,e){const n=L(t),r=_(t),i=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,a=0,u=0;if(i){o=i.width,c=i.height;const t=z();(!t||t&&"fixed"===e)&&(a=i.offsetLeft,u=i.offsetTop)}return{width:o,height:c,x:a,y:u}}function at(t,e){const n=nt(t,!0,"fixed"===e),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=M(t)?X(t):c(1);return{width:t.clientWidth*o.x,height:t.clientHeight*o.y,x:i*o.x,y:r*o.y}}function ut(t,e,n){let r;if("viewport"===e)r=ct(t,n);else if("document"===e)r=ot(_(t));else if(D(e))r=at(e,n);else{const n=tt(t);r={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return T(r)}function st(t,e){const n=Y(t);return!(n===e||!D(n)||H(n))&&("fixed"===V(n).position||st(n,e))}function lt(t,e){const n=e.get(t);if(n)return n;let r=J(t,[],!1).filter((t=>D(t)&&"body"!==O(t))),i=null;const o="fixed"===V(t).position;let c=o?Y(t):t;for(;D(c)&&!H(c);){const e=V(c),n=U(c);!n&&"fixed"===e.position&&(i=null),(o?!n&&!i:!n&&"static"===e.position&&i&&["absolute","fixed"].includes(i.position)||$(c)&&!n&&st(t,c))?r=r.filter((t=>t!==c)):i=e,c=Y(c)}return e.set(t,r),r}function ft(t,e,n){const r=M(e),i=_(e),o="fixed"===n,a=nt(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const s=c(0);if(r||!r&&!o)if(("body"!==O(e)||$(i))&&(u=B(e)),r){const t=nt(e,!0,o,e);s.x=t.x+e.clientLeft,s.y=t.y+e.clientTop}else i&&(s.x=rt(i));const l=!i||r||o?c(0):it(i,u);return{x:a.left+u.scrollLeft-s.x-l.x,y:a.top+u.scrollTop-s.y-l.y,width:a.width,height:a.height}}function dt(t){return"static"===V(t).position}function pt(t,e){if(!M(t)||"fixed"===V(t).position)return null;if(e)return e(t);let n=t.offsetParent;return _(t)===n&&(n=n.ownerDocument.body),n}function ht(t,e){const n=L(t);if(W(t))return n;if(!M(t)){let e=Y(t);for(;e&&!H(e);){if(D(e)&&!dt(e))return e;e=Y(e)}return n}let r=pt(t,e);for(;r&&j(r)&&dt(r);)r=pt(r,e);return r&&H(r)&&dt(r)&&!U(r)?n:r||F(t)||n}const vt={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o="fixed"===i,a=_(r),u=!!e&&W(e.floating);if(r===a||u&&o)return n;let s={scrollLeft:0,scrollTop:0},l=c(1);const f=c(0),d=M(r);if((d||!d&&!o)&&(("body"!==O(r)||$(a))&&(s=B(r)),M(r))){const t=nt(r);l=X(r),f.x=t.x+r.clientLeft,f.y=t.y+r.clientTop}const p=!a||d||o?c(0):it(a,s,!0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-s.scrollLeft*l.x+f.x+p.x,y:n.y*l.y-s.scrollTop*l.y+f.y+p.y}},getDocumentElement:_,getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:o,strategy:c}=t;const a=[..."clippingAncestors"===i?W(e)?[]:lt(e,this._c):[].concat(i),o],u=a[0],s=a.reduce(((t,i)=>{const o=ut(e,i,c);return t.top=r(o.top,t.top),t.right=n(o.right,t.right),t.bottom=n(o.bottom,t.bottom),t.left=r(o.left,t.left),t}),ut(e,u,c));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:ht,getElementRects:async function(t){const e=this.getOffsetParent||ht,n=this.getDimensions,r=await n(t.floating);return{reference:ft(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=G(t);return{width:e,height:n}},getScale:X,isElement:D,isRTL:function(t){return"rtl"===V(t).direction}};function mt(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yt(t,e){let i,c=null;const a=_(t);function u(){var t;clearTimeout(i),null==(t=c)||t.disconnect(),c=null}return(function s(l,f){void 0===l&&(l=!1),void 0===f&&(f=1),u();const d=t.getBoundingClientRect(),{left:p,top:h,width:v,height:m}=d;if(l||e(),!v||!m)return;const y={rootMargin:-o(h)+"px "+-o(a.clientWidth-(p+v))+"px "+-o(a.clientHeight-(h+m))+"px "+-o(p)+"px",threshold:r(0,n(1,f))||1};let b=!0;function g(e){const n=e[0].intersectionRatio;if(n!==f){if(!b)return s();n?s(!1,n):i=setTimeout((()=>{s(!1,1e-7)}),1e3)}1===n&&!mt(d,t.getBoundingClientRect())&&s(),b=!1}try{c=new IntersectionObserver(g,{...y,root:a.ownerDocument})}catch{c=new IntersectionObserver(g,y)}c.observe(t)})(!0),u}function bt(t,e,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:u=!1}=r,s=K(t),l=i||o?[...s?J(s):[],...J(e)]:[];l.forEach((t=>{i&&t.addEventListener("scroll",n,{passive:!0}),o&&t.addEventListener("resize",n)}));const f=s&&a?yt(s,n):null;let d=-1,p=null;c&&(p=new ResizeObserver((t=>{let[r]=t;r&&r.target===s&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame((()=>{var t;null==(t=p)||t.observe(e)}))),n()})),s&&!u&&p.observe(s),p.observe(e));let h,v=u?nt(t):null;return u&&(function e(){const r=nt(t);v&&!mt(v,r)&&n(),v=r,h=requestAnimationFrame(e)})(),n(),()=>{var t;l.forEach((t=>{i&&t.removeEventListener("scroll",n),o&&t.removeEventListener("resize",n)})),null==f||f(),null==(t=p)||t.disconnect(),p=null,u&&cancelAnimationFrame(h)}}const gt=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:c,middlewareData:a}=e,u=await A(e,t);return c===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:c}}}}},wt=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:a={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...u}=l(t,e),d={x:n,y:r},h=await R(e,u),m=v(f(i)),y=p(m);let b=d[y],g=d[m];if(o){const t="y"===y?"bottom":"right";b=s(b+h["y"===y?"top":"left"],b,b-h[t])}if(c){const t="y"===m?"bottom":"right";g=s(g+h["y"===m?"top":"left"],g,g-h[t])}const w=a.fn({...e,[y]:b,[m]:g});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[y]:o,[m]:c}}}}}},xt=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:c,initialPlacement:a,platform:u,elements:s}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:w=!0,...S}=l(t,e);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const k=f(i),T=v(a),P=f(a)===a,C=await(null==u.isRTL?void 0:u.isRTL(s.floating)),A=h||(P||!w?[E(a)]:b(a)),O="none"!==g;!h&&O&&A.push(...x(a,w,g,C));const L=[a,...A],_=await R(e,S),I=[];let D=(null==(r=o.flip)?void 0:r.overflows)||[];if(d&&I.push(_[k]),p){const t=y(i,c,C);I.push(_[t[0]],_[t[1]])}if(D=[...D,{placement:i,overflows:I}],!I.every((t=>t<=0))){var M,N;const t=((null==(M=o.flip)?void 0:M.index)||0)+1,e=L[t];if(e)return{data:{index:t,overflows:D},reset:{placement:e}};let n=null==(N=D.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:N.placement;if(!n)switch(m){case"bestFit":{var $;const t=null==($=D.filter((t=>{if(O){const e=v(t.placement);return e===T||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:$[0];t&&(n=t);break}case"initialPlacement":n=a}if(i!==n)return{reset:{placement:n}}}return{}}}},Et=(t,e,n)=>{const r=new Map,i={platform:vt,...n},o={...i.platform,_c:r};return C(t,e,{...i,platform:o})};_e2.ae=typeof globalThis<"u"?globalThis:window;function St(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kt,Tt={exports:{}};var Pt,Ct,Rt,At=(kt||(kt=1,Ct=Tt.exports,Rt=function(){var t=function(){},e="undefined",n=typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],i={},o=null;function c(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch{return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(r){return"debug"===r&&(r="log"),typeof console!==e&&("trace"===r&&n?a:void 0!==console[r]?c(console,r):void 0!==console.log?c(console,"log"):t)}function s(){for(var n=this.getLevel(),i=0;i<r.length;i++){var o=r[i];this[o]=i<n?t:this.methodFactory(o,n,this.name)}if(this.log=this.debug,typeof console===e&&n<this.levels.SILENT)return"No console available for logging"}function l(t){return function(){typeof console!==e&&(s.call(this),this[t].apply(this,arguments))}}function f(t,e,n){return u(t)||l.apply(this,arguments)}function d(t,n){var c,a,u,l=this,d="loglevel";function p(t){var e=(r[t]||"silent").toUpperCase();if(d){try{return void(window.localStorage[d]=e)}catch{}try{window.document.cookie=encodeURIComponent(d)+"="+e+";"}catch{}}}function h(){var t;if(d){try{t=window.localStorage[d]}catch{}if(typeof t===e)try{var n=window.document.cookie,r=encodeURIComponent(d),i=n.indexOf(r+"=");-1!==i&&(t=/^([^;]+)/.exec(n.slice(i+r.length+1))[1])}catch{}return void 0===l.levels[t]&&(t=void 0),t}}function v(){if(d){try{window.localStorage.removeItem(d)}catch{}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function m(t){var e=t;if("string"==typeof e&&void 0!==l.levels[e.toUpperCase()]&&(e=l.levels[e.toUpperCase()]),"number"==typeof e&&e>=0&&e<=l.levels.SILENT)return e;throw new TypeError("log.setLevel() called with invalid level: "+t)}"string"==typeof t?d+=":"+t:"symbol"==typeof t&&(d=void 0),l.name=t,l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=n||f,l.getLevel=function(){return u??a??c},l.setLevel=function(t,e){return u=m(t),!1!==e&&p(u),s.call(l)},l.setDefaultLevel=function(t){a=m(t),h()||l.setLevel(t,!1)},l.resetLevel=function(){u=null,v(),s.call(l)},l.enableAll=function(t){l.setLevel(l.levels.TRACE,t)},l.disableAll=function(t){l.setLevel(l.levels.SILENT,t)},l.rebuild=function(){if(o!==l&&(c=m(o.getLevel())),s.call(l),o===l)for(var t in i)i[t].rebuild()},c=m(o?o.getLevel():"WARN");var y=h();null!=y&&(u=m(y)),s.call(l)}(o=new d).getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=i[t];return e||(e=i[t]=new d(t,o.methodFactory)),e};var p=window.log;return o.noConflict=function(){return window.log===o&&(window.log=p),o},o.getLoggers=function(){return i},o.default=o,o},(Pt=Tt).exports?Pt.exports=Rt():Ct.log=Rt()),Tt.exports);const Ot=St(At);var Lt=function(t,e){return Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Lt(t,e)};function _t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Lt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function It(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function c(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?n(t.value):i(t.value).then(c,a)}u((r=r.apply(t,e||[])).next())}))}function Dt(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=a(0),c.throw=a(1),c.return=a(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return u([t,e])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Mt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)c.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return c}function $t(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function jt(t){return this instanceof jt?(this.v=t,this):new jt(t)}function Wt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",(function(t){return function(e){return Promise.resolve(e).then(t,l)}})),r[Symbol.asyncIterator]=function(){return this},r;function c(t,e){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))},e&&(r[t]=e(r[t])))}function a(t,e){try{u(i[t](e))}catch(t){f(o[0][3],t)}}function u(t){t.value instanceof jt?Promise.resolve(t.value.v).then(s,l):f(o[0][2],t)}function s(t){a("next",t)}function l(t){a("throw",t)}function f(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Ut(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=Mt(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){i(r,o,(e=t[n](e)).done,e.value)}))}}function i(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function Ft(t){return"function"==typeof t}function zt(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ht=zt((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function Vt(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Bt=(function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var t,e,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var c=Mt(o),a=c.next();!a.done;a=c.next()){a.value.remove(this)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}else o.remove(this);var u=this.initialTeardown;if(Ft(u))try{u()}catch(t){i=t instanceof Ht?t.errors:[t]}var s=this._finalizers;if(s){this._finalizers=null;try{for(var l=Mt(s),f=l.next();!f.done;f=l.next()){var d=f.value;try{Jt(d)}catch(t){i=i??[],t instanceof Ht?i=$t($t([],Nt(i)),Nt(t.errors)):i.push(t)}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new Ht(i)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Jt(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&Vt(e,t)},t.prototype.remove=function(e){var n=this._finalizers;n&&Vt(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=(function(){var e=new t;return e.closed=!0,e})(),t})(),Yt=Bt.EMPTY;function qt(t){return t instanceof Bt||t&&"closed"in t&&Ft(t.remove)&&Ft(t.add)&&Ft(t.unsubscribe)}function Jt(t){Ft(t)?t():t.unsubscribe()}var Qt={Promise:void 0},Gt={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,$t([t,e],Nt(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function Kt(t){Gt.setTimeout((function(){throw t}))}function Xt(){}function Zt(t){t()}var te=(function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,qt(e)&&e.add(n)):n.destination=ie,n}return _t(e,t),e.create=function(t,e,n){return new ne(t,e,n)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e})(Bt),ee=(function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){re(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){re(t)}else re(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){re(t)}},t})(),ne=(function(t){function e(e,n,r){var i,o=t.call(this)||this;return i=Ft(e)||!e?{next:e??void 0,error:n??void 0,complete:r??void 0}:e,o.destination=new ee(i),o}return _t(e,t),e})(te);function re(t){Kt(t)}var ie={closed:!0,next:Xt,error:function(t){throw t},complete:Xt},oe="function"==typeof Symbol&&Symbol.observable||"@@observable";function ce(t){return t}function ae(t){return 0===t.length?ce:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var ue=(function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this,i=fe(t)?t:new ne(t,e,n);return Zt((function(){var t=r,e=t.operator,n=t.source;i.add(e?e.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=se(e))((function(e,r){var i=new ne({next:function(e){try{t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:e});n.subscribe(i)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[oe]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ae(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=se(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t})();function se(t){var e;return null!==(e=t??Qt.Promise)&&void 0!==e?e:Promise}function le(t){return t&&Ft(t.next)&&Ft(t.error)&&Ft(t.complete)}function fe(t){return t&&t instanceof te||le(t)&&qt(t)}function de(t){return Ft(null==t?void 0:t.lift)}function pe(t){return function(e){if(de(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new ve(t,e,n,r,i)}var ve=(function(t){function e(e,n,r,i,o,c){var a=t.call(this,e)||this;return a.onFinalize=o,a.shouldUnsubscribe=c,a._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,a._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,a}return _t(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e})(te),me=zt((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),ye=(function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _t(e,t),e.prototype.lift=function(t){var e=new be(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new me},e.prototype.next=function(t){var e=this;Zt((function(){var n,r;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var i=Mt(e.currentObservers),o=i.next();!o.done;o=i.next()){o.value.next(t)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},e.prototype.error=function(t){var e=this;Zt((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}}))},e.prototype.complete=function(){var t=this;Zt((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=this,r=n.hasError,i=n.isStopped,o=n.observers;return r||i?Yt:(this.currentObservers=null,o.push(t),new Bt((function(){e.currentObservers=null,Vt(o,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,r=e.thrownError,i=e.isStopped;n?t.error(r):i&&t.complete()},e.prototype.asObservable=function(){var t=new ue;return t.source=this,t},e.create=function(t,e){return new be(t,e)},e})(ue),be=(function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return _t(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:Yt},e})(ye),ge=(function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return _t(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){var t=this,e=t.hasError,n=t.thrownError,r=t._value;if(e)throw n;return this._throwIfClosed(),r},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e})(ye),we=function(){return Date.now()},xe=(function(t){function e(e,n){return t.call(this)||this}return _t(e,t),e.prototype.schedule=function(t,e){return this},e})(Bt),Ee=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,$t([t,e],Nt(n)))},Se=function(t){return clearInterval(t)},ke=(function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return _t(e,t),e.prototype.schedule=function(t,e){var n;if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),Ee(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&Se(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Vt(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e})(xe),Te=(function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=we,t})(),Pe=(function(t){function e(e,n){void 0===n&&(n=Te.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r}return _t(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e})(Te),Ce=new Pe(ke);function Re(t){return t&&Ft(t.schedule)}function Ae(t){return t[t.length-1]}function Oe(t){return Re(Ae(t))?t.pop():void 0}var Le=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function _e(t){return Ft(null==t?void 0:t.then)}function Ie(t){return Ft(t[oe])}function De(t){return Symbol.asyncIterator&&Ft(null==t?void 0:t[Symbol.asyncIterator])}function Me(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Ne="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function $e(t){return Ft(null==t?void 0:t[Ne])}function je(t){return Wt(this,arguments,(function(){var e,n,r;return Dt(this,(function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,jt(e.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,jt(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,jt(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function We(t){return Ft(null==t?void 0:t.getReader)}function Ue(t){if(t instanceof ue)return t;if(null!=t){if(Ie(t))return Fe(t);if(Le(t))return ze(t);if(_e(t))return He(t);if(De(t))return Be(t);if($e(t))return Ve(t);if(We(t))return Ye(t)}throw Me(t)}function Fe(t){return new ue((function(e){var n=t[oe]();if(Ft(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function ze(t){return new ue((function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()}))}function He(t){return new ue((function(e){t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Kt)}))}function Ve(t){return new ue((function(e){var n,r;try{for(var i=Mt(t),o=i.next();!o.done;o=i.next()){var c=o.value;if(e.next(c),e.closed)return}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()}))}function Be(t){return new ue((function(e){qe(t,e).catch((function(t){return e.error(t)}))}))}function Ye(t){return Be(je(t))}function qe(t,e){var n,r,i,o;return It(this,void 0,void 0,(function(){var c,a;return Dt(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=Ut(t),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(c=r.value,e.next(c),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))}function Je(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=e.schedule((function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(o),!i)return o}function Qe(t,e){return void 0===e&&(e=0),pe((function(n,r){n.subscribe(he(r,(function(n){return Je(r,t,(function(){return r.next(n)}),e)}),(function(){return Je(r,t,(function(){return r.complete()}),e)}),(function(n){return Je(r,t,(function(){return r.error(n)}),e)})))}))}function Ge(t,e){return void 0===e&&(e=0),pe((function(n,r){r.add(t.schedule((function(){return n.subscribe(r)}),e))}))}function Ke(t,e){return Ue(t).pipe(Ge(e),Qe(e))}function Xe(t,e){return Ue(t).pipe(Ge(e),Qe(e))}function Ze(t,e){return new ue((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}function tn(t,e){return new ue((function(n){var r;return Je(n,e,(function(){r=t[Ne](),Je(n,e,(function(){var t,e,i;try{e=(t=r.next()).value,i=t.done}catch(t){return void n.error(t)}i?n.complete():n.next(e)}),0,!0)})),function(){return Ft(null==r?void 0:r.return)&&r.return()}}))}function en(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue((function(n){Je(n,e,(function(){var r=t[Symbol.asyncIterator]();Je(n,e,(function(){r.next().then((function(t){t.done?n.complete():n.next(t.value)}))}),0,!0)}))}))}function nn(t,e){return en(je(t),e)}function rn(t,e){if(null!=t){if(Ie(t))return Ke(t,e);if(Le(t))return Ze(t,e);if(_e(t))return Xe(t,e);if(De(t))return en(t,e);if($e(t))return tn(t,e);if(We(t))return nn(t,e)}throw Me(t)}function on(t,e){return e?rn(t,e):Ue(t)}function cn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return on(t,Oe(t))}function an(t){return t instanceof Date&&!isNaN(t)}var un=zt((function(t){return function(e){void 0===e&&(e=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}}));function sn(t,e){var n=an(t)?{first:t}:"number"==typeof t?{each:t}:t,r=n.first,i=n.each,o=n.with,c=void 0===o?ln:o,a=n.scheduler,u=void 0===a?Ce:a,s=n.meta,l=void 0===s?null:s;if(null==r&&null==i)throw new TypeError("No timeout provided.");return pe((function(t,e){var n,o,a=null,s=0,f=function(t){o=Je(e,u,(function(){try{n.unsubscribe(),Ue(c({meta:l,lastValue:a,seen:s})).subscribe(e)}catch(t){e.error(t)}}),t)};n=t.subscribe(he(e,(function(t){null==o||o.unsubscribe(),s++,e.next(a=t),i>0&&f(i)}),void 0,void 0,(function(){null!=o&&o.closed||null==o||o.unsubscribe(),a=null}))),!s&&f(null!=r?"number"==typeof r?r:+r-u.now():i)}))}function ln(t){throw new un(t)}function fn(t,e){return pe((function(n,r){var i=0;n.subscribe(he(r,(function(n){r.next(t.call(e,n,i++))})))}))}var dn=Array.isArray;function pn(t,e){return dn(e)?t.apply(void 0,$t([],Nt(e))):t(e)}function hn(t){return fn((function(e){return pn(t,e)}))}function vn(t,e,n,r,i,o,c,a){var u=[],s=0,l=0,f=!1,d=function(){f&&!u.length&&!s&&e.complete()},p=function(t){s++;var i=!1;Ue(n(t,l++)).subscribe(he(e,(function(t){e.next(t)}),(function(){i=!0}),void 0,(function(){if(i)try{s--;for(;u.length&&s<r;)t=void 0,t=u.shift(),c||p(t);d()}catch(t){e.error(t)}var t})))};return t.subscribe(he(e,(function(t){return s<r?p(t):u.push(t)}),(function(){f=!0,d()}))),function(){}}function mn(t,e,n){return void 0===n&&(n=1/0),Ft(e)?mn((function(n,r){return fn((function(t,i){return e(n,t,r,i)}))(Ue(t(n,r)))}),n):("number"==typeof e&&(n=e),pe((function(e,r){return vn(e,r,t,n)})))}function yn(t){return mn(ce,t)}function bn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return yn(1)(on(t,Oe(t)))}var gn=["addListener","removeListener"],wn=["addEventListener","removeEventListener"],xn=["on","off"];function En(t,e,n,r){if(Ft(n)&&(r=n,n=void 0),r)return En(t,e,n).pipe(hn(r));var i=Nt(Pn(t)?wn.map((function(r){return function(i){return t[r](e,i,n)}})):kn(t)?gn.map(Sn(t,e)):Tn(t)?xn.map(Sn(t,e)):[],2),o=i[0],c=i[1];if(!o&&Le(t))return mn((function(t){return En(t,e,n)}))(Ue(t));if(!o)throw new TypeError("Invalid event target");return new ue((function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return o(e),function(){return c(e)}}))}function Sn(t,e){return function(n){return function(r){return t[n](e,r)}}}function kn(t){return Ft(t.addListener)&&Ft(t.removeListener)}function Tn(t){return Ft(t.on)&&Ft(t.off)}function Pn(t){return Ft(t.addEventListener)&&Ft(t.removeEventListener)}function Cn(t,e){return pe((function(n,r){var i=0;n.subscribe(he(r,(function(n){return t.call(e,n,i++)&&r.next(n)})))}))}function Rn(t,e,n,r,i){return function(r,o){var c=n,a=e,u=0;r.subscribe(he(o,(function(e){var n=u++;a=c?t(a,e,n):(c=!0,e),o.next(a)}),i))}}function An(t,e){return void 0===e&&(e=ce),t=t??On,pe((function(n,r){var i,o=!0;n.subscribe(he(r,(function(n){var c=e(n);(o||!t(i,c))&&(o=!1,i=c,r.next(n))})))}))}function On(t,e){return t===e}function Ln(t,e){return pe(Rn(t,e,arguments.length>=2))}function _n(t){void 0===t&&(t={});var e=t.connector,n=void 0===e?function(){return new ye}:e,r=t.resetOnError,i=void 0===r||r,o=t.resetOnComplete,c=void 0===o||o,a=t.resetOnRefCountZero,u=void 0===a||a;return function(t){var e,r,o,a=0,s=!1,l=!1,f=function(){null==r||r.unsubscribe(),r=void 0},d=function(){f(),e=o=void 0,s=l=!1},p=function(){var t=e;d(),null==t||t.unsubscribe()};return pe((function(t,h){a++,!l&&!s&&f();var v=o=o??n();h.add((function(){0===--a&&!l&&!s&&(r=In(p,u))})),v.subscribe(h),!e&&a>0&&(e=new ne({next:function(t){return v.next(t)},error:function(t){l=!0,f(),r=In(d,i,t),v.error(t)},complete:function(){s=!0,f(),r=In(d,c),v.complete()}}),Ue(t).subscribe(e))}))(t)}}function In(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==e){if(!1!==e){var i=new ne({next:function(){i.unsubscribe(),t()}});return Ue(e.apply(void 0,$t([],Nt(n)))).subscribe(i)}}else t()}function Dn(t){return pe((function(e,n){var r=!1,i=he(n,(function(){null==i||i.unsubscribe(),r=!0}),Xt);Ue(t).subscribe(i),e.subscribe(he(n,(function(t){return r&&n.next(t)})))}))}function Mn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Oe(t);return pe((function(e,r){(n?bn(t,e,n):bn(t,e)).subscribe(r)}))}function Nn(t,e){return pe((function(n,r){var i=null,o=0,c=!1,a=function(){return c&&!i&&r.complete()};n.subscribe(he(r,(function(n){null==i||i.unsubscribe();var c=0,u=o++;Ue(t(n,u)).subscribe(i=he(r,(function(t){return r.next(e?e(n,t,u,c++):t)}),(function(){i=null,a()})))}),(function(){c=!0,a()})))}))}function $n(t){return pe((function(e,n){Ue(t).subscribe(he(n,(function(){return n.complete()}),Xt)),!n.closed&&e.subscribe(n)}))}var jn=Object.defineProperty,Wn=Object.defineProperties,Un=Object.getOwnPropertyDescriptors,Fn=Object.getOwnPropertySymbols,zn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,Vn=(t,e,n)=>e in t?jn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bn=(t,e)=>{for(var n in e||(e={}))zn.call(e,n)&&Vn(t,n,e[n]);if(Fn)for(var n of Fn(e))Hn.call(e,n)&&Vn(t,n,e[n]);return t},Yn=(t,e)=>Wn(t,Un(e)),qn=(t,e,n)=>new Promise(((r,i)=>{var o=t=>{try{a(n.next(t))}catch(t){i(t)}},c=t=>{try{a(n.throw(t))}catch(t){i(t)}},a=t=>t.done?r(t.value):Promise.resolve(t.value).then(o,c);a((n=n.apply(t,e)).next())})),Jn="lk";function Qn(t){return!(typeof t>"u")&&(Gn(t)||Kn(t))}function Gn(t){var e;return!!t&&(t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("track")&&typeof(null==(e=t.publication)?void 0:e.track)<"u")}function Kn(t){return!!t&&(t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("publication")&&typeof t.publication<"u")}function Xn(t){return!!t&&(t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&typeof t.publication>"u")}function Zn(t){if("string"==typeof t||"number"==typeof t)return`${t}`;if(Xn(t))return`${t.participant.identity}_${t.source}_placeholder`;if(Qn(t))return`${t.participant.identity}_${t.publication.source}_${t.publication.trackSid}`;throw new Error(`Can't generate a id for the given track reference: ${t}`)}function tr(t,e){return Xn(t)&&Qn(e)&&e.participant.identity===t.participant.identity&&e.source===t.source}function er(t){t=Bn({},t);const e=`(?:(?:(?:[a-z]+:)?//)?|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|${new RegExp("(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}","g").source}|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#][^\\s"]*)?`;return t.exact?new RegExp(`(?:^${e}$)`,"i"):new RegExp(e,"ig")}var nr="[^\\.\\s@:](?:[^\\s@:]*[^\\s@:\\.])?@[^\\.\\s@]+(?:\\.[^\\.\\s@]+)*";function rr({exact:t}={}){return t?new RegExp(`^${nr}$`):new RegExp(nr,"g")}_e2.an=()=>({email:rr(),url:er({})});var ir=[...[t.RoomEvent.ConnectionStateChanged,t.RoomEvent.RoomMetadataChanged,t.RoomEvent.ActiveSpeakersChanged,t.RoomEvent.ConnectionQualityChanged,t.RoomEvent.ParticipantConnected,t.RoomEvent.ParticipantDisconnected,t.RoomEvent.ParticipantPermissionsChanged,t.RoomEvent.ParticipantMetadataChanged,t.RoomEvent.ParticipantNameChanged,t.RoomEvent.ParticipantAttributesChanged,t.RoomEvent.TrackMuted,t.RoomEvent.TrackUnmuted,t.RoomEvent.TrackPublished,t.RoomEvent.TrackUnpublished,t.RoomEvent.TrackStreamStateChanged,t.RoomEvent.TrackSubscriptionFailed,t.RoomEvent.TrackSubscriptionPermissionChanged,t.RoomEvent.TrackSubscriptionStatusChanged],t.RoomEvent.LocalTrackPublished,t.RoomEvent.LocalTrackUnpublished],or=[t.ParticipantEvent.TrackPublished,t.ParticipantEvent.TrackUnpublished,t.ParticipantEvent.TrackMuted,t.ParticipantEvent.TrackUnmuted,t.ParticipantEvent.TrackStreamStateChanged,t.ParticipantEvent.TrackSubscribed,t.ParticipantEvent.TrackUnsubscribed,t.ParticipantEvent.TrackSubscriptionPermissionChanged,t.ParticipantEvent.TrackSubscriptionFailed,t.ParticipantEvent.LocalTrackPublished,t.ParticipantEvent.LocalTrackUnpublished],cr=[...[t.ParticipantEvent.ConnectionQualityChanged,t.ParticipantEvent.IsSpeakingChanged,t.ParticipantEvent.ParticipantMetadataChanged,t.ParticipantEvent.ParticipantPermissionsChanged,t.ParticipantEvent.TrackMuted,t.ParticipantEvent.TrackUnmuted,t.ParticipantEvent.TrackPublished,t.ParticipantEvent.TrackUnpublished,t.ParticipantEvent.TrackStreamStateChanged,t.ParticipantEvent.TrackSubscriptionFailed,t.ParticipantEvent.TrackSubscriptionPermissionChanged,t.ParticipantEvent.TrackSubscriptionStatusChanged],t.ParticipantEvent.LocalTrackPublished,t.ParticipantEvent.LocalTrackUnpublished],ar=_e2.l=Ot.getLogger("lk-components-js");ar.setDefaultLevel("WARN");_e2.G=[{columns:1,rows:1},{columns:1,rows:2,orientation:"portrait"},{columns:2,rows:1,orientation:"landscape"},{columns:2,rows:2,minWidth:560},{columns:3,rows:3,minWidth:700},{columns:4,rows:4,minWidth:960},{columns:5,rows:5,minWidth:1100}];function ur(t){return[...t].map((t=>{var e,n;return{name:`${t.columns}x${t.rows}`,columns:t.columns,rows:t.rows,maxTiles:t.columns*t.rows,minWidth:null!=(e=t.minWidth)?e:0,minHeight:null!=(n=t.minHeight)?n:0,orientation:t.orientation}})).sort(((t,e)=>t.maxTiles!==e.maxTiles?t.maxTiles-e.maxTiles:0!==t.minWidth||0!==e.minWidth?t.minWidth-e.minWidth:0!==t.minHeight||0!==e.minHeight?t.minHeight-e.minHeight:0))}var sr=[],lr={showChat:!1,unreadMessages:0,showSettings:!1};function fr(t){return"object"==typeof t}function dr(t,e){return e.audioLevel-t.audioLevel}function pr(t,e){return t.isSpeaking===e.isSpeaking?0:t.isSpeaking?-1:1}function hr(t,e){var n,r,i,o;return void 0!==t.lastSpokeAt||void 0!==e.lastSpokeAt?(null!=(r=null==(n=e.lastSpokeAt)?void 0:n.getTime())?r:0)-(null!=(o=null==(i=t.lastSpokeAt)?void 0:i.getTime())?o:0):0}function vr(t,e){var n,r,i,o;return(null!=(r=null==(n=t.joinedAt)?void 0:n.getTime())?r:0)-(null!=(o=null==(i=e.joinedAt)?void 0:i.getTime())?o:0)}function mr(t,e){return Qn(t)?Qn(e)?0:-1:Qn(e)?1:0}function yr(t,e){const n=t.participant.isCameraEnabled;return n!==e.participant.isCameraEnabled?n?-1:1:0}function br(t){const e=[],n=[];return t.forEach((t=>{t.participant.isLocal?e.push(t):n.push(t)})),e.sort(((t,e)=>vr(t.participant,e.participant))),n.sort(((t,e)=>vr(t.participant,e.participant))),[...n,...e]}function gr(t){const e=[],n=[];return t.forEach((t=>{t.participant.isLocal?e.push(t):n.push(t)})),n.sort(((t,e)=>t.participant.isSpeaking&&e.participant.isSpeaking?dr(t.participant,e.participant):t.participant.isSpeaking!==e.participant.isSpeaking?pr(t.participant,e.participant):t.participant.lastSpokeAt!==e.participant.lastSpokeAt?hr(t.participant,e.participant):Qn(t)!==Qn(e)?mr(t,e):t.participant.isCameraEnabled!==e.participant.isCameraEnabled?yr(t,e):vr(t.participant,e.participant))),[...e,...n]}function wr(t,e){return t.reduce(((t,n,r)=>r%e===0?[...t,[n]]:[...t.slice(0,-1),[...t.slice(-1)[0],n]]),[])}function xr(t,e){const n=Math.max(t.length,e.length);return new Array(n).fill([]).map(((n,r)=>[t[r],e[r]]))}function Er(t,e,n){return t.filter((t=>!e.map((t=>n(t))).includes(n(t))))}function Sr(t){return t.map((t=>"string"==typeof t||"number"==typeof t?`${t}`:Zn(t)))}function kr(t,e){return{dropped:Er(t,e,Zn),added:Er(e,t,Zn)}}function Tr(t){return 0!==t.added.length||0!==t.dropped.length}function Pr(t,e){const n=e.findIndex((e=>Zn(e)===Zn(t)));if(-1===n)throw new Error(`Element not part of the array: ${Zn(t)} not in ${Sr(e)}`);return n}function Cr(t,e,n){const r=Pr(t,n),i=Pr(e,n);return n.splice(r,1,e),n.splice(i,1,t),n}function Rr(t,e){const n=Pr(t,e);return e.splice(n,1),e}function Ar(t,e){return[...e,t]}function Or(t,e){return wr(t,e)}function Lr(t,e){return t.map((t=>e.find((e=>Zn(t)===Zn(e)||"number"!=typeof t&&Xn(t)&&Qn(e)&&tr(t,e)))??t))}function _r(t){return`${Jn}-${t}`}function Ir(t){if(Qn(t))return t.publication;{const{source:e,name:n,participant:r}=t;if(e&&n)return r.getTrackPublications().find((t=>t.source===e&&t.trackName===n));if(n)return r.getTrackPublicationByName(n);if(e)return r.getTrackPublication(e);throw new Error("At least one of source and name needs to be defined")}}function Dr(t,...e){return new ue((n=>{const r=()=>{n.next(t)};return e.forEach((e=>{t.on(e,r)})),()=>{e.forEach((e=>{t.off(e,r)}))}})).pipe(Mn(t))}function Mr(t,e){return new ue((n=>{const r=(...t)=>{n.next(t)};return t.on(e,r),()=>{t.off(e,r)}}))}function Nr(e){return Mr(e,t.RoomEvent.DataReceived)}function $r(e){return Dr(e,t.RoomEvent.AudioPlaybackStatusChanged).pipe(fn((t=>({canPlayAudio:t.canPlaybackAudio}))))}function jr(e){return Dr(e,t.RoomEvent.VideoPlaybackStatusChanged).pipe(fn((t=>({canPlayVideo:t.canPlaybackVideo}))))}function Wr(e,n){return Mr(e,t.RoomEvent.ActiveDeviceChanged).pipe(Cn((([t])=>t===n)),fn((([t,e])=>(ar.debug("activeDeviceObservable | RoomEvent.ActiveDeviceChanged",{kind:t,deviceId:e}),e))))}function Ur(t,...e){return new ue((n=>{const r=()=>{n.next(t)};return e.forEach((e=>{t.on(e,r)})),()=>{e.forEach((e=>{t.off(e,r)}))}})).pipe(Mn(t))}function Fr(e){return Ur(e,t.ParticipantEvent.TrackMuted,t.ParticipantEvent.TrackUnmuted,t.ParticipantEvent.ParticipantPermissionsChanged,t.ParticipantEvent.TrackPublished,t.ParticipantEvent.TrackUnpublished,t.ParticipantEvent.LocalTrackPublished,t.ParticipantEvent.LocalTrackUnpublished,t.ParticipantEvent.MediaDevicesError,t.ParticipantEvent.TrackSubscriptionStatusChanged).pipe(fn((e=>{const{isMicrophoneEnabled:n,isCameraEnabled:r,isScreenShareEnabled:i}=e,o=e.getTrackPublication(t.Track.Source.Microphone);return{isCameraEnabled:r,isMicrophoneEnabled:n,isScreenShareEnabled:i,cameraTrack:e.getTrackPublication(t.Track.Source.Camera),microphoneTrack:o,participant:e}})))}function zr(e){return e?Ur(e,t.ParticipantEvent.ParticipantMetadataChanged,t.ParticipantEvent.ParticipantNameChanged).pipe(fn((({name:t,identity:e,metadata:n})=>({name:t,identity:e,metadata:n}))),Mn({name:e.name,identity:e.identity,metadata:e.metadata})):void 0}function Hr(e){return Vr(e,t.ParticipantEvent.ConnectionQualityChanged).pipe(fn((([t])=>t)),Mn(e.connectionQuality))}function Vr(t,e){return new ue((n=>{const r=(...t)=>{n.next(t)};return t.on(e,r),()=>{t.off(e,r)}}))}function Br(e){var n,r,i,o;return Ur(e.participant,t.ParticipantEvent.TrackMuted,t.ParticipantEvent.TrackUnmuted,t.ParticipantEvent.TrackSubscribed,t.ParticipantEvent.TrackUnsubscribed,t.ParticipantEvent.LocalTrackPublished,t.ParticipantEvent.LocalTrackUnpublished).pipe(fn((t=>{var n,r;const i=null!=(n=e.publication)?n:t.getTrackPublication(e.source);return null==(r=null==i?void 0:i.isMuted)||r})),Mn(null==(o=null!=(i=null==(n=e.publication)?void 0:n.isMuted)?i:null==(r=e.participant.getTrackPublication(e.source))?void 0:r.isMuted)||o))}var Yr=_e2.aa={CHAT:"lk.chat",TRANSCRIPTION:"lk.transcription"},qr={CHAT:"lk-chat-topic"};function Jr(t,e){return qn(this,arguments,(function*(t,e,n={}){const{reliable:r,destinationIdentities:i,topic:o}=n;yield t.publishData(e,{destinationIdentities:i,topic:o,reliable:r})}))}function Qr(t,e,n){const r=Array.isArray(e)?e:[e];let i;return{messageObservable:Nr(t).pipe(Cn((([,,,t])=>void 0===e||void 0!==t&&r.includes(t))),fn((([t,e,,r])=>{const i={payload:t,topic:r,from:e};return null==n||n(i),i}))),isSendingObservable:new ue((t=>{i=t})),send:(e,...n)=>qn(this,[e,...n],(function*(e,n={}){i.next(!0);try{yield Jr(t.localParticipant,e,Bn({topic:r[0]},n))}finally{i.next(!1)}}))}}var Gr=new WeakMap;function Kr(t){return 1==t.ignoreLegacy}var Xr=t=>JSON.parse((new TextDecoder).decode(t)),Zr=t=>(new TextEncoder).encode(JSON.stringify(t));function ti(t,e,n=!0){const r=[t.localParticipant,...Array.from(t.remoteParticipants.values())],i=[];return r.forEach((t=>{e.forEach((e=>{const r=Array.from(t.trackPublications.values()).filter((t=>t.source===e&&(!n||t.track))).map((e=>({participant:t,publication:e,source:e.source})));i.push(...r)}))})),{trackReferences:i,participants:r}}function ei(t,e,n=!1){const{sources:r,kind:i,name:o}=e;return Array.from(t.trackPublications.values()).filter((t=>(!r||r.includes(t.source))&&(!i||t.kind===i)&&(!o||t.trackName===o)&&(!n||t.track))).map((e=>({participant:t,publication:e,source:e.source})))}function ni(t,e){return new ue((n=>{const r=(...t)=>{n.next(t)};return t.on(e,r),()=>{t.off(e,r)}}))}function ri(t,e){if(typeof localStorage>"u")ar.error("Local storage is not available.");else try{if(e){const n=Object.fromEntries(Object.entries(e).filter((([,t])=>""!==t)));localStorage.setItem(t,JSON.stringify(n))}}catch(t){ar.error(`Error setting item to local storage: ${t}`)}}function ii(t){if(typeof localStorage>"u")ar.error("Local storage is not available.");else try{const e=localStorage.getItem(t);return e?JSON.parse(e):void ar.warn(`Item with key ${t} does not exist in local storage.`)}catch(t){return void ar.error(`Error getting item from local storage: ${t}`)}}var oi=`${Jn}-user-choices`,ci={videoEnabled:!0,audioEnabled:!0,videoDeviceId:"default",audioDeviceId:"default",username:""},{load:ai,save:ui}=(function(t){return{load:()=>ii(t),save:e=>ri(t,e)}})(oi);var si=null,li=null,fi=0;function di(){return si||(si=new Map),si}function pi(t,e){const n=(li||(li=new WeakMap),li);let r=n.get(t);return r||(r="room_"+fi++,n.set(t,r)),`${r}:${e}`}function hi(t,e){if("show_chat"===e.msg)return{...t,showChat:!0,unreadMessages:0};if("hide_chat"===e.msg)return{...t,showChat:!1};if("toggle_chat"===e.msg){const e={...t,showChat:!t.showChat};return!0===e.showChat&&(e.unreadMessages=0),e}return"unread_msg"===e.msg?{...t,unreadMessages:e.count}:"toggle_settings"===e.msg?{...t,showSettings:!t.showSettings}:{...t}}function vi(t,e){return"set_pin"===e.msg?[e.trackReference]:"clear_pin"===e.msg?[]:{...t}}const mi=_e2.ac=e.createContext(void 0);function yi(){return e.useContext(mi)}const bi=_e2.ah=e.createContext(void 0);function gi(){return e.useContext(bi)}const wi=_e2.ag=e.createContext(void 0);function xi(){return e.useContext(wi)}const Ei=_e2.R=e.createContext(void 0);function Si(){return e.useContext(Ei)}const ki=_e2.L=e.createContext(void 0)}),1440,[880,29]);
__d((function(_g,_r,_i,_a,_m,_e,_d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.L=void 0,_e.a=function(...e){return c(...e.filter(l))},_e.c=function(n,o,t){return e.Children.map(n,(i=>e.isValidElement(i)&&e.Children.only(n)?(i.props.className&&(o??(o={}),o.className=r(i.props.className,o.className),o.style={...i.props.style,...o.style}),e.cloneElement(i,{...o,key:t})):i))},_e.m=c,_e.r=s,_e.u=u,_e.w=function(e){var o,t;if(typeof process<"u"&&("dev"===(null==(o=null==process?void 0:process.env)?void 0:o.NODE_ENV)||"development"===(null==(t=null==process?void 0:process.env)?void 0:t.NODE_ENV))){const e=document.querySelector(".lk-room-container");e&&!getComputedStyle(e).getPropertyValue("--lk-has-imported-styles")&&n.l.warn("It looks like you're not using the `@livekit/components-styles package`. To render the UI with the default styling, please import it in your layout or page.")}};var e=(function(e,n){if("function"==typeof WeakMap)var o=new WeakMap,t=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var r,i,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(r=n?t:o){if(r.has(e))return r.get(e);r.set(e,c)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(i.get||i.set)?r(c,n,i):c[n]=e[n]);return c})(e,n)})(_r(_d[0])),n=_r(_d[1]),o=_r(_d[2]);function t(e){var n,o,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(o=t(e[n]))&&(r&&(r+=" "),r+=o)}else for(o in e)e[o]&&(r&&(r+=" "),r+=o);return r}function r(){for(var e,n,o=0,r="",i=arguments.length;o<i;o++)(e=arguments[o])&&(n=t(e))&&(r&&(r+=" "),r+=n);return r}function i(...e){return(...n)=>{for(const o of e)if("function"==typeof o)try{o(...n)}catch(e){console.error(e)}}}function c(...e){const n={...e[0]};for(let o=1;o<e.length;o++){const t=e[o];for(const e in t){const o=n[e],c=t[e];"function"==typeof o&&"function"==typeof c&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?n[e]=i(o,c):n[e]="className"!==e&&"UNSAFE_className"!==e||"string"!=typeof o||"string"!=typeof c?void 0!==c?c:o:r(o,c)}}return n}function l(e){return void 0!==e}function s(e,n){return"processor"===e&&n&&"object"==typeof n&&"name"in n?n.name:"e2ee"===e&&n?"e2ee-enabled":n}const a={connect:!0,audio:!1,video:!1};function u(t){const{token:r,serverUrl:i,options:l,room:u,connectOptions:f,connect:d,audio:p,video:v,screen:m,onConnected:y,onDisconnected:E,onError:g,onMediaDeviceFailure:h,onEncryptionError:b,simulateParticipants:k,...w}={...a,...t};l&&u&&n.l.warn("when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.");const[N,R]=e.useState(),P=e.useRef(d);e.useEffect((()=>{R(u??new o.Room(l))}),[u,JSON.stringify(l,s)]);const _=e.useMemo((()=>{const{className:e}=(0,n.s)();return c(w,{className:e})}),[w]);return e.useEffect((()=>{if(!N)return;const e=()=>{const e=N.localParticipant;n.l.debug("trying to publish local tracks"),Promise.all([e.setMicrophoneEnabled(!!p,"boolean"!=typeof p?p:void 0),e.setCameraEnabled(!!v,"boolean"!=typeof v?v:void 0),e.setScreenShareEnabled(!!m,"boolean"!=typeof m?m:void 0)]).catch((e=>{n.l.warn(e),null==g||g(e)}))},t=(e,n)=>{const t=o.MediaDeviceFailure.getFailure(e);null==h||h(t,n)},r=e=>{null==b||b(e)},i=e=>{null==E||E(e)},c=()=>{null==y||y()};return N.on(o.RoomEvent.SignalConnected,e).on(o.RoomEvent.MediaDevicesError,t).on(o.RoomEvent.EncryptionError,r).on(o.RoomEvent.Disconnected,i).on(o.RoomEvent.Connected,c),()=>{N.off(o.RoomEvent.SignalConnected,e).off(o.RoomEvent.MediaDevicesError,t).off(o.RoomEvent.EncryptionError,r).off(o.RoomEvent.Disconnected,i).off(o.RoomEvent.Connected,c)}}),[N,p,v,m,g,b,h,y,E]),e.useEffect((()=>{if(N){if(k)return void N.simulateParticipants({participants:{count:k},publish:{audio:!0,useRealTracks:!0}});if(d){if(P.current=!0,n.l.debug("connecting"),!r)return void n.l.debug("no token yet");if(!i)return n.l.warn("no livekit url provided"),void(null==g||g(Error("no livekit url provided")));N.connect(i,r,f).catch((e=>{n.l.warn(e),!0===P.current&&(null==g||g(e))}))}else n.l.debug("disconnecting because connect is false"),P.current=!1,N.disconnect()}}),[d,r,JSON.stringify(f),N,g,i,k]),e.useEffect((()=>{if(N)return()=>{n.l.info("disconnecting on onmount"),N.disconnect()}}),[N]),{room:N,htmlProps:_}}_e.L=e.forwardRef((function(o,t){const{room:r,htmlProps:i}=u(o);return e.createElement("div",{ref:t,...i},r&&e.createElement(n.R.Provider,{value:r},e.createElement(n.L.Provider,{value:o.featureFlags},o.children)))}))}),1441,[29,1440,880]);
__d((function(_g,_r,_i,_a,_m,_e,_d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.AudioConference=function({...t}){const[r,o]=e.useState({showChat:!1,unreadMessages:0}),s=(0,a.t)([c.Track.Source.Microphone]);return i(),e.createElement(n.L,{onWidgetChange:o},e.createElement("div",{className:"lk-audio-conference",...t},e.createElement("div",{className:"lk-audio-conference-stage"},e.createElement(n.j,{tracks:s},e.createElement(n.k,null))),e.createElement(m,{controls:{microphone:!0,screenShare:!1,camera:!1,chat:!0}}),r.showChat&&e.createElement(l,null)))},_e.Chat=l,_e.ControlBar=m,_e.MediaDeviceMenu=o,_e.PreJoin=function({defaults:t={},onValidate:l,onSubmit:u,onError:d,debug:m,joinLabel:v="Join Room",micLabel:p="Microphone",camLabel:f="Camera",userLabel:h="Username",persistUserChoices:E=!0,videoProcessor:g,...k}){const{userChoices:b,saveAudioInputDeviceId:S,saveAudioInputEnabled:C,saveVideoInputDeviceId:w,saveVideoInputEnabled:D,saveUsername:y}=(0,a.x)({defaults:t,preventSave:!E,preventLoad:!E}),[N,I]=e.useState(b),[M,T]=e.useState(N.audioEnabled),[P,A]=e.useState(N.videoEnabled),[L,R]=e.useState(N.audioDeviceId),[_,V]=e.useState(N.videoDeviceId),[$,j]=e.useState(N.username);e.useEffect((()=>{C(M)}),[M,C]),e.useEffect((()=>{D(P)}),[P,D]),e.useEffect((()=>{S(L)}),[L,S]),e.useEffect((()=>{w(_)}),[_,w]),e.useEffect((()=>{y($)}),[$,y]);const x=s({audio:!!M&&{deviceId:b.audioDeviceId},video:!!P&&{deviceId:b.videoDeviceId,processor:g}},d),O=e.useRef(null),F=e.useMemo((()=>null==x?void 0:x.filter((e=>e.kind===c.Track.Kind.Video))[0]),[x]),U=e.useMemo((()=>{if(F){const{facingMode:e}=(0,c.facingModeFromLocalTrack)(F);return e}return"undefined"}),[F]),W=e.useMemo((()=>null==x?void 0:x.filter((e=>e.kind===c.Track.Kind.Audio))[0]),[x]);e.useEffect((()=>(O.current&&F&&(F.unmute(),F.attach(O.current)),()=>{null==F||F.detach()})),[F]);const[q,B]=e.useState(),K=e.useCallback((e=>"function"==typeof l?l(e):""!==e.username),[l]);return e.useEffect((()=>{const e={username:$,videoEnabled:P,videoDeviceId:_,audioEnabled:M,audioDeviceId:L};I(e),B(K(e))}),[$,P,K,M,L,_]),i(),e.createElement("div",{className:"lk-prejoin",...k},e.createElement("div",{className:"lk-video-container"},F&&e.createElement("video",{ref:O,width:"1280",height:"720","data-lk-facing-mode":U}),(!F||!P)&&e.createElement("div",{className:"lk-camera-off-note"},e.createElement(n.b,null))),e.createElement("div",{className:"lk-button-group-container"},e.createElement("div",{className:"lk-button-group audio"},e.createElement(n.T,{initialState:M,source:c.Track.Source.Microphone,onChange:e=>T(e)},p),e.createElement("div",{className:"lk-button-group-menu"},e.createElement(o,{initialSelection:L,kind:"audioinput",disabled:!W,tracks:{audioinput:W},onActiveDeviceChange:(e,t)=>R(t)}))),e.createElement("div",{className:"lk-button-group video"},e.createElement(n.T,{initialState:P,source:c.Track.Source.Camera,onChange:e=>A(e)},f),e.createElement("div",{className:"lk-button-group-menu"},e.createElement(o,{initialSelection:_,kind:"videoinput",disabled:!F,tracks:{videoinput:F},onActiveDeviceChange:(e,t)=>V(t)})))),e.createElement("form",{className:"lk-username-container"},e.createElement("input",{className:"lk-form-control",id:"username",name:"username",type:"text",defaultValue:$,placeholder:h,onChange:e=>j(e.target.value),autoComplete:"off"}),e.createElement("button",{className:"lk-button lk-join-button",type:"submit",onClick:function(e){e.preventDefault(),K(N)?"function"==typeof u&&u(N):r.l.warn("Validation failed with: ",N)},disabled:!q},v)),m&&e.createElement(e.Fragment,null,e.createElement("strong",null,"User Choices:"),e.createElement("ul",{className:"lk-list",style:{overflow:"hidden",maxWidth:"15rem"}},e.createElement("li",null,"Username: ",`${N.username}`),e.createElement("li",null,"Video Enabled: ",`${N.videoEnabled}`),e.createElement("li",null,"Audio Enabled: ",`${N.audioEnabled}`),e.createElement("li",null,"Video Device: ",`${N.videoDeviceId}`),e.createElement("li",null,"Audio Device: ",`${N.audioDeviceId}`))))},_e.VideoConference=function({chatMessageFormatter:t,chatMessageDecoder:o,chatMessageEncoder:s,SettingsComponent:u,...d}){var v,p;const[f,h]=e.useState({showChat:!1,unreadMessages:0,showSettings:!1}),E=e.useRef(null),g=(0,a.t)([{source:c.Track.Source.Camera,withPlaceholder:!0},{source:c.Track.Source.ScreenShare,withPlaceholder:!1}],{updateOnlyOn:[c.RoomEvent.ActiveSpeakersChanged],onlySubscribed:!1}),k=(0,r.ar)(),b=g.filter(r.a1).filter((e=>e.publication.source===c.Track.Source.ScreenShare)),S=null==(v=(0,a.B)(k))?void 0:v[0],C=g.filter((e=>!(0,r.as)(e,S)));return e.useEffect((()=>{var e,t,n,a,c,l;if(b.some((e=>e.publication.isSubscribed))&&null===E.current?(r.l.debug("Auto set screen share focus:",{newScreenShareTrack:b[0]}),null==(t=(e=k.pin).dispatch)||t.call(e,{msg:"set_pin",trackReference:b[0]}),E.current=b[0]):E.current&&!b.some((e=>{var t,n;return e.publication.trackSid===(null==(n=null==(t=E.current)?void 0:t.publication)?void 0:n.trackSid)}))&&(r.l.debug("Auto clearing screen share focus."),null==(a=(n=k.pin).dispatch)||a.call(n,{msg:"clear_pin"}),E.current=null),S&&!(0,r.a1)(S)){const e=g.find((e=>e.participant.identity===S.participant.identity&&e.source===S.source));e!==S&&(0,r.a1)(e)&&(null==(l=(c=k.pin).dispatch)||l.call(c,{msg:"set_pin",trackReference:e}))}}),[b.map((e=>`${e.publication.trackSid}_${e.publication.isSubscribed}`)).join(),null==(p=null==S?void 0:S.publication)?void 0:p.trackSid,g]),i(),e.createElement("div",{className:"lk-video-conference",...d},(0,r.at)()&&e.createElement(n.L,{value:k,onWidgetChange:e=>{r.l.debug("updating widget state",e),h(e)}},e.createElement("div",{className:"lk-video-conference-inner"},S?e.createElement("div",{className:"lk-focus-layout-wrapper"},e.createElement(n.F,null,e.createElement(n.g,{tracks:C},e.createElement(n.P,null)),S&&e.createElement(n.h,{trackRef:S}))):e.createElement("div",{className:"lk-grid-layout-wrapper"},e.createElement(n.G,{tracks:g},e.createElement(n.P,null))),e.createElement(m,{controls:{chat:!0,settings:!!u}})),e.createElement(l,{style:{display:f.showChat?"grid":"none"},messageFormatter:t,messageEncoder:s,messageDecoder:o}),u&&e.createElement("div",{className:"lk-settings-menu-modal",style:{display:f.showSettings?"block":"none"}},e.createElement(u,null))),e.createElement(n.R,null),e.createElement(n.i,null))},_e.VoiceAssistantControlBar=function({controls:r,saveUserChoices:l=!0,onDeviceError:i,...s}){const u={leave:!0,microphone:!0,...r},d=(0,a.A)(),{microphoneTrack:m,localParticipant:v}=(0,a.C)(),p=e.useMemo((()=>({participant:v,source:c.Track.Source.Microphone,publication:m})),[v,m]);d?u.microphone??(u.microphone=d.canPublish):u.microphone=!1;const f=(0,t.a)({className:"lk-agent-control-bar"},s),{saveAudioInputEnabled:h,saveAudioInputDeviceId:E}=(0,a.x)({preventSave:!l}),g=e.useCallback(((e,t)=>{t&&h(e)}),[h]);return e.createElement("div",{...f},u.microphone&&e.createElement("div",{className:"lk-button-group"},e.createElement(n.T,{source:c.Track.Source.Microphone,showIcon:!0,onChange:g,onDeviceError:e=>null==i?void 0:i({source:c.Track.Source.Microphone,error:e})},e.createElement(n.B,{trackRef:p,barCount:7,options:{minHeight:5}})),e.createElement("div",{className:"lk-button-group-menu"},e.createElement(o,{kind:"audioinput",onActiveDeviceChange:(e,t)=>E(t??"default")}))),u.leave&&e.createElement(n.D,null,"Disconnect"),e.createElement(n.f,null))},_e.usePreviewDevice=function(t,n,l){const[o,i]=e.useState(null),[s,u]=e.useState(!1),d=(0,a.y)({kind:l}),[m,v]=e.useState(void 0),[p,f]=e.useState(),[h,E]=e.useState(n);e.useEffect((()=>{E(n)}),[n]);const g=async(e,t)=>{try{const n="videoinput"===t?await(0,c.createLocalVideoTrack)({deviceId:e,resolution:c.VideoPresets.h720.resolution}):await(0,c.createLocalAudioTrack)({deviceId:e}),a=await n.getDeviceId(!1);a&&e!==a&&(b.current=a,E(a)),f(n)}catch(e){e instanceof Error&&i(e)}},k=async(e,t)=>{await e.setDeviceId(t),b.current=t},b=e.useRef(h);return e.useEffect((()=>{t&&!p&&!o&&!s&&(r.l.debug("creating track",l),u(!0),g(h,l).finally((()=>{u(!1)})))}),[t,p,o,s]),e.useEffect((()=>{p&&(t?null!=m&&m.deviceId&&b.current!==(null==m?void 0:m.deviceId)?(r.l.debug(`switching ${l} device from`,b.current,m.deviceId),k(p,m.deviceId)):(r.l.debug(`unmuting local ${l} track`),p.unmute()):(r.l.debug(`muting ${l} track`),p.mute().then((()=>r.l.debug(p.mediaStreamTrack)))))}),[p,m,t,l]),e.useEffect((()=>()=>{p&&(r.l.debug(`stopping local ${l} track`),p.stop(),p.mute())}),[]),e.useEffect((()=>{v(null==d?void 0:d.find((e=>e.deviceId===h)))}),[h,d]),{selectedDevice:m,localTrack:p,deviceError:o}},_e.usePreviewTracks=s;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,c,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(r=t?a:n){if(r.has(e))return r.get(e);r.set(e,l)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((c=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(c.get||c.set)?r(l,t,c):l[t]=e[t]);return l})(e,t)})(_r(_d[0])),t=_r(_d[1]),n=_r(_d[2]),a=_r(_d[3]),r=_r(_d[4]),c=_r(_d[5]);function l({messageFormatter:c,messageDecoder:l,messageEncoder:o,channelTopic:i,...s}){const u=e.useRef(null),d=e.useRef(null),m=e.useMemo((()=>({messageDecoder:l,messageEncoder:o,channelTopic:i})),[l,o,i]),{chatMessages:v,send:p,isSending:f}=(0,a.w)(m),h=(0,r.j)(),E=e.useRef(0);return e.useEffect((()=>{var e;u&&(null==(e=u.current)||e.scrollTo({top:u.current.scrollHeight}))}),[u,v]),e.useEffect((()=>{var e,t,n,a,r;if(!h||0===v.length)return;if(null!=(e=h.widget.state)&&e.showChat&&v.length>0&&E.current!==(null==(t=v[v.length-1])?void 0:t.timestamp))return void(E.current=null==(n=v[v.length-1])?void 0:n.timestamp);const c=v.filter((e=>!E.current||e.timestamp>E.current)).length,{widget:l}=h;c>0&&(null==(a=l.state)?void 0:a.unreadMessages)!==c&&(null==(r=l.dispatch)||r.call(l,{msg:"unread_msg",count:c}))}),[v,null==h?void 0:h.widget]),e.createElement("div",{...s,className:"lk-chat"},e.createElement("div",{className:"lk-chat-header"},"Messages",h&&e.createElement(n.C,{className:"lk-close-button"},e.createElement(n.S,null))),e.createElement("ul",{className:"lk-list lk-chat-messages",ref:u},s.children?v.map(((e,n)=>(0,t.c)(s.children,{entry:e,key:e.id??n,messageFormatter:c}))):v.map(((t,a,r)=>{const l=a>=1&&r[a-1].from===t.from,o=a>=1&&t.timestamp-r[a-1].timestamp<6e4;return e.createElement(n.a,{key:t.id??a,hideName:l,hideTimestamp:!1!==l&&o,entry:t,messageFormatter:c})}))),e.createElement("form",{className:"lk-chat-form",onSubmit:async function(e){e.preventDefault(),d.current&&""!==d.current.value.trim()&&(await p(d.current.value),d.current.value="",d.current.focus())}},e.createElement("input",{className:"lk-form-control lk-chat-form-input",disabled:f,ref:d,type:"text",placeholder:"Enter a message...",onInput:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),onKeyUp:e=>e.stopPropagation()}),e.createElement("button",{type:"submit",className:"lk-button lk-chat-form-button",disabled:f},"Send")))}function o({kind:t,initialSelection:a,onActiveDeviceChange:c,tracks:l,requestPermissions:o=!1,...i}){const[s,u]=e.useState(!1),[d,m]=e.useState([]),[v,p]=e.useState(!0),[f,h]=e.useState(o),E=(e,t)=>{r.l.debug("handle device change"),u(!1),null==c||c(e,t)},g=e.useRef(null),k=e.useRef(null);e.useLayoutEffect((()=>{s&&h(!0)}),[s]),e.useLayoutEffect((()=>{let e;return g.current&&k.current&&(d||v)&&(e=(0,r.ao)(g.current,k.current,((e,t)=>{k.current&&Object.assign(k.current.style,{left:`${e}px`,top:`${t}px`})}))),p(!1),()=>{null==e||e()}}),[g,k,d,v]);const b=e.useCallback((e=>{k.current&&e.target!==g.current&&s&&(0,r.ap)(k.current,e)&&u(!1)}),[s,k,g]);return e.useEffect((()=>(document.addEventListener("click",b),()=>{document.removeEventListener("click",b)})),[b]),e.createElement(e.Fragment,null,e.createElement("button",{className:"lk-button lk-button-menu","aria-pressed":s,...i,onClick:()=>u(!s),ref:g},i.children),!i.disabled&&e.createElement("div",{className:"lk-device-menu",ref:k,style:{visibility:s?"visible":"hidden"}},t?e.createElement(n.M,{initialSelection:a,onActiveDeviceChange:e=>E(t,e),onDeviceListChange:m,kind:t,track:null==l?void 0:l[t],requestPermissions:f}):e.createElement(e.Fragment,null,e.createElement("div",{className:"lk-device-menu-heading"},"Audio inputs"),e.createElement(n.M,{kind:"audioinput",onActiveDeviceChange:e=>E("audioinput",e),onDeviceListChange:m,track:null==l?void 0:l.audioinput,requestPermissions:f}),e.createElement("div",{className:"lk-device-menu-heading"},"Video inputs"),e.createElement(n.M,{kind:"videoinput",onActiveDeviceChange:e=>E("videoinput",e),onDeviceListChange:m,track:null==l?void 0:l.videoinput,requestPermissions:f}))))}function i(){e.useEffect((()=>{(0,t.w)()}),[])}function s(n,a){const[l,o]=e.useState(),i=e.useMemo((()=>new c.Mutex),[]);return e.useEffect((()=>{let e=!1,t=[];return i.lock().then((async l=>{try{(n.audio||n.video)&&(t=await(0,c.createLocalTracks)(n),e?t.forEach((e=>e.stop())):o(t))}catch(e){a&&e instanceof Error?a(e):r.l.error(e)}finally{l()}})),()=>{e=!0,t.forEach((e=>{e.stop()}))}}),[JSON.stringify(n,t.r),a,i]),l}function u({props:n}){const{dispatch:a,state:c}=(0,r.a)().widget,l="lk-button lk-settings-toggle";return{mergedProps:e.useMemo((()=>(0,t.m)(n,{className:l,onClick:()=>{a&&a({msg:"toggle_settings"})},"aria-pressed":null!=c&&c.showSettings?"true":"false"})),[n,l,a,c])}}const d=e.forwardRef((function(t,n){const{mergedProps:a}=u({props:t});return e.createElement("button",{ref:n,...a},t.children)}));function m({variation:l,controls:i,saveUserChoices:s=!0,onDeviceError:u,...m}){var v;const[p,f]=e.useState(!1),h=(0,r.j)();e.useEffect((()=>{var e,t;void 0!==(null==(e=null==h?void 0:h.widget.state)?void 0:e.showChat)&&f(null==(t=null==h?void 0:h.widget.state)?void 0:t.showChat)}),[null==(v=null==h?void 0:h.widget.state)?void 0:v.showChat]);const E=(0,a.z)(`(max-width: ${p?1e3:760}px)`)?"minimal":"verbose";l??(l=E);const g={leave:!0,...i},k=(0,a.A)();k?(g.camera??(g.camera=k.canPublish),g.microphone??(g.microphone=k.canPublish),g.screenShare??(g.screenShare=k.canPublish),g.chat??(g.chat=k.canPublishData&&(null==i?void 0:i.chat))):(g.camera=!1,g.chat=!1,g.microphone=!1,g.screenShare=!1);const b=e.useMemo((()=>"minimal"===l||"verbose"===l),[l]),S=e.useMemo((()=>"textOnly"===l||"verbose"===l),[l]),C=(0,r.aq)(),[w,D]=e.useState(!1),y=e.useCallback((e=>{D(e)}),[D]),N=(0,t.a)({className:"lk-control-bar"},m),{saveAudioInputEnabled:I,saveVideoInputEnabled:M,saveAudioInputDeviceId:T,saveVideoInputDeviceId:P}=(0,a.x)({preventSave:!s}),A=e.useCallback(((e,t)=>t?I(e):null),[I]),L=e.useCallback(((e,t)=>t?M(e):null),[M]);return e.createElement("div",{...N},g.microphone&&e.createElement("div",{className:"lk-button-group"},e.createElement(n.T,{source:c.Track.Source.Microphone,showIcon:b,onChange:A,onDeviceError:e=>null==u?void 0:u({source:c.Track.Source.Microphone,error:e})},S&&"Microphone"),e.createElement("div",{className:"lk-button-group-menu"},e.createElement(o,{kind:"audioinput",onActiveDeviceChange:(e,t)=>T(t??"default")}))),g.camera&&e.createElement("div",{className:"lk-button-group"},e.createElement(n.T,{source:c.Track.Source.Camera,showIcon:b,onChange:L,onDeviceError:e=>null==u?void 0:u({source:c.Track.Source.Camera,error:e})},S&&"Camera"),e.createElement("div",{className:"lk-button-group-menu"},e.createElement(o,{kind:"videoinput",onActiveDeviceChange:(e,t)=>P(t??"default")}))),g.screenShare&&C&&e.createElement(n.T,{source:c.Track.Source.ScreenShare,captureOptions:{audio:!0,selfBrowserSurface:"include"},showIcon:b,onChange:y,onDeviceError:e=>null==u?void 0:u({source:c.Track.Source.ScreenShare,error:e})},S&&(w?"Stop screen share":"Share screen")),g.chat&&e.createElement(n.C,null,b&&e.createElement(n.c,null),S&&"Chat"),g.settings&&e.createElement(d,null,b&&e.createElement(n.d,null),S&&"Settings"),g.leave&&e.createElement(n.D,null,b&&e.createElement(n.e,null),S&&"Leave"),e.createElement(n.f,null))}}),1442,[29,1441,1443,1439,1440,880]);
__d((function(_g,_r,_i,_a,_m,_e,_d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.E=_e.D=_e.C=_e.B=_e.A=void 0,_e.F=function(e){const n=(0,a.a)(e,{className:"lk-focus-layout"});return t.createElement("div",{...n},e.children)},_e.G=function({tracks:e,...r}){const l=t.createRef(),c=t.useMemo((()=>(0,a.a)(r,{className:"lk-grid-layout"})),[r]),{layout:i}=(0,n.n)(l,e.length),o=(0,n.o)(i.maxTiles,e);return(0,n.p)(l,{onLeftSwipe:o.nextPage,onRightSwipe:o.prevPage}),t.createElement("div",{ref:l,"data-lk-pagination":o.totalPageCount>1,...c},t.createElement(_,{tracks:o.tracks},r.children),e.length>i.maxTiles&&t.createElement(t.Fragment,null,t.createElement($,{totalPageCount:o.totalPageCount,currentPage:o.currentPage}),t.createElement(D,{pagesContainer:l,...o})))},_e.K=_e.J=_e.I=_e.H=void 0,_e.L=function({value:e,onPinChange:n,onWidgetChange:a,children:r}){const c=(0,l.al)(e);return t.useEffect((()=>{l.l.debug("PinState Updated",{state:c.pin.state}),n&&c.pin.state&&n(c.pin.state)}),[c.pin.state,n]),t.useEffect((()=>{l.l.debug("Widget Updated",{widgetState:c.widget.state}),a&&c.widget.state&&a(c.widget.state)}),[a,c.widget.state]),t.createElement(l.ac.Provider,{value:c},r)},_e.Q=_e.P=_e.O=_e.N=_e.M=void 0,_e.R=function({volume:e,muted:a}){const c=(0,n.t)([r.Track.Source.Microphone,r.Track.Source.ScreenShareAudio,r.Track.Source.Unknown],{updateOnlyOn:[],onlySubscribed:!0}).filter((e=>!e.participant.isLocal&&e.publication.kind===r.Track.Kind.Audio));return t.createElement("div",{style:{display:"none"}},c.map((n=>t.createElement(F,{key:(0,l.p)(n),trackRef:n,volume:e,muted:a}))))},_e.f=_e.e=_e.d=_e.c=_e.b=_e.a=_e._=_e.Z=_e.Y=_e.X=_e.W=_e.V=_e.U=_e.T=_e.S=void 0,_e.g=function({tracks:e,orientation:a,...r}){const c=t.useRef(null),[i,o]=t.useState(0),{width:s,height:u}=(0,n.q)(c),d=a||(u>=s?"vertical":"horizontal"),m="vertical"===d?Math.max(s*Y,q):Math.max(u*Q,U),f=(0,l.ak)(),h=Math.max("vertical"===d?(u-f)/m:(s-f)/m,B);let p=Math.round(h);Math.abs(h-i)<.5?p=Math.round(i):i!==h&&o(h);const v=(0,n.r)(e,p);return t.useLayoutEffect((()=>{c.current&&(c.current.dataset.lkOrientation=d,c.current.style.setProperty("--lk-max-visible-tiles",p.toString()))}),[p,d]),t.createElement("aside",{key:d,className:"lk-carousel",ref:c,...r},t.createElement(_,{tracks:v},r.children))},_e.h=function({trackRef:e,...n}){return t.createElement(W,{trackRef:e,...n})},_e.i=function(e){const[a,l]=t.useState(void 0),c=(0,n.a)(e.room);return t.useEffect((()=>{switch(c){case r.ConnectionState.Reconnecting:l(t.createElement(t.Fragment,null,t.createElement(w,{className:"lk-spinner"})," Reconnecting"));break;case r.ConnectionState.Connecting:l(t.createElement(t.Fragment,null,t.createElement(w,{className:"lk-spinner"})," Connecting"));break;case r.ConnectionState.Disconnected:l(t.createElement(t.Fragment,null,"Disconnected"));break;default:l(void 0)}}),[c]),a?t.createElement(J,{className:"lk-toast-connection-state"},a):t.createElement(t.Fragment,null)},_e.j=_,_e.k=void 0,_e.l=J,_e.m=function(e){return(0,l.am)(e,(0,l.an)()).map(((e,n)=>{if("string"==typeof e)return e;{const a=e.content.toString(),r="url"===e.type?/^http(s?):\/\//.test(a)?a:`https://${a}`:`mailto:${a}`;return t.createElement("a",{className:"lk-chat-link",key:n,href:r,target:"_blank",rel:"noreferrer"},a)}}))},_e.u=_e.t=_e.s=_e.r=_e.q=_e.p=_e.o=_e.n=void 0,_e.v=function({participants:e,...n}){return t.createElement(t.Fragment,null,e.map((e=>t.createElement(l.ag.Provider,{value:e,key:e.identity},(0,a.c)(n.children)))))},_e.w=void 0,_e.x=j,_e.y=H,_e.z=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,l,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(r=t?a:n){if(r.has(e))return r.get(e);r.set(e,c)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(l.get||l.set)?r(c,t,l):c[t]=e[t]);return c})(e,t)})(_r(_d[0])),t=e,n=_r(_d[1]),a=_r(_d[2]),r=_r(_d[3]),l=_r(_d[4]);_e.n=t.forwardRef((function(e,a){const{buttonProps:r}=(0,n.u)(e);return t.createElement("button",{ref:a,...r},e.children)})),_e.o=t.forwardRef((function({room:e,...a},r){const l=(0,n.a)(e);return t.createElement("div",{ref:r,...a},l)})),_e.C=t.forwardRef((function(e,a){const{mergedProps:r}=(0,n.b)({props:e});return t.createElement("button",{ref:a,...r},e.children)})),_e.D=t.forwardRef((function(e,a){const{buttonProps:r}=(0,n.c)(e);return t.createElement("button",{ref:a,...r},e.children)}));const c=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},t.createElement("path",{d:"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z"}),t.createElement("path",{d:"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),i=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},t.createElement("path",{d:"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),o=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},t.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})),s=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},t.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},t.createElement("path",{d:"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9"}))),u=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},t.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M4 6.104V4a4 4 0 1 1 8 0v2.104c1.154.326 2 1.387 2 2.646v4.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-4.5c0-1.259.846-2.32 2-2.646ZM5.5 4a2.5 2.5 0 0 1 5 0v2h-5V4Z",clipRule:"evenodd"})),d=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},t.createElement("path",{d:"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z"}),t.createElement("path",{d:"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z"})),m=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},t.createElement("path",{fillRule:"evenodd",d:"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z",clipRule:"evenodd"}),t.createElement("path",{d:"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z"})),f=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor",...e},t.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),t.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"})),h=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor",...e},t.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),t.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),t.createElement("g",{opacity:.25},t.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),t.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),p=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor",...e},t.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),t.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),t.createElement("g",{opacity:.25},t.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),t.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),t.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),v=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},t.createElement("g",{opacity:.25},t.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}),t.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}))),g=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none",...e},t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z",clipRule:"evenodd"})),E=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none",...e},t.createElement("g",{fill:"currentColor"},t.createElement("path",{d:"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z"}),t.createElement("path",{fillRule:"evenodd",d:"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z",clipRule:"evenodd"}))),w=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0Z",clipRule:"evenodd"}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 12a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 12Z",clipRule:"evenodd",opacity:.7}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 1.072a.75.75 0 0 1 .274 1.024l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 12 1.072Z",clipRule:"evenodd"}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 11.464a.75.75 0 0 1 .274 1.025l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 6 11.464Z",clipRule:"evenodd",opacity:.6}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 4a.75.75 0 0 1-.274 1.025l-2.165 1.25a.75.75 0 1 1-.75-1.3l2.165-1.25A.75.75 0 0 1 14.928 4Z",clipRule:"evenodd"}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 10a.75.75 0 0 1-.275 1.024l-2.165 1.25a.75.75 0 0 1-.75-1.298l2.165-1.25A.75.75 0 0 1 4.536 10Z",clipRule:"evenodd",opacity:.5}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16 8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 16 8Z",clipRule:"evenodd"}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 8Z",clipRule:"evenodd",opacity:.4}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 12a.75.75 0 0 1-1.024.274l-2.165-1.25a.75.75 0 0 1 .75-1.299l2.165 1.25A.75.75 0 0 1 14.928 12Z",clipRule:"evenodd",opacity:.9}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 6a.75.75 0 0 1-1.025.275l-2.165-1.25a.75.75 0 1 1 .75-1.3l2.165 1.25A.75.75 0 0 1 4.536 6Z",clipRule:"evenodd",opacity:.3}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 14.928a.75.75 0 0 1-1.024-.274l-1.25-2.165a.75.75 0 0 1 1.298-.75l1.25 2.165A.75.75 0 0 1 12 14.928Z",clipRule:"evenodd",opacity:.8}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 4.536a.75.75 0 0 1-1.024-.275l-1.25-2.165a.75.75 0 1 1 1.299-.75l1.25 2.165A.75.75 0 0 1 6 4.536Z",clipRule:"evenodd",opacity:.2})),k=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},t.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},t.createElement("path",{d:"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25"}))),b=_e.p=t.forwardRef((function({trackRef:e,...a},r){const c=(0,l.ab)(),{mergedProps:i,inFocus:o}=(0,n.d)({trackRef:e??c,props:a});return t.createElement(l.ac.Consumer,null,(e=>void 0!==e&&t.createElement("button",{ref:r,...i},a.children?a.children:o?t.createElement(k,null):t.createElement(s,null))))}));_e.M=t.forwardRef((function({kind:e,initialSelection:c,onActiveDeviceChange:i,onDeviceListChange:o,onDeviceSelectError:s,exactMatch:u,track:d,requestPermissions:m,onError:f,...h},p){const v=(0,l.w)(),g=t.useCallback((e=>{v&&v.emit(r.RoomEvent.MediaDevicesError,e),null==f||f(e)}),[v,f]),{devices:E,activeDeviceId:w,setActiveMediaDevice:k,className:b}=(0,n.e)({kind:e,room:v,track:d,requestPermissions:m,onError:g});t.useEffect((()=>{void 0!==c&&k(c)}),[k]),t.useEffect((()=>{"function"==typeof o&&o(E)}),[o,E]),t.useEffect((()=>{w&&""!==w&&(null==i||i(w))}),[w]);const R=async e=>{try{await k(e,{exact:u??!0})}catch(e){if(!(e instanceof Error))throw e;null==s||s(e)}},y=t.useMemo((()=>(0,a.a)(h,{className:b},{className:"lk-list"})),[b,h]),M=!!E.find((e=>e.label.toLowerCase().startsWith("default")));function C(e,t,n){return e===t||!M&&0===n&&"default"===t}return t.createElement("ul",{ref:p,...y},E.map(((e,n)=>t.createElement("li",{key:e.deviceId,id:e.deviceId,"data-lk-active":C(e.deviceId,w,n),"aria-selected":C(e.deviceId,w,n),role:"option"},t.createElement("button",{className:"lk-button",onClick:()=>R(e.deviceId)},e.label)))))})),_e.q=t.forwardRef((function({label:e="Allow Audio",...a},r){const c=(0,l.f)(),{mergedProps:i}=(0,n.f)({room:c,props:a});return t.createElement("button",{ref:r,...i},e)})),_e.f=t.forwardRef((function({label:e,...a},r){const c=(0,l.f)(),{mergedProps:i,canPlayAudio:o}=(0,n.f)({room:c,props:a}),{mergedProps:s,canPlayVideo:u}=(0,n.g)({room:c,props:i}),{style:d,...m}=s;return d.display=o&&u?"none":"block",t.createElement("button",{ref:r,style:d,...m},e??"Start "+(o?"Video":"Audio"))}));function R(e,n){switch(e){case r.Track.Source.Microphone:return n?t.createElement(m,null):t.createElement(d,null);case r.Track.Source.Camera:return n?t.createElement(i,null):t.createElement(c,null);case r.Track.Source.ScreenShare:return n?t.createElement(E,null):t.createElement(g,null);default:return}}function y(e){switch(e){case r.ConnectionQuality.Excellent:return t.createElement(f,null);case r.ConnectionQuality.Good:return t.createElement(h,null);case r.ConnectionQuality.Poor:return t.createElement(p,null);default:return t.createElement(v,null)}}_e._=k,_e.Z=w,_e.Y=E,_e.X=g,_e.W=v,_e.U=p,_e.Q=h,_e.O=f,_e.N=m,_e.K=d,_e.J=u,_e.e=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z",clipRule:"evenodd"}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z",clipRule:"evenodd"})),_e.d=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},t.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M8.961.894C8.875-.298 7.125-.298 7.04.894c-.066.912-1.246 1.228-1.76.472-.67-.99-2.186-.115-1.664.96.399.824-.465 1.688-1.288 1.289-1.076-.522-1.95.994-.961 1.665.756.513.44 1.693-.472 1.759-1.192.086-1.192 1.836 0 1.922.912.066 1.228 1.246.472 1.76-.99.67-.115 2.186.96 1.664.824-.399 1.688.465 1.289 1.288-.522 1.076.994 1.95 1.665.961.513-.756 1.693-.44 1.759.472.086 1.192 1.836 1.192 1.922 0 .066-.912 1.246-1.228 1.76-.472.67.99 2.186.115 1.664-.96-.399-.824.465-1.688 1.288-1.289 1.076.522 1.95-.994.961-1.665-.756-.513-.44-1.693.472-1.759 1.192-.086 1.192-1.836 0-1.922-.912-.066-1.228-1.246-.472-1.76.99-.67.115-2.186-.96-1.664-.824.399-1.688-.465-1.289-1.288.522-1.076-.994-1.95-1.665-.961-.513.756-1.693.44-1.759-.472ZM8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10Z",clipRule:"evenodd"})),_e.I=s,_e.H=o,_e.c=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:18,fill:"none",...e},t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"})),_e.S=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24",...e},t.createElement("path",{fill:"#FFF",d:"M4.99 3.99a1 1 0 0 0-.697 1.717L10.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414L12 13.414l6.293 6.293a1 1 0 1 0 1.414-1.414L13.414 12l6.293-6.293a1 1 0 0 0-.727-1.717 1 1 0 0 0-.687.303L12 10.586 5.707 4.293a1 1 0 0 0-.717-.303z"})),_e.E=i,_e.z=c;_e.T=t.forwardRef((function({showIcon:e,...a},r){const{buttonProps:l,enabled:c}=(0,n.h)(a),[i,o]=t.useState(!1);return t.useEffect((()=>{o(!0)}),[]),i&&t.createElement("button",{ref:r,...l},(e??!0)&&R(a.source,c),a.children)}));const M=_e.r=t.forwardRef((function(e,r){const{className:l,quality:c}=(0,n.i)(e),i=t.useMemo((()=>({...(0,a.a)(e,{className:l}),"data-lk-quality":c})),[c,e,l]);return t.createElement("div",{ref:r,...i},e.children??y(c))})),C=_e.t=t.forwardRef((function({participant:e,...r},c){const i=(0,l.c)(e),{className:o,infoObserver:s}=t.useMemo((()=>(0,l.ad)(i)),[i]),{identity:u,name:d}=(0,n.j)(s,{name:i.name,identity:i.identity,metadata:i.metadata}),m=t.useMemo((()=>(0,a.a)(r,{className:o,"data-lk-participant-name":d})),[r,o,d]);return t.createElement("span",{ref:c,...m},""!==d?d:u,r.children)})),S=_e.u=t.forwardRef((function({trackRef:e,show:r="always",...l},c){const{className:i,isMuted:o}=(0,n.k)(e),s="always"===r||"muted"===r&&o||"unmuted"===r&&!o,u=t.useMemo((()=>(0,a.a)(l,{className:i})),[i,l]);return s?t.createElement("div",{ref:c,...u,"data-lk-muted":o},l.children??R(e.source,!o)):null})),P=e=>t.createElement("svg",{width:320,height:320,viewBox:"0 0 320 320",preserveAspectRatio:"xMidYMid meet",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},t.createElement("path",{d:"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z",fill:"white",fillOpacity:.25}),t.createElement("path",{d:"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z",fill:"white",fillOpacity:.25}));function A(e,n={}){const[r,c]=t.useState((0,l.X)(e)),[i,o]=t.useState(null==r?void 0:r.isMuted),[s,u]=t.useState(null==r?void 0:r.isSubscribed),[d,m]=t.useState(null==r?void 0:r.track),[f,h]=t.useState("landscape"),p=t.useRef(),{className:v,trackObserver:g}=t.useMemo((()=>(0,l.Y)(e)),[e.participant.sid??e.participant.identity,e.source,(0,l.a1)(e)&&e.publication.trackSid]);return t.useEffect((()=>{const e=g.subscribe((e=>{l.l.debug("update track",e),c(e),o(null==e?void 0:e.isMuted),u(null==e?void 0:e.isSubscribed),m(null==e?void 0:e.track)}));return()=>null==e?void 0:e.unsubscribe()}),[g]),t.useEffect((()=>{var t,a;return d&&(p.current&&d.detach(p.current),null!=(t=n.element)&&t.current&&!(e.participant.isLocal&&"audio"===(null==d?void 0:d.kind))&&d.attach(n.element.current)),p.current=null==(a=n.element)?void 0:a.current,()=>{p.current&&(null==d||d.detach(p.current))}}),[d,n.element]),t.useEffect((()=>{var e,t;if("number"==typeof(null==(e=null==r?void 0:r.dimensions)?void 0:e.width)&&"number"==typeof(null==(t=null==r?void 0:r.dimensions)?void 0:t.height)){const e=r.dimensions.width>r.dimensions.height?"landscape":"portrait";h(e)}}),[r]),{publication:r,isMuted:i,isSubscribed:s,track:d,elementProps:(0,a.a)(n.props,{className:v,"data-lk-local-participant":e.participant.isLocal,"data-lk-source":null==r?void 0:r.source,..."video"===(null==r?void 0:r.kind)&&{"data-lk-orientation":f}})}}var x,N;_e.b=P;var z=(function(){if(N)return x;N=1;var e=/^\s+|\s+$/g,t=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,a=/^0o[0-7]+$/i,r=parseInt,c="object"==typeof l.ae&&l.ae&&l.ae.Object===Object&&l.ae,i="object"==typeof self&&self&&self.Object===Object&&self,o=c||i||Function("return this")(),s=Object.prototype.toString,u=Math.max,d=Math.min,m=function(){return o.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){return!!e&&"object"==typeof e}function p(e){return"symbol"==typeof e||h(e)&&"[object Symbol]"==s.call(e)}function v(l){if("number"==typeof l)return l;if(p(l))return NaN;if(f(l)){var c="function"==typeof l.valueOf?l.valueOf():l;l=f(c)?c+"":c}if("string"!=typeof l)return 0===l?l:+l;l=l.replace(e,"");var i=n.test(l);return i||a.test(l)?r(l.slice(2),i?2:8):t.test(l)?NaN:+l}return x=function(e,t,n){var a,r,l,c,i,o,s=0,h=!1,p=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function E(t){var n=a,l=r;return a=r=void 0,s=t,c=e.apply(l,n)}function w(e){return s=e,i=setTimeout(R,t),h?E(e):c}function k(e){var n=t-(e-o);return p?d(n,l-(e-s)):n}function b(e){var n=e-o;return void 0===o||n>=t||n<0||p&&e-s>=l}function R(){var e=m();if(b(e))return y(e);i=setTimeout(R,k(e))}function y(e){return i=void 0,g&&a?E(e):(a=r=void 0,c)}function M(){var e=m(),n=b(e);if(a=arguments,r=this,o=e,n){if(void 0===i)return w(o);if(p)return i=setTimeout(R,t),E(o)}return void 0===i&&(i=setTimeout(R,t)),c}return t=v(t)||0,f(n)&&(h=!!n.leading,l=(p="maxWait"in n)?u(v(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),M.cancel=function(){void 0!==i&&clearTimeout(i),s=0,a=o=r=i=void 0},M.flush=function(){return void 0===i?c:y(m())},M},x})();const Z=(0,l.af)(z);function I(t){const n=(0,e.useRef)(t);n.current=t,(0,e.useEffect)((()=>()=>{n.current()}),[])}function L(t,n=500,a){const r=(0,e.useRef)();I((()=>{r.current&&r.current.cancel()}));const l=(0,e.useMemo)((()=>{const e=Z(t,n,a),l=(...t)=>e(...t);return l.cancel=()=>{e.cancel()},l.isPending=()=>!!r.current,l.flush=()=>e.flush(),l}),[t,n,a]);return(0,e.useEffect)((()=>{r.current=Z(t,n,a)}),[t,n,a]),l}function T(t,n,a){const r=t instanceof Function?t():t,[l,c]=(0,e.useState)(r),i=(0,e.useRef)(r),o=L(c,n,a);return i.current===r||(o(r),i.current=r),[l,o]}function V({threshold:t=0,root:n=null,rootMargin:a="0%",freezeOnceVisible:r=!1,initialIsIntersecting:l=!1,onChange:c}={}){var i;const[o,s]=(0,e.useState)(null),[u,d]=(0,e.useState)((()=>({isIntersecting:l,entry:void 0}))),m=(0,e.useRef)();m.current=c;const f=(null==(i=u.entry)?void 0:i.isIntersecting)&&r;(0,e.useEffect)((()=>{if(!o||!("IntersectionObserver"in window)||f)return;const e=new IntersectionObserver((t=>{const n=Array.isArray(e.thresholds)?e.thresholds:[e.thresholds];t.forEach((e=>{const t=e.isIntersecting&&n.some((t=>e.intersectionRatio>=t));d({isIntersecting:t,entry:e}),m.current&&m.current(t,e)}))}),{threshold:t,root:n,rootMargin:a});return e.observe(o),()=>{e.disconnect()}}),[o,JSON.stringify(t),n,a,f,r]);const h=(0,e.useRef)(null);(0,e.useEffect)((()=>{var e;!o&&null!=(e=u.entry)&&e.target&&!r&&!f&&h.current!==u.entry.target&&(h.current=u.entry.target,d({isIntersecting:l,entry:void 0}))}),[o,u.entry,r,f,l]);const p=[s,!!u.isIntersecting,u.entry];return p.ref=p[0],p.isIntersecting=p[1],p.entry=p[2],p}const O=_e.V=t.forwardRef((function({onTrackClick:e,onClick:n,onSubscriptionStatusChanged:a,trackRef:c,manageSubscription:i,...o},s){const u=(0,l.i)(c),d=t.useRef(null);t.useImperativeHandle(s,(()=>d.current));const m=V({root:d.current}),[f]=T(m,3e3);t.useEffect((()=>{i&&u.publication instanceof r.RemoteTrackPublication&&!1===(null==f?void 0:f.isIntersecting)&&!1===(null==m?void 0:m.isIntersecting)&&u.publication.setSubscribed(!1)}),[f,u,i]),t.useEffect((()=>{i&&u.publication instanceof r.RemoteTrackPublication&&!0===(null==m?void 0:m.isIntersecting)&&u.publication.setSubscribed(!0)}),[m,u,i]);const{elementProps:h,publication:p,isSubscribed:v}=A(u,{element:d,props:o});t.useEffect((()=>{null==a||a(!!v)}),[v,a]);return t.createElement("video",{ref:d,...h,muted:!0,onClick:t=>{null==n||n(t),null==e||e({participant:null==u?void 0:u.participant,track:p})}})})),F=_e.s=t.forwardRef((function({trackRef:e,onSubscriptionStatusChanged:n,volume:a,...c},i){const o=(0,l.i)(e),s=t.useRef(null);t.useImperativeHandle(i,(()=>s.current));const{elementProps:u,isSubscribed:d,track:m,publication:f}=A(o,{element:s,props:c});return t.useEffect((()=>{null==n||n(!!d)}),[d,n]),t.useEffect((()=>{void 0===m||void 0===a||(m instanceof r.RemoteAudioTrack?m.setVolume(a):l.l.warn("Volume can only be set on remote audio tracks."))}),[a,m]),t.useEffect((()=>{void 0===f||void 0===c.muted||(f instanceof r.RemoteTrackPublication?f.setEnabled(!c.muted):l.l.warn("Can only call setEnabled on remote track publications."))}),[c.muted,f,m]),t.createElement("audio",{ref:s,...u})}));function j(e){const n=!!(0,l.B)();return e.participant&&!n?t.createElement(l.ag.Provider,{value:e.participant},e.children):t.createElement(t.Fragment,null,e.children)}function H(e){const n=!!(0,l.ab)();return e.trackRef&&!n?t.createElement(l.ah.Provider,{value:e.trackRef},e.children):t.createElement(t.Fragment,null,e.children)}const W=_e.P=t.forwardRef((function({trackRef:e,children:a,onParticipantClick:c,disableSpeakingIndicator:i,...o},s){var d,m;const f=(0,l.i)(e),{elementProps:h}=(0,n.l)({htmlProps:o,disableSpeakingIndicator:i,onParticipantClick:c,trackRef:f}),p=(0,n.m)(f.participant),v=(0,l.j)(),E=null==(d=(0,l.ai)())?void 0:d.autoSubscription,w=t.useCallback((e=>{f.source&&!e&&v&&v.pin.dispatch&&(0,l.m)(f,v.pin.state)&&v.pin.dispatch({msg:"clear_pin"})}),[f,v]);return t.createElement("div",{ref:s,style:{position:"relative"},...h},t.createElement(H,{trackRef:f},t.createElement(j,{participant:f.participant},a??t.createElement(t.Fragment,null,!(0,l.a1)(f)||"video"!==(null==(m=f.publication)?void 0:m.kind)&&f.source!==r.Track.Source.Camera&&f.source!==r.Track.Source.ScreenShare?(0,l.a1)(f)&&t.createElement(F,{trackRef:f,onSubscriptionStatusChanged:w}):t.createElement(O,{trackRef:f,onSubscriptionStatusChanged:w,manageSubscription:E}),t.createElement("div",{className:"lk-participant-placeholder"},t.createElement(P,null)),t.createElement("div",{className:"lk-participant-metadata"},t.createElement("div",{className:"lk-participant-metadata-item"},f.source===r.Track.Source.Camera?t.createElement(t.Fragment,null,p&&t.createElement(u,{style:{marginRight:"0.25rem"}}),t.createElement(S,{trackRef:{participant:f.participant,source:r.Track.Source.Microphone},show:"muted"}),t.createElement(C,null)):t.createElement(t.Fragment,null,t.createElement(g,{style:{marginRight:"0.25rem"}}),t.createElement(C,null,"'s screen"))),t.createElement(M,{className:"lk-participant-metadata-item"}))),t.createElement(b,{trackRef:f}))))}));function _({tracks:e,...n}){return t.createElement(t.Fragment,null,e.map((e=>t.createElement(l.ah.Provider,{value:e,key:(0,l.p)(e)},(0,a.c)(n.children)))))}function D({totalPageCount:e,nextPage:n,prevPage:a,currentPage:r,pagesContainer:c}){const[i,s]=t.useState(!1);return t.useEffect((()=>{let e;return c&&(e=(0,l.aj)(c.current,2e3).subscribe(s)),()=>{e&&e.unsubscribe()}}),[c]),t.createElement("div",{className:"lk-pagination-control","data-lk-user-interaction":i},t.createElement("button",{className:"lk-button",onClick:a},t.createElement(o,null)),t.createElement("span",{className:"lk-pagination-count"},`${r} of ${e}`),t.createElement("button",{className:"lk-button",onClick:n},t.createElement(o,null)))}const $=t.forwardRef((function({totalPageCount:e,currentPage:n},a){const r=new Array(e).fill("").map(((e,a)=>a+1===n?t.createElement("span",{"data-lk-active":!0,key:a}):t.createElement("span",{key:a})));return t.createElement("div",{ref:a,className:"lk-pagination-indicator"},r)}));const q=130,U=140,B=1,Q=1.6,Y=.6000000000000001;_e.A=t.forwardRef((function({trackRef:e,...a},r){const c=(0,l.i)(e),i=(0,n.s)(c,{bands:7,loPass:300});return t.createElement("svg",{ref:r,width:"100%",height:"100%",viewBox:"0 0 200 90",...a,className:"lk-audio-visualizer"},t.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%"}),t.createElement("g",{style:{transform:"translate(65px, 0)"}},i.map(((e,n)=>t.createElement("rect",{key:n,x:10*n,y:45-50*e/2,width:6,height:50*e})))))}));_e.w=t.forwardRef((function({childrenPosition:e="before",children:a,...r},l){const{name:c}=(0,n.v)();return t.createElement("span",{ref:l,...r},"before"===e&&a,c,"after"===e&&a)}));function J(e){const n=t.useMemo((()=>(0,a.a)(e,{className:"lk-toast"})),[e]);return t.createElement("div",{...n},e.children)}const K=e=>{const t=[];for(let n=0;n<e;n++)t.push([n,e-1-n]);return t},X=e=>[[Math.floor(e/2)],[-1]],G=(t,n,a)=>{const[r,l]=(0,e.useState)(0),[c,i]=(0,e.useState)([[]]);(0,e.useEffect)((()=>{if("thinking"===t)i(X(n));else if("connecting"===t||"initializing"===t){const e=[...K(n)];i(e)}else i("listening"===t?X(n):void 0===t||"speaking"===t?[new Array(n).fill(0).map(((e,t)=>t))]:[[]]);l(0)}),[t,n]);const o=(0,e.useRef)(null);return(0,e.useEffect)((()=>{let e=performance.now();const t=n=>{n-e>=a&&(l((e=>e+1)),e=n),o.current=requestAnimationFrame(t)};return o.current=requestAnimationFrame(t),()=>{null!==o.current&&cancelAnimationFrame(o.current)}}),[a,n,t,c.length]),c[r%c.length]},ee=new Map([["connecting",2e3],["initializing",2e3],["listening",500],["thinking",150]]),te=(e,t)=>{if(void 0===e)return 1e3;let n=ee.get(e);if(n&&"connecting"===e)n/=t;return n},ne=_e.B=t.forwardRef((function({state:e,options:r,barCount:c=15,trackRef:i,children:o,...s},u){const d=(0,a.a)(s,{className:"lk-audio-bar-visualizer"});let m=(0,l.ab)();i&&(m=i);const f=(0,n.s)(m,{bands:c,loPass:100,hiPass:200}),h=(null==r?void 0:r.minHeight)??20,p=(null==r?void 0:r.maxHeight)??100,v=G(e,c,te(e,c)??100);return t.createElement("div",{ref:u,...d,"data-lk-va-state":e},f.map(((e,n)=>o?(0,a.c)(o,{"data-lk-highlighted":v.includes(n),"data-lk-bar-index":n,className:"lk-audio-bar",style:{height:`${Math.min(p,Math.max(h,100*e+5))}%`}}):t.createElement("span",{key:n,"data-lk-highlighted":v.includes(n),"data-lk-bar-index":n,className:`lk-audio-bar ${v.includes(n)&&"lk-highlighted"}`,style:{height:`${Math.min(p,Math.max(h,100*e+5))}%`}}))))}));_e.k=t.forwardRef((function({children:e,disableSpeakingIndicator:a,onParticipantClick:r,trackRef:c,...i},o){const s=(0,l.i)(c),{elementProps:u}=(0,n.l)({trackRef:s,htmlProps:i,disableSpeakingIndicator:a,onParticipantClick:r});return t.createElement("div",{ref:o,style:{position:"relative",minHeight:"160px"},...u},t.createElement(l.ah.Provider,{value:s},e??t.createElement(t.Fragment,null,(0,l.a1)(s)&&t.createElement(F,{trackRef:s}),t.createElement(ne,{barCount:7,options:{minHeight:8}}),t.createElement("div",{className:"lk-participant-metadata"},t.createElement("div",{className:"lk-participant-metadata-item"},t.createElement(S,{trackRef:s}),t.createElement(C,null)),t.createElement(M,{className:"lk-participant-metadata-item"})))))}));_e.a=t.forwardRef((function({entry:e,hideName:n=!1,hideTimestamp:a=!1,messageFormatter:r,...l},c){var i,o,s,u;const d=t.useMemo((()=>r?r(e.message):e.message),[e.message,r]),m=!!e.editTimestamp,f=new Date(e.timestamp),h=typeof navigator<"u"?navigator.language:"en-US",p=(null==(i=e.from)?void 0:i.name)??(null==(o=e.from)?void 0:o.identity);return t.createElement("li",{ref:c,className:"lk-chat-entry",title:f.toLocaleTimeString(h,{timeStyle:"full"}),"data-lk-message-origin":null!=(s=e.from)&&s.isLocal?"local":"remote",...l},(!a||!n||m)&&t.createElement("span",{className:"lk-meta-data"},!n&&t.createElement("strong",{className:"lk-participant-name"},p),(!a||m)&&t.createElement("span",{className:"lk-timestamp"},m&&"edited ",f.toLocaleTimeString(h,{timeStyle:"short"}))),t.createElement("span",{className:"lk-message-body"},d),t.createElement("span",{className:"lk-message-attachements"},null==(u=e.attachedFiles)?void 0:u.map((e=>e.type.startsWith("image/")&&t.createElement("img",{style:{maxWidth:"300px",maxHeight:"300px"},key:e.name,src:URL.createObjectURL(e),alt:e.name})))))}))}),1443,[29,1439,1441,880,1440]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.useRNE2EEManager=function(t){let[o]=(0,u.useState)((()=>new n.RNKeyProvider(t.keyProviderOptions??{}))),[y]=(0,u.useState)((()=>new s.default(o)));return(0,u.useEffect)((()=>((async()=>{try{await o.setSharedKey(t.sharedKey)}catch(t){n.log.warn('unable to set shared key',t)}})(),()=>{})),[o,t.sharedKey]),(0,u.useEffect)((()=>()=>{o.dispose()}),[o]),{keyProvider:o,e2eeManager:y}};var s=t(r(d[1])),n=r(d[2]),u=r(d[3])}),1444,[20,1433,1389,29]);
__d((function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.useTrackVolume=function(l){var c;const s=l instanceof o.Track?l:null==l||null===(c=l.publication)||void 0===c?void 0:c.track,v=null==s?void 0:s.mediaStreamTrack,f=null!=v,_=(null==v?void 0:v._peerConnectionId)??-1,k=null==v?void 0:v.id;let[E,L]=(0,t.useState)(0);return(0,t.useEffect)((()=>{let l=Object(),o=null;return f&&(o=n.default.createVolumeProcessor(_,k),(0,u.addListener)(l,'LK_VOLUME_PROCESSED',(l=>{l.volume&&o&&l.id===o&&L(l.volume)}))),()=>{f&&((0,u.removeListener)(l),o&&n.default.deleteVolumeProcessor(o,_,k))}}),[f,_,k]),E};var o=r(d[1]),t=r(d[2]),u=r(d[3]),n=l(r(d[4]))}),1445,[20,880,29,1436,1432]);
__d((function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.useMultibandTrackVolume=function(n,s){var v;const f=n instanceof t.Track?n:null==n||null===(v=n.publication)||void 0===v?void 0:v.track,b=(0,u.useMemo)((()=>({...c,...s})),[JSON.stringify(s)]),_=null==f?void 0:f.mediaStreamTrack,M=null!=_,S=(null==_?void 0:_._peerConnectionId)??-1,k=null==_?void 0:_.id;let[p,y]=(0,u.useState)([]);return(0,u.useEffect)((()=>{let n=Object(),t=null;return M&&(t=o.default.createMultibandVolumeProcessor(b,S,k),(0,l.addListener)(n,'LK_MULTIBAND_PROCESSED',(n=>{n.magnitudes&&t&&n.id===t&&y(n.magnitudes)}))),()=>{M&&((0,l.removeListener)(n),t&&o.default.deleteMultibandVolumeProcessor(t,S,k))}}),[M,S,k,b]),p};var t=r(d[1]),u=r(d[2]),l=r(d[3]),o=n(r(d[4]));const c={bands:5,minFrequency:1e3,maxFrequency:8e3,updateInterval:40}}),1446,[20,880,29,1436,1432]);
__d((function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useBarAnimator=_e.BarVisualizer=void 0;var t=_r(d[1]),n=e(_r(d[2])),r=e(_r(d[3])),i=e(_r(d[4])),o=_r(d[5]),u=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?i(u,t,o):u[t]=e[t]);return u})(e,t)})(_r(d[6]));const l={maxHeight:1,minHeight:.2,barColor:'#888888',barWidth:24,barBorderRadius:12},s=new Map([['connecting',2e3],['initializing',2e3],['listening',500],['thinking',150]]),c=(e,t)=>{if(void 0===e)return 1e3;let n=s.get(e);if(n&&'connecting'===e)n/=t;return n};_e.BarVisualizer=({style:e={},state:r,barCount:s=5,trackRef:p,options:b})=>{let y=(0,t.useMaybeTrackRefContext)();p&&(y=p);const v=(0,u.useRef)([]).current;let M=(0,o.useMultibandTrackVolume)(y,{bands:s}),w={...l,...b};const k=h(r,s,c(r,s)??100);(0,u.useEffect)((()=>{let e=[];for(let t=0;t<s;t++){v[t]||(v[t]=new n.default.Value(.3));let r=.3;k.includes(t)&&(r=1),e.push(n.default.timing(v[t],{toValue:r,duration:250,useNativeDriver:!0}))}let t=n.default.parallel(e);return t.start(),()=>{t.stop()}}),[k,s,v]);let _=[];return M.forEach(((e,t)=>{let r=Math.min(w.maxHeight,Math.max(w.minHeight,e)),i=Math.min(100,Math.max(0,100*r+5)),o={opacity:v[t]??new n.default.Value(.3),backgroundColor:w.barColor,borderRadius:w.barBorderRadius,width:w.barWidth};_.push(u.default.createElement(n.default.View,{key:t,style:[{height:`${i}%`},o,f.volumeIndicator]}))})),u.default.createElement(i.default,{style:{...e,...f.container}},_)};const f=r.default.create({container:{flexDirection:'row',alignItems:'center',justifyContent:'space-evenly'},volumeIndicator:{borderRadius:12}}),h=(e,t,n)=>{const[r,i]=(0,u.useState)(0),[o,l]=(0,u.useState)([[]]);(0,u.useEffect)((()=>{if('thinking'===e)l(p(t));else if('connecting'===e||'initializing'===e){const e=[...b(t)];l(e)}else l('listening'===e?p(t):void 0===e?[new Array(t).fill(0).map(((e,t)=>t))]:[[]]);i(0)}),[e,t]);const s=(0,u.useRef)(null);return(0,u.useEffect)((()=>{let e=performance.now();const t=r=>{r-e>=n&&(i((e=>e+1)),e=r),s.current=requestAnimationFrame(t)};return s.current=requestAnimationFrame(t),()=>{null!==s.current&&cancelAnimationFrame(s.current)}}),[n,t,e,o.length]),o[r%o.length]};_e.useBarAnimator=h;const p=e=>[[Math.floor(e/2)],[-1]],b=e=>{const t=[[]];for(let n=0;n<e;n++)t.push([n,e-1-n]);return t}}),1447,[20,1438,307,144,313,1437,29]);
__d((function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.LiveKitRoom=function(r){const{room:n}=(0,e.useLiveKitRoom)(r);return t.createElement(t.Fragment,null,n&&t.createElement(e.RoomContext.Provider,{value:n},t.createElement(e.LKFeatureContext.Provider,{value:r.featureFlags},r.children)))};var e=_r(d[0]),t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(u.get||u.set)?o(i,t,u):i[t]=e[t]);return i})(e,t)})(_r(d[1]))}),1448,[1438,29]);
__d((function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.VideoTrack=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var i=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?r:i){if(n.has(e))return n.get(e);n.set(e,l)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?n(l,t,o):l[t]=e[t]);return l})(e,t)})(_r(d[1])),i=t,r=(e(_r(d[2])),e(_r(d[3]))),n=e(_r(d[4])),o=_r(d[5]),l=_r(d[6]),s=e(_r(d[7]));function u(e,t,i){return(t=c(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e){var t=h(e,"string");return"symbol"==typeof t?t:t+""}function h(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}_e.VideoTrack=(0,t.forwardRef)((({style:e={},trackRef:r,objectFit:u="cover",zOrder:c,mirror:h,iosPIP:b},y)=>{const[p]=(0,t.useState)((()=>{var e;let t=new f;return t.id=null==r||null===(e=r.publication)||void 0===e?void 0:e.trackSid,t})),_=(0,t.useCallback)((e=>p.onLayout(e)),[p]),k=(null==b?void 0:b.enabled)??!1,w=(0,t.useCallback)((e=>p.onVisibility(e||k)),[p,k]),T=null==r?void 0:r.publication.track,E=(0,t.useMemo)((()=>T instanceof o.RemoteVideoTrack&&T.isAdaptiveStream),[T]),[R,O]=(0,t.useState)(null==T?void 0:T.mediaStream);let P;return(0,t.useEffect)((()=>{if(O(null==T?void 0:T.mediaStream),T instanceof o.LocalVideoTrack){const e=e=>{O(null==e?void 0:e.mediaStream)};return T.on(o.TrackEvent.Restarted,e),()=>{T.off(o.TrackEvent.Restarted,e)}}return()=>{}}),[T]),(0,t.useEffect)((()=>T instanceof o.RemoteVideoTrack&&T.isAdaptiveStream?(null==T||T.observeElementInfo(p),()=>{null==T||T.stopObservingElementInfo(p)}):()=>{}),[T,p]),P=i.createElement(l.RTCView,{style:v.videoTrack,streamURL:(null==R?void 0:R.toURL())??'',objectFit:u,zOrder:c,mirror:h,ref:y}),i.createElement(n.default,{style:{...e,...v.container},onLayout:_},i.createElement(s.default,{onChange:w,style:v.videoTrack,disabled:!E,propKey:T},P))}));const v=r.default.create({container:{},videoTrack:{flex:1,width:'100%'}});class f{constructor(){u(this,"element",{}),u(this,"something",void 0),u(this,"id",void 0),u(this,"_width",0),u(this,"_height",0),u(this,"_observing",!1),u(this,"visible",!0),u(this,"visibilityChangedAt",void 0),u(this,"pictureInPicture",!1),u(this,"handleResize",void 0),u(this,"handleVisibilityChanged",void 0),u(this,"width",(()=>this._width)),u(this,"height",(()=>this._height))}observe(){this._observing=!0}stopObserving(){this._observing=!1}onLayout(e){let{width:t,height:i}=e.nativeEvent.layout;var r;(this._width=t,this._height=i,this._observing)&&(null===(r=this.handleResize)||void 0===r||r.call(this))}onVisibility(e){var t;this.visible!==e&&(this.visible=e,this.visibilityChangedAt=Date.now(),this._observing&&(null===(t=this.handleVisibilityChanged)||void 0===t||t.call(this)))}}}),1449,[20,29,121,144,313,880,1390,1450]);
__d((function(g,_r,_i,a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(t,e){if("function"==typeof WeakMap)var i=new WeakMap,r=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var s,n,l={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return l;if(s=e?r:i){if(s.has(t))return s.get(t);s.set(t,l)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((n=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(n.get||n.set)?s(l,e,n):l[e]=t[e]);return l})(t,e)})(_r(d[1])),i=t(_r(d[2])),r=t(_r(d[3]));function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},s.apply(null,arguments)}function n(t,e,i){return(e=l(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function l(t){var e=o(t,"string");return"symbol"==typeof e?e:e+""}function o(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class h{constructor(){n(this,"handlerRef",{id:-1})}get handler(){return this.handlerRef.id}set handler(t){this.handlerRef.id=t}clear(){clearTimeout(this.handlerRef.id)}}function u(t,e,i=new h){let r=!1;const s=()=>{i.handler=setTimeout((()=>{t((()=>{r=!0,i.clear()})),r||s()}),e)};return s(),i}class c extends e.Component{constructor(t){super(t),n(this,"lastValue",null),n(this,"interval",null),n(this,"view",null),n(this,"lastAppStateActive",!1),n(this,"appStateSubscription",null),n(this,"hasValidTimeout",((t,e)=>{let r=t??!1,s=e??1e3;return'active'===i.default.currentState&&!r&&s>0})),n(this,"handleAppStateChange",(t=>{let e='active'===t;this.lastAppStateActive!==e&&this.checkVisibility(),this.lastAppStateActive=e,this.hasValidTimeout(this.props.disabled,this.props.delay)?this.startWatching():this.stopWatching()})),n(this,"startWatching",(()=>{this.interval||(this.interval=u(this.checkVisibility,this.props.delay||1e3))})),n(this,"stopWatching",(()=>{var t;null===(t=this.interval)||void 0===t||t.clear(),this.interval=null})),n(this,"checkVisibility",(()=>{this.view&&('active'===i.default.currentState?this.view.measure(((t,e,i,r,s,n)=>{this.checkInViewPort(i,r)})):this.updateVisibility(!1))})),n(this,"checkInViewPort",((t,e)=>{let i;i=!(!t||!e),this.updateVisibility(i)})),n(this,"updateVisibility",(t=>{var e,i;this.lastValue!==t&&(this.lastValue=t,null===(e=(i=this.props).onChange)||void 0===e||e.call(i,t))})),this.state={rectTop:0,rectBottom:0}}componentDidMount(){this.lastAppStateActive='active'===i.default.currentState,this.appStateSubscription=i.default.addEventListener('change',this.handleAppStateChange),this.hasValidTimeout(this.props.disabled,this.props.delay)&&this.startWatching()}componentWillUnmount(){var t;null===(t=this.appStateSubscription)||void 0===t||t.remove(),this.appStateSubscription=null,this.stopWatching()}UNSAFE_componentWillReceiveProps(t){this.hasValidTimeout(t.disabled,t.delay)?(this.props.propKey!==t.propKey&&(this.lastValue=null),this.startWatching()):this.stopWatching()}render(){return e.default.createElement(r.default,s({collapsable:!1,ref:t=>{this.view=t}},this.props),this.props.children)}}_e.default=c}),1450,[20,29,393,313]);
__d((function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.VideoView=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var i=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=t?n:i){if(r.has(e))return r.get(e);r.set(e,s)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?r(s,t,o):s[t]=e[t]);return s})(e,t)})(_r(d[1])),i=t,n=e(_r(d[2])),r=e(_r(d[3])),o=_r(d[4]),s=_r(d[5]),l=e(_r(d[6]));function u(e,t,i){return(t=h(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e){var t=v(e,"string");return"symbol"==typeof t?t:t+""}function v(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}_e.VideoView=({style:e={},videoTrack:n,objectFit:u="cover",zOrder:h,mirror:v})=>{const[b]=(0,t.useState)((()=>{let e=new f;return e.id=null==n?void 0:n.sid,e.something=n,e})),y=(0,t.useCallback)((e=>b.onLayout(e)),[b]),p=(0,t.useCallback)((e=>b.onVisibility(e)),[b]),w=(0,t.useMemo)((()=>n instanceof o.RemoteVideoTrack&&n.isAdaptiveStream),[n]),[_,V]=(0,t.useState)(null==n?void 0:n.mediaStream);return(0,t.useEffect)((()=>{if(V(null==n?void 0:n.mediaStream),n instanceof o.LocalVideoTrack){const e=e=>{V(null==e?void 0:e.mediaStream)};return n.on(o.TrackEvent.Restarted,e),()=>{n.off(o.TrackEvent.Restarted,e)}}return()=>{}}),[n]),(0,t.useEffect)((()=>n instanceof o.RemoteVideoTrack&&n.isAdaptiveStream?(null==n||n.observeElementInfo(b),()=>{null==n||n.stopObservingElementInfo(b)}):()=>{}),[n,b]),i.createElement(r.default,{style:{...e,...c.container},onLayout:y},i.createElement(l.default,{onChange:p,style:c.videoView,disabled:!w,propKey:n},i.createElement(s.RTCView,{style:c.videoView,streamURL:(null==_?void 0:_.toURL())??'',objectFit:u,zOrder:h,mirror:v})))};const c=n.default.create({container:{},videoView:{flex:1,width:'100%'}});class f{constructor(){u(this,"element",{}),u(this,"something",void 0),u(this,"id",void 0),u(this,"_width",0),u(this,"_height",0),u(this,"_observing",!1),u(this,"visible",!0),u(this,"visibilityChangedAt",void 0),u(this,"pictureInPicture",!1),u(this,"handleResize",void 0),u(this,"handleVisibilityChanged",void 0),u(this,"width",(()=>this._width)),u(this,"height",(()=>this._height))}observe(){this._observing=!0}stopObserving(){this._observing=!1}onLayout(e){let{width:t,height:i}=e.nativeEvent.layout;var n;(this._width=t,this._height=i,this._observing)&&(null===(n=this.handleResize)||void 0===n||n.call(this))}onVisibility(e){var t;this.visible!==e&&(this.visible=e,this.visibilityChangedAt=Date.now(),this._observing&&(null===(t=this.handleVisibilityChanged)||void 0===t||t.call(this)))}}}),1451,[20,29,144,313,880,1390,1450]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useParticipant=function(c){const[o,u]=(0,n.useState)(!1),[,s]=(0,n.useState)(!1),[k,P]=(0,n.useState)(c.connectionQuality),[p,l]=(0,n.useState)(!1),[b,T]=(0,n.useState)(),[f,v]=(0,n.useState)([]),[S,E]=(0,n.useState)([]),[h,C]=(0,n.useState)(c.getTrackPublication(t.Track.Source.Camera)),[y,M]=(0,n.useState)(c.getTrackPublication(t.Track.Source.Microphone)),[U,L]=(0,n.useState)(c.getTrackPublication(t.Track.Source.ScreenShare));let Q;(0,n.useEffect)((()=>{const n=()=>{v(Array.from(c.trackPublications.values())),C(c.getTrackPublication(t.Track.Source.Camera)),M(c.getTrackPublication(t.Track.Source.Microphone)),L(c.getTrackPublication(t.Track.Source.ScreenShare)),E(Array.from(c.trackPublications.values()).filter((t=>t.isSubscribed&&void 0!==t.track)))},o=n=>{n.kind===t.Track.Kind.Audio?u(!0):n.kind===t.Track.Kind.Video&&s(!0)},k=n=>{n.kind===t.Track.Kind.Audio?u(!1):n.kind===t.Track.Kind.Video&&s(!1)},p=()=>{c.metadata&&T(c.metadata)},b=()=>{l(c.isSpeaking)},f=()=>{P(c.connectionQuality)};return c.on(t.ParticipantEvent.TrackMuted,o).on(t.ParticipantEvent.TrackUnmuted,k).on(t.ParticipantEvent.ParticipantMetadataChanged,p).on(t.ParticipantEvent.IsSpeakingChanged,b).on(t.ParticipantEvent.TrackPublished,n).on(t.ParticipantEvent.TrackUnpublished,n).on(t.ParticipantEvent.TrackSubscribed,n).on(t.ParticipantEvent.TrackUnsubscribed,n).on(t.ParticipantEvent.LocalTrackPublished,n).on(t.ParticipantEvent.LocalTrackUnpublished,n).on(t.ParticipantEvent.ConnectionQualityChanged,f),p(),b(),n(),()=>{c.off(t.ParticipantEvent.TrackMuted,o).off(t.ParticipantEvent.TrackUnmuted,k).off(t.ParticipantEvent.ParticipantMetadataChanged,p).off(t.ParticipantEvent.IsSpeakingChanged,b).off(t.ParticipantEvent.TrackPublished,n).off(t.ParticipantEvent.TrackUnpublished,n).off(t.ParticipantEvent.TrackSubscribed,n).off(t.ParticipantEvent.TrackUnsubscribed,n).off(t.ParticipantEvent.LocalTrackPublished,n).off(t.ParticipantEvent.LocalTrackUnpublished,n).off(t.ParticipantEvent.ConnectionQualityChanged,f)}}),[c]),c.audioTrackPublications.forEach((t=>{Q=t.isMuted})),void 0===Q&&(Q=!0);o!==Q&&u(Q);return{isLocal:c instanceof t.LocalParticipant,isSpeaking:p,connectionQuality:k,publications:f,subscribedTracks:S,cameraPublication:h,microphonePublication:y,screenSharePublication:U,metadata:b}};var t=r(d[0]),n=r(d[1])}),1452,[880,29]);
__d((function(g,r,i,_a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.sortParticipants=t,e.useRoom=function(a,c){const[s]=(0,n.useState)(),[u,v]=(0,n.useState)([]),[l,f]=(0,n.useState)([]),p=(null==c?void 0:c.sortParticipants)??t;return(0,n.useEffect)((()=>{const n=()=>{const o=Array.from(a.remoteParticipants.values()),n=[a.localParticipant];n.push(...o),p(n,a.localParticipant),v(n)},t=t=>{if(n(),t&&t.kind!==o.Track.Kind.Audio)return;const c=[];a.remoteParticipants.forEach((o=>{o.audioTrackPublications.forEach((o=>{o.audioTrack&&c.push(o.audioTrack)}))})),f(c)},c=t=>{t===o.ConnectionState.Connected&&n()};return a.once(o.RoomEvent.Disconnected,(()=>{a.off(o.RoomEvent.ParticipantConnected,n).off(o.RoomEvent.ParticipantDisconnected,n).off(o.RoomEvent.ActiveSpeakersChanged,n).off(o.RoomEvent.TrackSubscribed,t).off(o.RoomEvent.TrackUnsubscribed,t).off(o.RoomEvent.LocalTrackPublished,n).off(o.RoomEvent.LocalTrackUnpublished,n).off(o.RoomEvent.AudioPlaybackStatusChanged,n).off(o.RoomEvent.ConnectionStateChanged,c)})),a.on(o.RoomEvent.ConnectionStateChanged,c).on(o.RoomEvent.Reconnected,n).on(o.RoomEvent.ParticipantConnected,n).on(o.RoomEvent.ParticipantDisconnected,n).on(o.RoomEvent.ActiveSpeakersChanged,n).on(o.RoomEvent.TrackSubscribed,t).on(o.RoomEvent.TrackUnsubscribed,t).on(o.RoomEvent.LocalTrackPublished,n).on(o.RoomEvent.LocalTrackUnpublished,n).on(o.RoomEvent.AudioPlaybackStatusChanged,n),t(),()=>{a.disconnect()}}),[a,p]),{error:s,participants:u,audioTracks:l}};var o=r(d[0]),n=r(d[1]);function t(o,n){if(o.sort(((o,n)=>{var t,a;if(o.isSpeaking&&n.isSpeaking)return n.audioLevel-o.audioLevel;if(o.isSpeaking!==n.isSpeaking)return o.isSpeaking?-1:1;if(o.lastSpokeAt!==n.lastSpokeAt){var c,s;const t=(null===(c=o.lastSpokeAt)||void 0===c?void 0:c.getTime())??0;return((null===(s=n.lastSpokeAt)||void 0===s?void 0:s.getTime())??0)-t}const u=o.videoTrackPublications.size>0;return u!==n.videoTrackPublications.size>0?u?-1:1:((null===(t=o.joinedAt)||void 0===t?void 0:t.getTime())??0)-((null===(a=n.joinedAt)||void 0===a?void 0:a.getTime())??0)})),n){const t=o.indexOf(n);t>=0&&(o.splice(t,1),o.length>0?o.splice(1,0,n):o.push(n))}}}),1453,[880,29]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.log=void 0,e.setLogLevel=function(t,o={}){v.setLevel(t),(0,l.setLogLevel)(o.liveKitClientLogLevel??t)};var l=r(d[1]),o=t(r(d[2]));const v=e.log=o.default.getLogger('lk-react-native');v.setDefaultLevel('WARN')}),1454,[20,880,1174]);
__d((function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useIOSAudioManagement=function(e,c=!0,f){const[i,l]=(0,t.useState)(0),[s,p]=(0,t.useState)(0),_=(0,t.useMemo)((()=>o(i,s)),[i,s]);(0,t.useEffect)((()=>{let t=()=>{l(r(e)),p(u(e))};return t(),e.on(n.RoomEvent.Connected,t),()=>{e.off(n.RoomEvent.Connected,t)}}),[e]),(0,t.useEffect)((()=>()=>{}),[e,i,s]),(0,t.useEffect)((()=>{}),[_,f,c])};var t=_r(d[1]),n=(e(_r(d[2])),_r(d[3]));(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var r,u,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(r=t?o:n){if(r.has(e))return r.get(e);r.set(e,c)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(u.get||u.set)?r(c,t,u):c[t]=e[t])})(e,t)})(_r(d[4])),_r(d[5]);function o(e,t){return e>0&&t>0?'localAndRemote':e>0&&0===t?'localOnly':0===e&&t>0?'remoteOnly':'none'}function r(e){return e.localParticipant.audioTrackPublications.size}function u(e){var t=0;return e.remoteParticipants.forEach((e=>{t+=e.audioTrackPublications.size})),t}}),1455,[20,29,121,880,1431,1389]);
__d((function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]);if(r(d[2])()||r(d[3])()){var n=Symbol.iterator;m.exports=function(o){return null!=o&&void 0!==o[n]?o[n]():t(o)?Array.prototype[n].call(o):void 0}}else{var i=r(d[4]),p=r(d[5]),u=r(d[6]),f=u('%Map%',!0),s=u('%Set%',!0),v=r(d[7]),c=v('Array.prototype.push'),y=v('String.prototype.charCodeAt'),l=v('String.prototype.slice'),h=function(t,o){if(o+1>=t.length)return o+1;var n=y(t,o);if(n<55296||n>56319)return o+1;var i=y(t,o+1);return i<56320||i>57343?o+1:o+2},_=function(t){var o=0;return{next:function(){var n,i=o>=t.length;return i||(n=t[o],o+=1),{done:i,value:n}}}},S=function(o,n){if(i(o)||t(o))return _(o);if(p(o)){var u=0;return{next:function(){var t=h(o,u),n=l(o,u,t);return u=t,{done:t>o.length,value:n}}}}return n&&void 0!==o['_es6-shim iterator_']?o['_es6-shim iterator_']():void 0};if(f||s){var x=r(d[8]),M=r(d[9]),A=v('Map.prototype.forEach',!0),E=v('Set.prototype.forEach',!0);if('undefined'==typeof process||!process.versions||!process.versions.node)var b=v('Map.prototype.iterator',!0),C=v('Set.prototype.iterator',!0);var j=v('Map.prototype.@@iterator',!0)||v('Map.prototype._es6-shim iterator_',!0),k=v('Set.prototype.@@iterator',!0)||v('Set.prototype._es6-shim iterator_',!0),q=function(t){if(x(t)){if(b)return o(b(t));if(j)return j(t);if(A){var n=[];return A(t,(function(t,o){c(n,[o,t])})),_(n)}}if(M(t)){if(C)return o(C(t));if(k)return k(t);if(E){var i=[];return E(t,(function(t){c(i,t)})),_(i)}}};m.exports=function(t){return q(t)||S(t)}}else m.exports=function(t){if(null!=t)return S(t,!0)}}}),1456,[1457,1458,1199,1200,1464,1294,1179,1465,1466,1467]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(),n=r(d[1])('Object.prototype.toString'),o=function(o){return!(t&&o&&'object'==typeof o&&Symbol.toStringTag in o)&&'[object Arguments]'===n(o)},c=function(t){return!!o(t)||null!==t&&'object'==typeof t&&'length'in t&&'number'==typeof t.length&&t.length>=0&&'[object Array]'!==n(t)&&'callee'in t&&'[object Function]'===n(t.callee)},u=(function(){return o(arguments)})();o.isLegacyArguments=c,m.exports=u?o:c}),1457,[1281,1231]);
__d((function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),n='object'==typeof StopIteration?StopIteration:null;m.exports=function(o){if(!n)throw new e('this environment lacks StopIteration');t.set(o,'[[Done]]',!1);var u={next:function(){var e=t.get(this,'[[Iterator]]'),o=!!t.get(e,'[[Done]]');try{return{done:o,value:o?void 0:e.next()}}catch(o){if(t.set(e,'[[Done]]',!0),o!==n)throw o;return{done:!0,value:void 0}}}};return t.set(u,'[[Iterator]]',o),u}}),1458,[1459,1185]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1])(),n=r(d[2]),s={assert:function(t,f){if(!t||'object'!=typeof t&&'function'!=typeof t)throw new n('`O` is not an object');if('string'!=typeof f)throw new n('`slot` must be a string');if(o.assert(t),!s.has(t,f))throw new n('`'+f+'` is not present on `O`')},get:function(t,s){if(!t||'object'!=typeof t&&'function'!=typeof t)throw new n('`O` is not an object');if('string'!=typeof s)throw new n('`slot` must be a string');var f=o.get(t);return f&&f['$'+s]},has:function(s,f){if(!s||'object'!=typeof s&&'function'!=typeof s)throw new n('`O` is not an object');if('string'!=typeof f)throw new n('`slot` must be a string');var c=o.get(s);return!!c&&t(c,'$'+f)},set:function(t,s,f){if(!t||'object'!=typeof t&&'function'!=typeof t)throw new n('`O` is not an object');if('string'!=typeof s)throw new n('`slot` must be a string');var c=o.get(t);c||(c={},o.set(t,c)),c['$'+s]=f}};Object.freeze&&Object.freeze(s),m.exports=s}),1459,[1212,1460,1186]);
__d((function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),u=r(d[3]),s=r(d[4])||u||o;m.exports=function(){var o,u={assert:function(o){if(!u.has(o))throw new n('Side channel does not contain '+t(o))},delete:function(n){return!!o&&o.delete(n)},get:function(n){return o&&o.get(n)},has:function(n){return!!o&&o.has(n)},set:function(n,t){o||(o=s()),o.set(n,t)}};return u}}),1460,[1186,1243,1461,1462,1463]);
__d((function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),u=function(n,t,u){for(var o,f=n;null!=(o=f.next);f=o)if(o.key===t)return f.next=o.next,u||(o.next=n.next,n.next=o),o},o=function(n,t){if(n){var o=u(n,t);return o&&o.value}},f=function(n,t,o){var f=u(n,t);f?f.value=o:n.next={key:t,next:n.next,value:o}},c=function(n,t){return!!n&&!!u(n,t)},x=function(n,t){if(n)return u(n,t,!0)};m.exports=function(){var u,v={assert:function(u){if(!v.has(u))throw new t('Side channel does not contain '+n(u))},delete:function(n){var t=u&&u.next,o=x(u,n);return o&&t&&t===o&&(u=void 0),!!o},get:function(n){return o(u,n)},has:function(n){return c(u,n)},set:function(n,t){u||(u={next:void 0}),f(u,n,t)}};return v}}),1461,[1243,1186]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),p=r(d[3]),u=t('%Map%',!0),s=n('Map.prototype.get',!0),c=n('Map.prototype.set',!0),f=n('Map.prototype.has',!0),M=n('Map.prototype.delete',!0),h=n('Map.prototype.size',!0);m.exports=!!u&&function(){var t,n={assert:function(t){if(!n.has(t))throw new p('Side channel does not contain '+o(t))},delete:function(n){if(t){var o=M(t,n);return 0===h(t)&&(t=void 0),o}return!1},get:function(n){if(t)return s(t,n)},has:function(n){return!!t&&f(t,n)},set:function(n,o){t||(t=new u),c(t,n,o)}};return n}}),1462,[1179,1231,1243,1186]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),n=r(d[2]),f=r(d[3]),p=r(d[4]),c=t('%WeakMap%',!0),u=o('WeakMap.prototype.get',!0),s=o('WeakMap.prototype.set',!0),y=o('WeakMap.prototype.has',!0),h=o('WeakMap.prototype.delete',!0);m.exports=c?function(){var t,o,k={assert:function(t){if(!k.has(t))throw new p('Side channel does not contain '+n(t))},delete:function(n){if(c&&n&&('object'==typeof n||'function'==typeof n)){if(t)return h(t,n)}else if(f&&o)return o.delete(n);return!1},get:function(n){return c&&n&&('object'==typeof n||'function'==typeof n)&&t?u(t,n):o&&o.get(n)},has:function(n){return c&&n&&('object'==typeof n||'function'==typeof n)&&t?y(t,n):!!o&&o.has(n)},set:function(n,p){c&&n&&('object'==typeof n||'function'==typeof n)?(t||(t=new c),s(t,n,p)):f&&(o||(o=f()),o.set(n,p))}};return k}:f}),1463,[1179,1231,1243,1462,1186]);
__d((function(g,r,i,a,m,e,d){var t={}.toString;m.exports=Array.isArray||function(n){return'[object Array]'==t.call(n)}}),1464,[]);
__d((function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=n(t('String.prototype.indexOf'));m.exports=function(p,f){var u=t(p,!!f);return'function'==typeof u&&o(p,'.prototype.')>-1?n(u):u}}),1465,[1179,1177]);
__d((function(g,r,i,a,m,_e,d){'use strict';var t,n='function'==typeof Map&&Map.prototype?Map:null,e='function'==typeof Set&&Set.prototype?Set:null;n||(t=function(t){return!1});var o=n?Map.prototype.has:null,u=e?Set.prototype.has:null;t||o||(t=function(t){return!1}),m.exports=t||function(t){if(!t||'object'!=typeof t)return!1;try{if(o.call(t),u)try{u.call(t)}catch(t){return!0}return t instanceof n}catch(t){}return!1}}),1466,[]);
__d((function(g,r,i,a,m,_e,d){'use strict';var t,n='function'==typeof Map&&Map.prototype?Map:null,e='function'==typeof Set&&Set.prototype?Set:null;e||(t=function(t){return!1});var o=n?Map.prototype.has:null,u=e?Set.prototype.has:null;t||u||(t=function(t){return!1}),m.exports=t||function(t){if(!t||'object'!=typeof t)return!1;try{if(u.call(t),o)try{o.call(t)}catch(t){return!0}return t instanceof e}catch(t){}return!1}}),1467,[]);